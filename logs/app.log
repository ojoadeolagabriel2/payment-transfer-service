2021-07-02 06:25:18,923 WARN org.springframework.boot.ImageBanner [main] Image banner not printable: class path resource [banner.txt] (class java.lang.IllegalStateException: 'Unable to read image banner source')
2021-07-02 06:25:18,992 INFO org.springframework.boot.StartupInfoLogger [main] Starting PaymentApplicationService using Java 11.0.11 on adeolas-MacBook-Pro.local with PID 64431 (/Users/adeolaojo/Code/payment-transfer-service/target/classes started by adeolaojo in /Users/adeolaojo/Code/payment-transfer-service)
2021-07-02 06:25:18,993 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2021-07-02 06:25:19,722 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-07-02 06:25:19,768 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 37 ms. Found 2 JPA repository interfaces.
2021-07-02 06:25:20,060 INFO org.eclipse.jetty.util.log.Log [main] Logging initialized @2430ms to org.eclipse.jetty.util.log.Slf4jLog
2021-07-02 06:25:20,152 INFO org.springframework.boot.web.embedded.jetty.JettyServletWebServerFactory [main] Server initialized with port: 40000
2021-07-02 06:25:20,154 INFO org.eclipse.jetty.server.Server [main] jetty-9.4.42.v20210604; built: 2021-06-04T17:33:38.939Z; git: 5cd5e6d2375eeab146813b0de9f19eda6ab6e6cb; jvm 11.0.11+9-b1341.57
2021-07-02 06:25:20,173 INFO org.eclipse.jetty.server.handler.ContextHandler$Context [main] Initializing Spring embedded WebApplicationContext
2021-07-02 06:25:20,173 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1137 ms
2021-07-02 06:25:20,266 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2021-07-02 06:25:20,354 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2021-07-02 06:25:20,359 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [main] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2021-07-02 06:25:20,436 INFO org.eclipse.jetty.server.session.DefaultSessionIdManager [main] DefaultSessionIdManager workerName=node0
2021-07-02 06:25:20,436 INFO org.eclipse.jetty.server.session.DefaultSessionIdManager [main] No SessionScavenger set, using defaults
2021-07-02 06:25:20,437 INFO org.eclipse.jetty.server.session.HouseKeeper [main] node0 Scavenging every 660000ms
2021-07-02 06:25:20,442 INFO org.eclipse.jetty.server.handler.ContextHandler [main] Started o.s.b.w.e.j.JettyEmbeddedWebAppContext@5e68be2{application,/,[file:///private/var/folders/v1/jx0yrry91790zfbpl3b79_r40000gn/T/jetty-docbase.40000.8717691608711242168/, jar:file:/Users/adeolaojo/.m2/repository/org/webjars/swagger-ui/3.25.0/swagger-ui-3.25.0.jar!/META-INF/resources],AVAILABLE}
2021-07-02 06:25:20,442 INFO org.eclipse.jetty.server.Server [main] Started @2813ms
2021-07-02 06:25:20,478 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Flyway Community Edition 7.10.0 by Redgate
2021-07-02 06:25:20,495 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Database: jdbc:h2:mem:testdb (H2 1.4)
2021-07-02 06:25:20,546 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully validated 1 migration (execution time 00:00.017s)
2021-07-02 06:25:20,558 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2021-07-02 06:25:20,596 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Current version of schema "PUBLIC": << Empty Schema >>
2021-07-02 06:25:20,600 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Migrating schema "PUBLIC" to version "1.1.0 - init migration"
2021-07-02 06:25:20,626 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully applied 1 migration to schema "PUBLIC", now at version v1.1.0 (execution time 00:00.035s)
2021-07-02 06:25:20,702 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-07-02 06:25:20,748 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.4.32.Final
2021-07-02 06:25:20,852 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-07-02 06:25:20,934 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-07-02 06:25:21,317 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-07-02 06:25:21,344 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 06:25:21,674 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-07-02 06:25:22,313 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 15 endpoint(s) beneath base path ''
2021-07-02 06:25:22,350 INFO org.eclipse.jetty.server.handler.ContextHandler$Context [main] Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-07-02 06:25:22,350 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet 'dispatcherServlet'
2021-07-02 06:25:22,351 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 1 ms
2021-07-02 06:25:22,371 INFO org.eclipse.jetty.server.AbstractConnector [main] Started ServerConnector@4f93bf0a{HTTP/1.1, (http/1.1)}{0.0.0.0:40000}
2021-07-02 06:25:22,372 INFO org.springframework.boot.web.embedded.jetty.JettyWebServer [main] Jetty started on port(s) 40000 (http/1.1) with context path '/'
2021-07-02 06:25:22,384 INFO org.springframework.boot.StartupInfoLogger [main] Started PaymentApplicationService in 3.909 seconds (JVM running for 4.755)
2021-07-02 06:25:35,416 INFO org.eclipse.jetty.server.AbstractConnector [SpringContextShutdownHook] Stopped ServerConnector@4f93bf0a{HTTP/1.1, (http/1.1)}{0.0.0.0:40000}
2021-07-02 06:25:35,417 INFO org.eclipse.jetty.server.session.HouseKeeper [SpringContextShutdownHook] node0 Stopped scavenging
2021-07-02 06:25:35,417 INFO org.eclipse.jetty.server.handler.ContextHandler$Context [SpringContextShutdownHook] Destroying Spring FrameworkServlet 'dispatcherServlet'
2021-07-02 06:25:35,418 INFO org.eclipse.jetty.server.handler.ContextHandler [SpringContextShutdownHook] Stopped o.s.b.w.e.j.JettyEmbeddedWebAppContext@5e68be2{application,/,[file:///private/var/folders/v1/jx0yrry91790zfbpl3b79_r40000gn/T/jetty-docbase.40000.8717691608711242168/, jar:file:/Users/adeolaojo/.m2/repository/org/webjars/swagger-ui/3.25.0/swagger-ui-3.25.0.jar!/META-INF/resources],STOPPED}
2021-07-02 06:25:35,420 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringContextShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 06:25:35,422 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown initiated...
2021-07-02 06:25:35,424 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown completed.
2021-07-02 06:47:01,519 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.payment.api.AccountControllerTest], using SpringBootContextLoader
2021-07-02 06:47:01,526 INFO org.springframework.test.context.support.AbstractContextLoader [main] Could not detect default resource locations for test class [com.payment.api.AccountControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2021-07-02 06:47:01,527 INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.payment.api.AccountControllerTest]: AccountControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2021-07-02 06:47:01,655 INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.payment.PaymentApplicationService for test class com.payment.api.AccountControllerTest
2021-07-02 06:47:01,764 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2021-07-02 06:47:01,783 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@1eba372c, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@21ec5d87, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@25f9407e, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@552518c3, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@1a69561c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@59aa20b3, org.springframework.test.context.transaction.TransactionalTestExecutionListener@363f6148, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@4b21844c, org.springframework.test.context.event.EventPublishingTestExecutionListener@1b28f282, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@138fe6ec, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@5e77f0f4, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@19b30c92, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@455351c4, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@29876704, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@4816c290]
2021-07-02 06:47:02,113 WARN org.springframework.boot.ImageBanner [main] Image banner not printable: class path resource [banner.txt] (class java.lang.IllegalStateException: 'Unable to read image banner source')
2021-07-02 06:47:02,179 INFO org.springframework.boot.StartupInfoLogger [main] Starting AccountControllerTest using Java 11.0.11 on adeolas-MacBook-Pro.local with PID 6701 (started by adeolaojo in /Users/adeolaojo/Code/payment-transfer-service)
2021-07-02 06:47:02,182 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2021-07-02 06:47:03,090 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-07-02 06:47:03,141 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 42 ms. Found 2 JPA repository interfaces.
2021-07-02 06:47:03,651 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Flyway Community Edition 7.10.0 by Redgate
2021-07-02 06:47:03,658 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2021-07-02 06:47:03,838 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2021-07-02 06:47:03,874 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Database: jdbc:h2:mem:testdb (H2 1.4)
2021-07-02 06:47:03,941 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully validated 1 migration (execution time 00:00.021s)
2021-07-02 06:47:03,959 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2021-07-02 06:47:04,021 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Current version of schema "PUBLIC": << Empty Schema >>
2021-07-02 06:47:04,032 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Migrating schema "PUBLIC" to version "1.1.0 - init migration"
2021-07-02 06:47:04,063 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully applied 1 migration to schema "PUBLIC", now at version v1.1.0 (execution time 00:00.048s)
2021-07-02 06:47:04,224 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-07-02 06:47:04,288 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.4.32.Final
2021-07-02 06:47:04,454 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-07-02 06:47:04,598 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-07-02 06:47:05,095 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-07-02 06:47:05,103 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 06:47:05,533 INFO org.eclipse.jetty.util.log.Log [main] Logging initialized @4963ms to org.eclipse.jetty.util.log.Slf4jLog
2021-07-02 06:47:05,670 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-07-02 06:47:05,965 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [main] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2021-07-02 06:47:07,292 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2021-07-02 06:47:07,292 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2021-07-02 06:47:07,298 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 14 endpoint(s) beneath base path ''
2021-07-02 06:47:07,321 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 29 ms
2021-07-02 06:47:07,350 INFO org.springframework.boot.StartupInfoLogger [main] Started AccountControllerTest in 5.528 seconds (JVM running for 6.78)
2021-07-02 06:47:07,516 ERROR com.payment.configuration.ErrorManagementConfiguration [main] invalid account type, ensure either current or savings type
2021-07-02 06:47:07,599 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringContextShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 06:47:07,602 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown initiated...
2021-07-02 06:47:07,605 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown completed.
2021-07-02 06:47:42,965 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.payment.api.AccountControllerTest], using SpringBootContextLoader
2021-07-02 06:47:42,972 INFO org.springframework.test.context.support.AbstractContextLoader [main] Could not detect default resource locations for test class [com.payment.api.AccountControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2021-07-02 06:47:42,974 INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.payment.api.AccountControllerTest]: AccountControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2021-07-02 06:47:43,090 INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.payment.PaymentApplicationService for test class com.payment.api.AccountControllerTest
2021-07-02 06:47:43,189 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2021-07-02 06:47:43,204 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@1eba372c, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@21ec5d87, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@25f9407e, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@552518c3, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@1a69561c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@59aa20b3, org.springframework.test.context.transaction.TransactionalTestExecutionListener@363f6148, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@4b21844c, org.springframework.test.context.event.EventPublishingTestExecutionListener@1b28f282, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@138fe6ec, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@5e77f0f4, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@19b30c92, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@455351c4, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@29876704, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@4816c290]
2021-07-02 06:47:43,515 WARN org.springframework.boot.ImageBanner [main] Image banner not printable: class path resource [banner.txt] (class java.lang.IllegalStateException: 'Unable to read image banner source')
2021-07-02 06:47:43,589 INFO org.springframework.boot.StartupInfoLogger [main] Starting AccountControllerTest using Java 11.0.11 on adeolas-MacBook-Pro.local with PID 7728 (started by adeolaojo in /Users/adeolaojo/Code/payment-transfer-service)
2021-07-02 06:47:43,591 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2021-07-02 06:47:44,567 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-07-02 06:47:44,622 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 46 ms. Found 2 JPA repository interfaces.
2021-07-02 06:47:45,048 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Flyway Community Edition 7.10.0 by Redgate
2021-07-02 06:47:45,053 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2021-07-02 06:47:45,187 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2021-07-02 06:47:45,211 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Database: jdbc:h2:mem:testdb (H2 1.4)
2021-07-02 06:47:45,267 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully validated 1 migration (execution time 00:00.018s)
2021-07-02 06:47:45,278 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2021-07-02 06:47:45,322 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Current version of schema "PUBLIC": << Empty Schema >>
2021-07-02 06:47:45,331 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Migrating schema "PUBLIC" to version "1.1.0 - init migration"
2021-07-02 06:47:45,360 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully applied 1 migration to schema "PUBLIC", now at version v1.1.0 (execution time 00:00.045s)
2021-07-02 06:47:45,485 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-07-02 06:47:45,536 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.4.32.Final
2021-07-02 06:47:45,641 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-07-02 06:47:45,736 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-07-02 06:47:46,166 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-07-02 06:47:46,173 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 06:47:46,563 INFO org.eclipse.jetty.util.log.Log [main] Logging initialized @4359ms to org.eclipse.jetty.util.log.Slf4jLog
2021-07-02 06:47:46,678 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-07-02 06:47:46,903 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [main] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2021-07-02 06:47:48,152 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2021-07-02 06:47:48,153 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2021-07-02 06:47:48,161 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 14 endpoint(s) beneath base path ''
2021-07-02 06:47:48,184 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 31 ms
2021-07-02 06:47:48,218 INFO org.springframework.boot.StartupInfoLogger [main] Started AccountControllerTest in 4.977 seconds (JVM running for 6.014)
2021-07-02 06:47:48,375 ERROR com.payment.configuration.ErrorManagementConfiguration [main] invalid account type, ensure either current or savings type
2021-07-02 06:47:48,456 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringContextShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 06:47:48,458 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown initiated...
2021-07-02 06:47:48,461 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown completed.
2021-07-02 06:51:24,288 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.payment.api.AccountControllerTest], using SpringBootContextLoader
2021-07-02 06:51:24,296 INFO org.springframework.test.context.support.AbstractContextLoader [main] Could not detect default resource locations for test class [com.payment.api.AccountControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2021-07-02 06:51:24,297 INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.payment.api.AccountControllerTest]: AccountControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2021-07-02 06:51:24,427 INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.payment.PaymentApplicationService for test class com.payment.api.AccountControllerTest
2021-07-02 06:51:24,523 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2021-07-02 06:51:24,541 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@1eba372c, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@21ec5d87, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@25f9407e, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@552518c3, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@1a69561c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@59aa20b3, org.springframework.test.context.transaction.TransactionalTestExecutionListener@363f6148, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@4b21844c, org.springframework.test.context.event.EventPublishingTestExecutionListener@1b28f282, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@138fe6ec, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@5e77f0f4, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@19b30c92, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@455351c4, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@29876704, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@4816c290]
2021-07-02 06:51:24,819 WARN org.springframework.boot.ImageBanner [main] Image banner not printable: class path resource [banner.txt] (class java.lang.IllegalStateException: 'Unable to read image banner source')
2021-07-02 06:51:24,881 INFO org.springframework.boot.StartupInfoLogger [main] Starting AccountControllerTest using Java 11.0.11 on adeolas-MacBook-Pro.local with PID 14823 (started by adeolaojo in /Users/adeolaojo/Code/payment-transfer-service)
2021-07-02 06:51:24,883 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2021-07-02 06:51:25,722 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-07-02 06:51:25,769 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 40 ms. Found 2 JPA repository interfaces.
2021-07-02 06:51:26,231 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Flyway Community Edition 7.10.0 by Redgate
2021-07-02 06:51:26,235 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2021-07-02 06:51:26,379 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2021-07-02 06:51:26,406 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Database: jdbc:h2:mem:testdb (H2 1.4)
2021-07-02 06:51:26,463 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully validated 1 migration (execution time 00:00.019s)
2021-07-02 06:51:26,481 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2021-07-02 06:51:26,520 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Current version of schema "PUBLIC": << Empty Schema >>
2021-07-02 06:51:26,525 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Migrating schema "PUBLIC" to version "1.1.0 - init migration"
2021-07-02 06:51:26,556 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully applied 1 migration to schema "PUBLIC", now at version v1.1.0 (execution time 00:00.041s)
2021-07-02 06:51:26,679 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-07-02 06:51:26,728 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.4.32.Final
2021-07-02 06:51:26,860 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-07-02 06:51:27,004 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-07-02 06:51:27,460 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-07-02 06:51:27,469 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 06:51:27,849 INFO org.eclipse.jetty.util.log.Log [main] Logging initialized @4335ms to org.eclipse.jetty.util.log.Slf4jLog
2021-07-02 06:51:27,962 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-07-02 06:51:28,197 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [main] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2021-07-02 06:51:29,643 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2021-07-02 06:51:29,643 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2021-07-02 06:51:29,648 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 14 endpoint(s) beneath base path ''
2021-07-02 06:51:29,667 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 24 ms
2021-07-02 06:51:29,695 INFO org.springframework.boot.StartupInfoLogger [main] Started AccountControllerTest in 5.12 seconds (JVM running for 6.182)
2021-07-02 06:51:29,827 ERROR com.payment.configuration.ErrorManagementConfiguration [main] invalid account number
2021-07-02 06:51:29,892 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringContextShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 06:51:29,895 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown initiated...
2021-07-02 06:51:29,897 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown completed.
2021-07-02 06:51:54,632 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.payment.api.AccountControllerTest], using SpringBootContextLoader
2021-07-02 06:51:54,638 INFO org.springframework.test.context.support.AbstractContextLoader [main] Could not detect default resource locations for test class [com.payment.api.AccountControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2021-07-02 06:51:54,639 INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.payment.api.AccountControllerTest]: AccountControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2021-07-02 06:51:54,756 INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.payment.PaymentApplicationService for test class com.payment.api.AccountControllerTest
2021-07-02 06:51:54,850 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2021-07-02 06:51:54,863 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@1eba372c, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@21ec5d87, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@25f9407e, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@552518c3, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@1a69561c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@59aa20b3, org.springframework.test.context.transaction.TransactionalTestExecutionListener@363f6148, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@4b21844c, org.springframework.test.context.event.EventPublishingTestExecutionListener@1b28f282, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@138fe6ec, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@5e77f0f4, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@19b30c92, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@455351c4, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@29876704, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@4816c290]
2021-07-02 06:51:55,126 WARN org.springframework.boot.ImageBanner [main] Image banner not printable: class path resource [banner.txt] (class java.lang.IllegalStateException: 'Unable to read image banner source')
2021-07-02 06:51:55,180 INFO org.springframework.boot.StartupInfoLogger [main] Starting AccountControllerTest using Java 11.0.11 on adeolas-MacBook-Pro.local with PID 15843 (started by adeolaojo in /Users/adeolaojo/Code/payment-transfer-service)
2021-07-02 06:51:55,182 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2021-07-02 06:51:55,960 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-07-02 06:51:56,008 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 42 ms. Found 2 JPA repository interfaces.
2021-07-02 06:51:56,431 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Flyway Community Edition 7.10.0 by Redgate
2021-07-02 06:51:56,436 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2021-07-02 06:51:56,574 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2021-07-02 06:51:56,603 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Database: jdbc:h2:mem:testdb (H2 1.4)
2021-07-02 06:51:56,667 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully validated 1 migration (execution time 00:00.019s)
2021-07-02 06:51:56,689 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2021-07-02 06:51:56,734 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Current version of schema "PUBLIC": << Empty Schema >>
2021-07-02 06:51:56,747 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Migrating schema "PUBLIC" to version "1.1.0 - init migration"
2021-07-02 06:51:56,777 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully applied 1 migration to schema "PUBLIC", now at version v1.1.0 (execution time 00:00.049s)
2021-07-02 06:51:56,912 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-07-02 06:51:56,961 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.4.32.Final
2021-07-02 06:51:57,091 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-07-02 06:51:57,208 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-07-02 06:51:57,732 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-07-02 06:51:57,740 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 06:51:58,174 INFO org.eclipse.jetty.util.log.Log [main] Logging initialized @4280ms to org.eclipse.jetty.util.log.Slf4jLog
2021-07-02 06:51:58,297 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-07-02 06:51:58,552 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [main] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2021-07-02 06:51:59,743 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2021-07-02 06:51:59,744 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2021-07-02 06:51:59,751 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 14 endpoint(s) beneath base path ''
2021-07-02 06:51:59,773 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 29 ms
2021-07-02 06:51:59,800 INFO org.springframework.boot.StartupInfoLogger [main] Started AccountControllerTest in 4.909 seconds (JVM running for 5.906)
2021-07-02 06:51:59,941 ERROR com.payment.configuration.ErrorManagementConfiguration [main] invalid account number
2021-07-02 06:52:00,006 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringContextShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 06:52:00,009 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown initiated...
2021-07-02 06:52:00,013 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown completed.
2021-07-02 06:53:30,100 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.payment.api.AccountControllerTest], using SpringBootContextLoader
2021-07-02 06:53:30,106 INFO org.springframework.test.context.support.AbstractContextLoader [main] Could not detect default resource locations for test class [com.payment.api.AccountControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2021-07-02 06:53:30,106 INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.payment.api.AccountControllerTest]: AccountControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2021-07-02 06:53:30,205 INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.payment.PaymentApplicationService for test class com.payment.api.AccountControllerTest
2021-07-02 06:53:30,290 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2021-07-02 06:53:30,303 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@1eba372c, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@21ec5d87, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@25f9407e, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@552518c3, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@1a69561c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@59aa20b3, org.springframework.test.context.transaction.TransactionalTestExecutionListener@363f6148, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@4b21844c, org.springframework.test.context.event.EventPublishingTestExecutionListener@1b28f282, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@138fe6ec, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@5e77f0f4, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@19b30c92, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@455351c4, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@29876704, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@4816c290]
2021-07-02 06:53:30,596 WARN org.springframework.boot.ImageBanner [main] Image banner not printable: class path resource [banner.txt] (class java.lang.IllegalStateException: 'Unable to read image banner source')
2021-07-02 06:53:30,664 INFO org.springframework.boot.StartupInfoLogger [main] Starting AccountControllerTest using Java 11.0.11 on adeolas-MacBook-Pro.local with PID 18875 (started by adeolaojo in /Users/adeolaojo/Code/payment-transfer-service)
2021-07-02 06:53:30,666 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2021-07-02 06:53:31,607 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-07-02 06:53:31,664 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 48 ms. Found 2 JPA repository interfaces.
2021-07-02 06:53:32,188 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Flyway Community Edition 7.10.0 by Redgate
2021-07-02 06:53:32,193 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2021-07-02 06:53:32,361 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2021-07-02 06:53:32,392 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Database: jdbc:h2:mem:testdb (H2 1.4)
2021-07-02 06:53:32,459 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully validated 1 migration (execution time 00:00.022s)
2021-07-02 06:53:32,476 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2021-07-02 06:53:32,523 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Current version of schema "PUBLIC": << Empty Schema >>
2021-07-02 06:53:32,532 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Migrating schema "PUBLIC" to version "1.1.0 - init migration"
2021-07-02 06:53:32,565 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully applied 1 migration to schema "PUBLIC", now at version v1.1.0 (execution time 00:00.049s)
2021-07-02 06:53:32,721 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-07-02 06:53:32,774 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.4.32.Final
2021-07-02 06:53:32,904 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-07-02 06:53:33,020 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-07-02 06:53:33,559 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-07-02 06:53:33,567 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 06:53:33,989 INFO org.eclipse.jetty.util.log.Log [main] Logging initialized @4618ms to org.eclipse.jetty.util.log.Slf4jLog
2021-07-02 06:53:34,113 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-07-02 06:53:34,363 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [main] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2021-07-02 06:53:35,645 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2021-07-02 06:53:35,646 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2021-07-02 06:53:35,653 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 14 endpoint(s) beneath base path ''
2021-07-02 06:53:35,678 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 32 ms
2021-07-02 06:53:35,711 INFO org.springframework.boot.StartupInfoLogger [main] Started AccountControllerTest in 5.374 seconds (JVM running for 6.34)
2021-07-02 06:53:35,884 ERROR com.payment.configuration.ErrorManagementConfiguration [main] invalid account number
2021-07-02 06:53:35,974 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringContextShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 06:53:35,977 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown initiated...
2021-07-02 06:53:35,980 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown completed.
2021-07-02 06:55:08,810 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.payment.api.AccountControllerTest], using SpringBootContextLoader
2021-07-02 06:55:08,816 INFO org.springframework.test.context.support.AbstractContextLoader [main] Could not detect default resource locations for test class [com.payment.api.AccountControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2021-07-02 06:55:08,817 INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.payment.api.AccountControllerTest]: AccountControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2021-07-02 06:55:08,930 INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.payment.PaymentApplicationService for test class com.payment.api.AccountControllerTest
2021-07-02 06:55:09,017 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2021-07-02 06:55:09,030 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@1eba372c, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@21ec5d87, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@25f9407e, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@552518c3, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@1a69561c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@59aa20b3, org.springframework.test.context.transaction.TransactionalTestExecutionListener@363f6148, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@4b21844c, org.springframework.test.context.event.EventPublishingTestExecutionListener@1b28f282, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@138fe6ec, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@5e77f0f4, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@19b30c92, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@455351c4, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@29876704, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@4816c290]
2021-07-02 06:55:09,295 WARN org.springframework.boot.ImageBanner [main] Image banner not printable: class path resource [banner.txt] (class java.lang.IllegalStateException: 'Unable to read image banner source')
2021-07-02 06:55:09,356 INFO org.springframework.boot.StartupInfoLogger [main] Starting AccountControllerTest using Java 11.0.11 on adeolas-MacBook-Pro.local with PID 22235 (started by adeolaojo in /Users/adeolaojo/Code/payment-transfer-service)
2021-07-02 06:55:09,358 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2021-07-02 06:55:10,093 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-07-02 06:55:10,135 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 36 ms. Found 2 JPA repository interfaces.
2021-07-02 06:55:10,534 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Flyway Community Edition 7.10.0 by Redgate
2021-07-02 06:55:10,538 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2021-07-02 06:55:10,672 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2021-07-02 06:55:10,704 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Database: jdbc:h2:mem:testdb (H2 1.4)
2021-07-02 06:55:10,759 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully validated 1 migration (execution time 00:00.018s)
2021-07-02 06:55:10,771 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2021-07-02 06:55:10,812 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Current version of schema "PUBLIC": << Empty Schema >>
2021-07-02 06:55:10,821 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Migrating schema "PUBLIC" to version "1.1.0 - init migration"
2021-07-02 06:55:10,850 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully applied 1 migration to schema "PUBLIC", now at version v1.1.0 (execution time 00:00.043s)
2021-07-02 06:55:10,967 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-07-02 06:55:11,006 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.4.32.Final
2021-07-02 06:55:11,111 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-07-02 06:55:11,211 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-07-02 06:55:11,621 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-07-02 06:55:11,629 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 06:55:12,006 INFO org.eclipse.jetty.util.log.Log [main] Logging initialized @3953ms to org.eclipse.jetty.util.log.Slf4jLog
2021-07-02 06:55:12,127 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-07-02 06:55:12,362 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [main] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2021-07-02 06:55:13,519 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2021-07-02 06:55:13,519 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2021-07-02 06:55:13,525 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 14 endpoint(s) beneath base path ''
2021-07-02 06:55:13,548 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 29 ms
2021-07-02 06:55:13,578 INFO org.springframework.boot.StartupInfoLogger [main] Started AccountControllerTest in 4.513 seconds (JVM running for 5.526)
2021-07-02 06:55:13,730 ERROR com.payment.configuration.ErrorManagementConfiguration [main] invalid account type, ensure either current or savings type
2021-07-02 06:55:13,804 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringContextShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 06:55:13,807 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown initiated...
2021-07-02 06:55:13,810 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown completed.
2021-07-02 06:55:19,582 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.payment.api.AccountControllerTest], using SpringBootContextLoader
2021-07-02 06:55:19,589 INFO org.springframework.test.context.support.AbstractContextLoader [main] Could not detect default resource locations for test class [com.payment.api.AccountControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2021-07-02 06:55:19,590 INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.payment.api.AccountControllerTest]: AccountControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2021-07-02 06:55:19,747 INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.payment.PaymentApplicationService for test class com.payment.api.AccountControllerTest
2021-07-02 06:55:19,863 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2021-07-02 06:55:19,876 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@25f9407e, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@552518c3, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@1a69561c, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@59aa20b3, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@363f6148, org.springframework.test.context.support.DirtiesContextTestExecutionListener@4b21844c, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1b28f282, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@138fe6ec, org.springframework.test.context.event.EventPublishingTestExecutionListener@5e77f0f4, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@19b30c92, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@455351c4, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@29876704, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@4816c290, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@4940809c, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@16423501]
2021-07-02 06:55:20,180 WARN org.springframework.boot.ImageBanner [main] Image banner not printable: class path resource [banner.txt] (class java.lang.IllegalStateException: 'Unable to read image banner source')
2021-07-02 06:55:20,235 INFO org.springframework.boot.StartupInfoLogger [main] Starting AccountControllerTest using Java 11.0.11 on adeolas-MacBook-Pro.local with PID 22573 (started by adeolaojo in /Users/adeolaojo/Code/payment-transfer-service)
2021-07-02 06:55:20,237 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2021-07-02 06:55:21,044 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-07-02 06:55:21,098 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 48 ms. Found 2 JPA repository interfaces.
2021-07-02 06:55:21,536 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Flyway Community Edition 7.10.0 by Redgate
2021-07-02 06:55:21,541 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2021-07-02 06:55:21,691 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2021-07-02 06:55:21,718 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Database: jdbc:h2:mem:testdb (H2 1.4)
2021-07-02 06:55:21,779 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully validated 1 migration (execution time 00:00.021s)
2021-07-02 06:55:21,792 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2021-07-02 06:55:21,834 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Current version of schema "PUBLIC": << Empty Schema >>
2021-07-02 06:55:21,842 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Migrating schema "PUBLIC" to version "1.1.0 - init migration"
2021-07-02 06:55:21,871 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully applied 1 migration to schema "PUBLIC", now at version v1.1.0 (execution time 00:00.042s)
2021-07-02 06:55:22,003 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-07-02 06:55:22,053 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.4.32.Final
2021-07-02 06:55:22,179 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-07-02 06:55:22,302 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-07-02 06:55:22,806 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-07-02 06:55:22,815 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 06:55:23,278 INFO org.eclipse.jetty.util.log.Log [main] Logging initialized @4464ms to org.eclipse.jetty.util.log.Slf4jLog
2021-07-02 06:55:23,401 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-07-02 06:55:23,642 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [main] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2021-07-02 06:55:24,708 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2021-07-02 06:55:24,709 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2021-07-02 06:55:24,716 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 14 endpoint(s) beneath base path ''
2021-07-02 06:55:24,740 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 31 ms
2021-07-02 06:55:24,768 INFO org.springframework.boot.StartupInfoLogger [main] Started AccountControllerTest in 4.861 seconds (JVM running for 5.954)
2021-07-02 06:55:24,925 ERROR com.payment.configuration.ErrorManagementConfiguration [main] invalid account number
2021-07-02 06:55:24,991 ERROR com.payment.configuration.ErrorManagementConfiguration [main] invalid account type, ensure either current or savings type
2021-07-02 06:55:25,002 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringContextShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 06:55:25,004 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown initiated...
2021-07-02 06:55:25,007 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown completed.
2021-07-02 06:56:47,075 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.payment.api.AccountControllerTest], using SpringBootContextLoader
2021-07-02 06:56:47,081 INFO org.springframework.test.context.support.AbstractContextLoader [main] Could not detect default resource locations for test class [com.payment.api.AccountControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2021-07-02 06:56:47,082 INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.payment.api.AccountControllerTest]: AccountControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2021-07-02 06:56:47,194 INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.payment.PaymentApplicationService for test class com.payment.api.AccountControllerTest
2021-07-02 06:56:47,280 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2021-07-02 06:56:47,295 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@1eba372c, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@21ec5d87, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@25f9407e, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@552518c3, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@1a69561c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@59aa20b3, org.springframework.test.context.transaction.TransactionalTestExecutionListener@363f6148, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@4b21844c, org.springframework.test.context.event.EventPublishingTestExecutionListener@1b28f282, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@138fe6ec, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@5e77f0f4, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@19b30c92, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@455351c4, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@29876704, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@4816c290]
2021-07-02 06:56:47,566 WARN org.springframework.boot.ImageBanner [main] Image banner not printable: class path resource [banner.txt] (class java.lang.IllegalStateException: 'Unable to read image banner source')
2021-07-02 06:56:47,621 INFO org.springframework.boot.StartupInfoLogger [main] Starting AccountControllerTest using Java 11.0.11 on adeolas-MacBook-Pro.local with PID 25265 (started by adeolaojo in /Users/adeolaojo/Code/payment-transfer-service)
2021-07-02 06:56:47,623 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2021-07-02 06:56:48,347 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-07-02 06:56:48,389 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 36 ms. Found 2 JPA repository interfaces.
2021-07-02 06:56:48,800 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Flyway Community Edition 7.10.0 by Redgate
2021-07-02 06:56:48,806 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2021-07-02 06:56:48,962 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2021-07-02 06:56:48,988 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Database: jdbc:h2:mem:testdb (H2 1.4)
2021-07-02 06:56:49,055 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully validated 1 migration (execution time 00:00.020s)
2021-07-02 06:56:49,073 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2021-07-02 06:56:49,117 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Current version of schema "PUBLIC": << Empty Schema >>
2021-07-02 06:56:49,126 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Migrating schema "PUBLIC" to version "1.1.0 - init migration"
2021-07-02 06:56:49,157 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully applied 1 migration to schema "PUBLIC", now at version v1.1.0 (execution time 00:00.047s)
2021-07-02 06:56:49,283 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-07-02 06:56:49,343 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.4.32.Final
2021-07-02 06:56:49,440 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-07-02 06:56:49,535 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-07-02 06:56:49,949 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-07-02 06:56:49,956 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 06:56:50,323 INFO org.eclipse.jetty.util.log.Log [main] Logging initialized @3985ms to org.eclipse.jetty.util.log.Slf4jLog
2021-07-02 06:56:50,460 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-07-02 06:56:50,771 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [main] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2021-07-02 06:56:52,038 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2021-07-02 06:56:52,039 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2021-07-02 06:56:52,046 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 14 endpoint(s) beneath base path ''
2021-07-02 06:56:52,073 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 34 ms
2021-07-02 06:56:52,107 INFO org.springframework.boot.StartupInfoLogger [main] Started AccountControllerTest in 4.776 seconds (JVM running for 5.769)
2021-07-02 06:56:52,252 INFO com.payment.api.AccountController [main] fetching account information for 1000000011:savings
2021-07-02 06:56:52,255 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findCustomerAccountByAccountNumberAndAccountType]: This method is not transactional.
2021-07-02 06:56:52,395 ERROR com.payment.configuration.ErrorManagementConfiguration [main] Account not found, please check senders account number or account type
2021-07-02 06:56:52,476 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringContextShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 06:56:52,479 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown initiated...
2021-07-02 06:56:52,482 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown completed.
2021-07-02 06:57:55,425 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.payment.api.AccountControllerTest], using SpringBootContextLoader
2021-07-02 06:57:55,431 INFO org.springframework.test.context.support.AbstractContextLoader [main] Could not detect default resource locations for test class [com.payment.api.AccountControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2021-07-02 06:57:55,432 INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.payment.api.AccountControllerTest]: AccountControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2021-07-02 06:57:55,563 INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.payment.PaymentApplicationService for test class com.payment.api.AccountControllerTest
2021-07-02 06:57:55,669 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2021-07-02 06:57:55,683 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@1eba372c, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@21ec5d87, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@25f9407e, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@552518c3, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@1a69561c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@59aa20b3, org.springframework.test.context.transaction.TransactionalTestExecutionListener@363f6148, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@4b21844c, org.springframework.test.context.event.EventPublishingTestExecutionListener@1b28f282, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@138fe6ec, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@5e77f0f4, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@19b30c92, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@455351c4, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@29876704, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@4816c290]
2021-07-02 06:57:55,972 WARN org.springframework.boot.ImageBanner [main] Image banner not printable: class path resource [banner.txt] (class java.lang.IllegalStateException: 'Unable to read image banner source')
2021-07-02 06:57:56,023 INFO org.springframework.boot.StartupInfoLogger [main] Starting AccountControllerTest using Java 11.0.11 on adeolas-MacBook-Pro.local with PID 28055 (started by adeolaojo in /Users/adeolaojo/Code/payment-transfer-service)
2021-07-02 06:57:56,025 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2021-07-02 06:57:56,784 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-07-02 06:57:56,830 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 40 ms. Found 2 JPA repository interfaces.
2021-07-02 06:57:57,252 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Flyway Community Edition 7.10.0 by Redgate
2021-07-02 06:57:57,258 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2021-07-02 06:57:57,418 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2021-07-02 06:57:57,448 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Database: jdbc:h2:mem:testdb (H2 1.4)
2021-07-02 06:57:57,506 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully validated 1 migration (execution time 00:00.021s)
2021-07-02 06:57:57,520 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2021-07-02 06:57:57,566 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Current version of schema "PUBLIC": << Empty Schema >>
2021-07-02 06:57:57,572 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Migrating schema "PUBLIC" to version "1.1.0 - init migration"
2021-07-02 06:57:57,600 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully applied 1 migration to schema "PUBLIC", now at version v1.1.0 (execution time 00:00.040s)
2021-07-02 06:57:57,727 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-07-02 06:57:57,774 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.4.32.Final
2021-07-02 06:57:57,900 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-07-02 06:57:58,014 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-07-02 06:57:58,480 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-07-02 06:57:58,488 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 06:57:58,885 INFO org.eclipse.jetty.util.log.Log [main] Logging initialized @4216ms to org.eclipse.jetty.util.log.Slf4jLog
2021-07-02 06:57:59,007 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-07-02 06:57:59,263 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [main] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2021-07-02 06:58:00,424 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2021-07-02 06:58:00,425 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2021-07-02 06:58:00,432 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 14 endpoint(s) beneath base path ''
2021-07-02 06:58:00,453 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 28 ms
2021-07-02 06:58:00,479 INFO org.springframework.boot.StartupInfoLogger [main] Started AccountControllerTest in 4.763 seconds (JVM running for 5.81)
2021-07-02 06:58:00,619 INFO com.payment.api.AccountController [main] fetching account information for 1000000011:savings
2021-07-02 06:58:00,621 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findCustomerAccountByAccountNumberAndAccountType]: This method is not transactional.
2021-07-02 06:58:00,726 ERROR com.payment.configuration.ErrorManagementConfiguration [main] Account not found, please check senders account number or account type
2021-07-02 06:58:00,794 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringContextShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 06:58:00,797 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown initiated...
2021-07-02 06:58:00,808 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown completed.
2021-07-02 06:58:55,821 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.payment.api.AccountControllerTest], using SpringBootContextLoader
2021-07-02 06:58:55,827 INFO org.springframework.test.context.support.AbstractContextLoader [main] Could not detect default resource locations for test class [com.payment.api.AccountControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2021-07-02 06:58:55,828 INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.payment.api.AccountControllerTest]: AccountControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2021-07-02 06:58:55,937 INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.payment.PaymentApplicationService for test class com.payment.api.AccountControllerTest
2021-07-02 06:58:56,043 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2021-07-02 06:58:56,060 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@1eba372c, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@21ec5d87, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@25f9407e, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@552518c3, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@1a69561c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@59aa20b3, org.springframework.test.context.transaction.TransactionalTestExecutionListener@363f6148, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@4b21844c, org.springframework.test.context.event.EventPublishingTestExecutionListener@1b28f282, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@138fe6ec, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@5e77f0f4, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@19b30c92, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@455351c4, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@29876704, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@4816c290]
2021-07-02 06:58:56,417 WARN org.springframework.boot.ImageBanner [main] Image banner not printable: class path resource [banner.txt] (class java.lang.IllegalStateException: 'Unable to read image banner source')
2021-07-02 06:58:56,490 INFO org.springframework.boot.StartupInfoLogger [main] Starting AccountControllerTest using Java 11.0.11 on adeolas-MacBook-Pro.local with PID 29748 (started by adeolaojo in /Users/adeolaojo/Code/payment-transfer-service)
2021-07-02 06:58:56,492 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2021-07-02 06:58:57,347 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-07-02 06:58:57,390 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 37 ms. Found 2 JPA repository interfaces.
2021-07-02 06:58:57,802 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Flyway Community Edition 7.10.0 by Redgate
2021-07-02 06:58:57,807 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2021-07-02 06:58:57,949 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2021-07-02 06:58:57,975 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Database: jdbc:h2:mem:testdb (H2 1.4)
2021-07-02 06:58:58,046 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully validated 1 migration (execution time 00:00.030s)
2021-07-02 06:58:58,063 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2021-07-02 06:58:58,100 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Current version of schema "PUBLIC": << Empty Schema >>
2021-07-02 06:58:58,107 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Migrating schema "PUBLIC" to version "1.1.0 - init migration"
2021-07-02 06:58:58,143 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully applied 1 migration to schema "PUBLIC", now at version v1.1.0 (execution time 00:00.048s)
2021-07-02 06:58:58,258 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-07-02 06:58:58,299 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.4.32.Final
2021-07-02 06:58:58,408 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-07-02 06:58:58,504 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-07-02 06:58:58,917 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-07-02 06:58:58,924 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 06:58:59,332 INFO org.eclipse.jetty.util.log.Log [main] Logging initialized @4265ms to org.eclipse.jetty.util.log.Slf4jLog
2021-07-02 06:58:59,451 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-07-02 06:58:59,684 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [main] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2021-07-02 06:59:00,972 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2021-07-02 06:59:00,973 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2021-07-02 06:59:00,979 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 14 endpoint(s) beneath base path ''
2021-07-02 06:59:01,000 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 27 ms
2021-07-02 06:59:01,027 INFO org.springframework.boot.StartupInfoLogger [main] Started AccountControllerTest in 4.922 seconds (JVM running for 5.961)
2021-07-02 06:59:01,180 INFO com.payment.api.AccountController [main] fetching account information for 1000000011:current
2021-07-02 06:59:01,183 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findCustomerAccountByAccountNumberAndAccountType]: This method is not transactional.
2021-07-02 06:59:01,300 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByCustomerAccountId]: This method is not transactional.
2021-07-02 06:59:01,383 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringContextShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 06:59:01,386 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown initiated...
2021-07-02 06:59:01,389 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown completed.
2021-07-02 06:59:24,836 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.payment.api.AccountControllerTest], using SpringBootContextLoader
2021-07-02 06:59:24,842 INFO org.springframework.test.context.support.AbstractContextLoader [main] Could not detect default resource locations for test class [com.payment.api.AccountControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2021-07-02 06:59:24,842 INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.payment.api.AccountControllerTest]: AccountControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2021-07-02 06:59:24,953 INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.payment.PaymentApplicationService for test class com.payment.api.AccountControllerTest
2021-07-02 06:59:25,038 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2021-07-02 06:59:25,053 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@1eba372c, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@21ec5d87, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@25f9407e, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@552518c3, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@1a69561c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@59aa20b3, org.springframework.test.context.transaction.TransactionalTestExecutionListener@363f6148, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@4b21844c, org.springframework.test.context.event.EventPublishingTestExecutionListener@1b28f282, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@138fe6ec, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@5e77f0f4, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@19b30c92, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@455351c4, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@29876704, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@4816c290]
2021-07-02 06:59:25,358 WARN org.springframework.boot.ImageBanner [main] Image banner not printable: class path resource [banner.txt] (class java.lang.IllegalStateException: 'Unable to read image banner source')
2021-07-02 06:59:25,406 INFO org.springframework.boot.StartupInfoLogger [main] Starting AccountControllerTest using Java 11.0.11 on adeolas-MacBook-Pro.local with PID 30755 (started by adeolaojo in /Users/adeolaojo/Code/payment-transfer-service)
2021-07-02 06:59:25,408 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2021-07-02 06:59:26,205 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-07-02 06:59:26,252 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 40 ms. Found 2 JPA repository interfaces.
2021-07-02 06:59:26,705 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Flyway Community Edition 7.10.0 by Redgate
2021-07-02 06:59:26,710 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2021-07-02 06:59:26,852 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2021-07-02 06:59:26,876 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Database: jdbc:h2:mem:testdb (H2 1.4)
2021-07-02 06:59:26,930 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully validated 1 migration (execution time 00:00.017s)
2021-07-02 06:59:26,942 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2021-07-02 06:59:26,979 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Current version of schema "PUBLIC": << Empty Schema >>
2021-07-02 06:59:26,986 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Migrating schema "PUBLIC" to version "1.1.0 - init migration"
2021-07-02 06:59:27,014 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully applied 1 migration to schema "PUBLIC", now at version v1.1.0 (execution time 00:00.040s)
2021-07-02 06:59:27,150 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-07-02 06:59:27,197 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.4.32.Final
2021-07-02 06:59:27,325 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-07-02 06:59:27,448 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-07-02 06:59:27,934 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-07-02 06:59:27,943 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 06:59:28,455 INFO org.eclipse.jetty.util.log.Log [main] Logging initialized @4368ms to org.eclipse.jetty.util.log.Slf4jLog
2021-07-02 06:59:28,633 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-07-02 06:59:28,927 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [main] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2021-07-02 06:59:30,067 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2021-07-02 06:59:30,067 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2021-07-02 06:59:30,073 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 14 endpoint(s) beneath base path ''
2021-07-02 06:59:30,095 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 27 ms
2021-07-02 06:59:30,125 INFO org.springframework.boot.StartupInfoLogger [main] Started AccountControllerTest in 5.039 seconds (JVM running for 6.039)
2021-07-02 06:59:30,263 INFO com.payment.api.AccountController [main] fetching account information for 1000000011:current
2021-07-02 06:59:30,266 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findCustomerAccountByAccountNumberAndAccountType]: This method is not transactional.
2021-07-02 06:59:30,382 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByCustomerAccountId]: This method is not transactional.
2021-07-02 06:59:30,460 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringContextShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 06:59:30,463 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown initiated...
2021-07-02 06:59:30,466 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown completed.
2021-07-02 06:59:55,330 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.payment.api.AccountControllerTest], using SpringBootContextLoader
2021-07-02 06:59:55,335 INFO org.springframework.test.context.support.AbstractContextLoader [main] Could not detect default resource locations for test class [com.payment.api.AccountControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2021-07-02 06:59:55,336 INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.payment.api.AccountControllerTest]: AccountControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2021-07-02 06:59:55,439 INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.payment.PaymentApplicationService for test class com.payment.api.AccountControllerTest
2021-07-02 06:59:55,521 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2021-07-02 06:59:55,533 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@1eba372c, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@21ec5d87, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@25f9407e, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@552518c3, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@1a69561c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@59aa20b3, org.springframework.test.context.transaction.TransactionalTestExecutionListener@363f6148, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@4b21844c, org.springframework.test.context.event.EventPublishingTestExecutionListener@1b28f282, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@138fe6ec, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@5e77f0f4, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@19b30c92, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@455351c4, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@29876704, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@4816c290]
2021-07-02 06:59:55,800 WARN org.springframework.boot.ImageBanner [main] Image banner not printable: class path resource [banner.txt] (class java.lang.IllegalStateException: 'Unable to read image banner source')
2021-07-02 06:59:55,857 INFO org.springframework.boot.StartupInfoLogger [main] Starting AccountControllerTest using Java 11.0.11 on adeolas-MacBook-Pro.local with PID 31781 (started by adeolaojo in /Users/adeolaojo/Code/payment-transfer-service)
2021-07-02 06:59:55,859 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2021-07-02 06:59:56,695 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-07-02 06:59:56,745 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 44 ms. Found 2 JPA repository interfaces.
2021-07-02 06:59:57,201 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Flyway Community Edition 7.10.0 by Redgate
2021-07-02 06:59:57,207 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2021-07-02 06:59:57,351 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2021-07-02 06:59:57,380 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Database: jdbc:h2:mem:testdb (H2 1.4)
2021-07-02 06:59:57,438 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully validated 1 migration (execution time 00:00.019s)
2021-07-02 06:59:57,449 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2021-07-02 06:59:57,495 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Current version of schema "PUBLIC": << Empty Schema >>
2021-07-02 06:59:57,504 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Migrating schema "PUBLIC" to version "1.1.0 - init migration"
2021-07-02 06:59:57,536 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully applied 1 migration to schema "PUBLIC", now at version v1.1.0 (execution time 00:00.047s)
2021-07-02 06:59:57,680 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-07-02 06:59:57,721 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.4.32.Final
2021-07-02 06:59:57,833 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-07-02 06:59:57,937 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-07-02 06:59:58,406 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-07-02 06:59:58,413 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 06:59:58,826 INFO org.eclipse.jetty.util.log.Log [main] Logging initialized @4274ms to org.eclipse.jetty.util.log.Slf4jLog
2021-07-02 06:59:58,958 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-07-02 06:59:59,232 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [main] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2021-07-02 07:00:01,066 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2021-07-02 07:00:01,067 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2021-07-02 07:00:01,078 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 14 endpoint(s) beneath base path ''
2021-07-02 07:00:01,119 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 52 ms
2021-07-02 07:00:01,161 INFO org.springframework.boot.StartupInfoLogger [main] Started AccountControllerTest in 5.598 seconds (JVM running for 6.609)
2021-07-02 07:00:01,354 INFO com.payment.api.AccountController [main] fetching account information for 1000000011:current
2021-07-02 07:00:01,358 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findCustomerAccountByAccountNumberAndAccountType]: This method is not transactional.
2021-07-02 07:00:01,499 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByCustomerAccountId]: This method is not transactional.
2021-07-02 07:00:01,603 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringContextShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 07:00:01,607 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown initiated...
2021-07-02 07:00:01,610 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown completed.
2021-07-02 07:14:40,005 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.payment.api.TransferControllerTest], using SpringBootContextLoader
2021-07-02 07:14:40,011 INFO org.springframework.test.context.support.AbstractContextLoader [main] Could not detect default resource locations for test class [com.payment.api.TransferControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2021-07-02 07:14:40,012 INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.payment.api.TransferControllerTest]: TransferControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2021-07-02 07:14:40,136 INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.payment.PaymentApplicationService for test class com.payment.api.TransferControllerTest
2021-07-02 07:14:40,231 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2021-07-02 07:14:40,249 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@4816c290, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4940809c, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@16423501, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@4efcf8a, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@7a138fc5, org.springframework.test.context.support.DirtiesContextTestExecutionListener@379ab47b, org.springframework.test.context.transaction.TransactionalTestExecutionListener@307765b4, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@4a9e6faf, org.springframework.test.context.event.EventPublishingTestExecutionListener@2c95ac9e, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@4e4efc1b, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@459f7aa3, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@7cc586a8, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@7db534f2, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@44a2b17b, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@7a56812e]
2021-07-02 07:14:40,532 WARN org.springframework.boot.ImageBanner [main] Image banner not printable: class path resource [banner.txt] (class java.lang.IllegalStateException: 'Unable to read image banner source')
2021-07-02 07:14:40,590 INFO org.springframework.boot.StartupInfoLogger [main] Starting TransferControllerTest using Java 11.0.11 on adeolas-MacBook-Pro.local with PID 60094 (started by adeolaojo in /Users/adeolaojo/Code/payment-transfer-service)
2021-07-02 07:14:40,593 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2021-07-02 07:14:41,447 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-07-02 07:14:41,503 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 44 ms. Found 2 JPA repository interfaces.
2021-07-02 07:14:41,902 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Flyway Community Edition 7.10.0 by Redgate
2021-07-02 07:14:41,908 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2021-07-02 07:14:42,074 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2021-07-02 07:14:42,107 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Database: jdbc:h2:mem:testdb (H2 1.4)
2021-07-02 07:14:42,170 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully validated 1 migration (execution time 00:00.021s)
2021-07-02 07:14:42,182 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2021-07-02 07:14:42,221 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Current version of schema "PUBLIC": << Empty Schema >>
2021-07-02 07:14:42,226 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Migrating schema "PUBLIC" to version "1.1.0 - init migration"
2021-07-02 07:14:42,251 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully applied 1 migration to schema "PUBLIC", now at version v1.1.0 (execution time 00:00.036s)
2021-07-02 07:14:42,395 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-07-02 07:14:42,451 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.4.32.Final
2021-07-02 07:14:42,593 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-07-02 07:14:42,720 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-07-02 07:14:43,213 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-07-02 07:14:43,222 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 07:14:43,634 INFO org.eclipse.jetty.util.log.Log [main] Logging initialized @4458ms to org.eclipse.jetty.util.log.Slf4jLog
2021-07-02 07:14:43,759 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-07-02 07:14:43,998 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [main] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2021-07-02 07:14:45,765 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2021-07-02 07:14:45,765 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2021-07-02 07:14:45,771 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 14 endpoint(s) beneath base path ''
2021-07-02 07:14:45,792 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 27 ms
2021-07-02 07:14:45,821 INFO org.springframework.boot.StartupInfoLogger [main] Started TransferControllerTest in 5.533 seconds (JVM running for 6.645)
2021-07-02 07:14:46,038 ERROR com.payment.configuration.ErrorManagementConfiguration [main] JSON parse error: Expected array or string.; nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Expected array or string.
 at [Source: (PushbackInputStream); line: 1, column: 104] (through reference chain: com.payment.api.command.TransferRequestCommand$TransferRequestCommandBuilder["request_date"])
2021-07-02 07:14:46,092 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringContextShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 07:14:46,094 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown initiated...
2021-07-02 07:14:46,097 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown completed.
2021-07-02 07:15:32,687 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.payment.api.TransferControllerTest], using SpringBootContextLoader
2021-07-02 07:15:32,694 INFO org.springframework.test.context.support.AbstractContextLoader [main] Could not detect default resource locations for test class [com.payment.api.TransferControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2021-07-02 07:15:32,695 INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.payment.api.TransferControllerTest]: TransferControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2021-07-02 07:15:32,819 INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.payment.PaymentApplicationService for test class com.payment.api.TransferControllerTest
2021-07-02 07:15:32,924 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2021-07-02 07:15:32,942 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@67ef029, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@7df587ef, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@6e57e95e, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@2755d705, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@56db847e, org.springframework.test.context.support.DirtiesContextTestExecutionListener@740abb5, org.springframework.test.context.transaction.TransactionalTestExecutionListener@560cbf1a, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5fe8b721, org.springframework.test.context.event.EventPublishingTestExecutionListener@551a20d6, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@578524c3, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@64c2b546, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@7e094740, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@7a11c4c7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@4cc547a, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@7555b920]
2021-07-02 07:15:33,258 WARN org.springframework.boot.ImageBanner [main] Image banner not printable: class path resource [banner.txt] (class java.lang.IllegalStateException: 'Unable to read image banner source')
2021-07-02 07:15:33,327 INFO org.springframework.boot.StartupInfoLogger [main] Starting TransferControllerTest using Java 11.0.11 on adeolas-MacBook-Pro.local with PID 61762 (started by adeolaojo in /Users/adeolaojo/Code/payment-transfer-service)
2021-07-02 07:15:33,329 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2021-07-02 07:15:34,196 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-07-02 07:15:34,247 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 44 ms. Found 2 JPA repository interfaces.
2021-07-02 07:15:34,745 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Flyway Community Edition 7.10.0 by Redgate
2021-07-02 07:15:34,751 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2021-07-02 07:15:34,904 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2021-07-02 07:15:34,931 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Database: jdbc:h2:mem:testdb (H2 1.4)
2021-07-02 07:15:34,994 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully validated 1 migration (execution time 00:00.019s)
2021-07-02 07:15:35,008 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2021-07-02 07:15:35,050 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Current version of schema "PUBLIC": << Empty Schema >>
2021-07-02 07:15:35,059 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Migrating schema "PUBLIC" to version "1.1.0 - init migration"
2021-07-02 07:15:35,086 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully applied 1 migration to schema "PUBLIC", now at version v1.1.0 (execution time 00:00.041s)
2021-07-02 07:15:35,207 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-07-02 07:15:35,254 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.4.32.Final
2021-07-02 07:15:35,371 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-07-02 07:15:35,478 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-07-02 07:15:35,946 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-07-02 07:15:35,956 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 07:15:36,398 INFO org.eclipse.jetty.util.log.Log [main] Logging initialized @5279ms to org.eclipse.jetty.util.log.Slf4jLog
2021-07-02 07:15:36,546 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-07-02 07:15:36,854 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [main] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2021-07-02 07:15:37,883 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2021-07-02 07:15:37,884 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2021-07-02 07:15:37,890 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 14 endpoint(s) beneath base path ''
2021-07-02 07:15:37,915 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 31 ms
2021-07-02 07:15:37,970 INFO org.springframework.boot.StartupInfoLogger [main] Started TransferControllerTest in 4.985 seconds (JVM running for 6.851)
2021-07-02 07:16:55,318 WARN com.zaxxer.hikari.pool.HikariPool$HouseKeeper [HikariPool-1 housekeeper] HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m20s314ms).
2021-07-02 07:16:55,380 ERROR com.payment.configuration.ErrorManagementConfiguration [main] JSON parse error: Expected array or string.; nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Expected array or string.
 at [Source: (PushbackInputStream); line: 1, column: 104] (through reference chain: com.payment.api.command.TransferRequestCommand$TransferRequestCommandBuilder["request_date"])
2021-07-02 07:16:55,386 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringContextShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 07:16:55,389 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown initiated...
2021-07-02 07:16:55,392 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown completed.
2021-07-02 07:16:55,420 WARN org.springframework.test.context.TestContextManager [main] Caught exception while invoking 'afterTestExecution' callback on TestExecutionListener [org.springframework.test.context.event.EventPublishingTestExecutionListener@551a20d6] for test method [void com.payment.api.TransferControllerTest.givenValidTransferRequest_OnPost_ReturnValidTransferResponse_And_200()] and test instance [com.payment.api.TransferControllerTest@50e7d8ba]
java.lang.IllegalStateException: The ApplicationContext loaded for [[WebMergedContextConfiguration@2298d741 testClass = TransferControllerTest, locations = '{}', classes = '{class com.payment.PaymentApplicationService}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@34a48013 key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@13f95696, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@32193bea, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1e8ce150, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@62e20a76, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@28e8dde3, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@19dc67c2], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]]] is not active. This may be due to one of the following reasons: 1) the context was closed programmatically by user code; 2) the context was closed during parallel test execution either according to @DirtiesContext semantics or due to automatic eviction from the ContextCache due to a maximum cache size policy.
	at org.springframework.util.Assert.state(Assert.java:97)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:128)
	at org.springframework.test.context.TestContext.publishEvent(TestContext.java:94)
	at org.springframework.test.context.event.EventPublishingTestExecutionListener.afterTestExecution(EventPublishingTestExecutionListener.java:129)
	at org.springframework.test.context.TestContextManager.afterTestExecution(TestContextManager.java:379)
	at org.springframework.test.context.junit.jupiter.SpringExtension.afterTestExecution(SpringExtension.java:195)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeAfterTestExecutionCallbacks$8(TestMethodTestDescriptor.java:229)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeAllAfterMethodsOrCallbacks$12(TestMethodTestDescriptor.java:269)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeAllAfterMethodsOrCallbacks$13(TestMethodTestDescriptor.java:269)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeAllAfterMethodsOrCallbacks(TestMethodTestDescriptor.java:268)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeAfterTestExecutionCallbacks(TestMethodTestDescriptor.java:228)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:133)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:65)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:221)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
2021-07-02 07:16:55,422 WARN org.springframework.test.context.TestContextManager [main] Caught exception while invoking 'afterTestMethod' callback on TestExecutionListener [org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@4cc547a] for test method [void com.payment.api.TransferControllerTest.givenValidTransferRequest_OnPost_ReturnValidTransferResponse_And_200()] and test instance [com.payment.api.TransferControllerTest@50e7d8ba]
java.lang.IllegalStateException: The ApplicationContext loaded for [[WebMergedContextConfiguration@2298d741 testClass = TransferControllerTest, locations = '{}', classes = '{class com.payment.PaymentApplicationService}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@34a48013 key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@13f95696, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@32193bea, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1e8ce150, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@62e20a76, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@28e8dde3, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@19dc67c2], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]]] is not active. This may be due to one of the following reasons: 1) the context was closed programmatically by user code; 2) the context was closed during parallel test execution either according to @DirtiesContext semantics or due to automatic eviction from the ContextCache due to a maximum cache size policy.
	at org.springframework.util.Assert.state(Assert.java:97)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:128)
	at org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener.afterTestMethod(WebDriverTestExecutionListener.java:41)
	at org.springframework.test.context.TestContextManager.afterTestMethod(TestContextManager.java:441)
	at org.springframework.test.context.junit.jupiter.SpringExtension.afterEach(SpringExtension.java:206)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeAfterEachCallbacks$11(TestMethodTestDescriptor.java:253)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeAllAfterMethodsOrCallbacks$12(TestMethodTestDescriptor.java:269)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeAllAfterMethodsOrCallbacks$13(TestMethodTestDescriptor.java:269)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeAllAfterMethodsOrCallbacks(TestMethodTestDescriptor.java:268)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeAfterEachCallbacks(TestMethodTestDescriptor.java:252)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:137)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:65)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:221)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
2021-07-02 07:16:55,422 WARN org.springframework.test.context.TestContextManager [main] Caught exception while invoking 'afterTestMethod' callback on TestExecutionListener [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@7a11c4c7] for test method [void com.payment.api.TransferControllerTest.givenValidTransferRequest_OnPost_ReturnValidTransferResponse_And_200()] and test instance [com.payment.api.TransferControllerTest@50e7d8ba]
java.lang.IllegalStateException: The ApplicationContext loaded for [[WebMergedContextConfiguration@2298d741 testClass = TransferControllerTest, locations = '{}', classes = '{class com.payment.PaymentApplicationService}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@34a48013 key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@13f95696, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@32193bea, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1e8ce150, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@62e20a76, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@28e8dde3, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@19dc67c2], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]]] is not active. This may be due to one of the following reasons: 1) the context was closed programmatically by user code; 2) the context was closed during parallel test execution either according to @DirtiesContext semantics or due to automatic eviction from the ContextCache due to a maximum cache size policy.
	at org.springframework.util.Assert.state(Assert.java:97)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:128)
	at org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener.afterTestMethod(MockMvcPrintOnlyOnFailureTestExecutionListener.java:39)
	at org.springframework.test.context.TestContextManager.afterTestMethod(TestContextManager.java:441)
	at org.springframework.test.context.junit.jupiter.SpringExtension.afterEach(SpringExtension.java:206)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeAfterEachCallbacks$11(TestMethodTestDescriptor.java:253)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeAllAfterMethodsOrCallbacks$12(TestMethodTestDescriptor.java:269)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeAllAfterMethodsOrCallbacks$13(TestMethodTestDescriptor.java:269)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeAllAfterMethodsOrCallbacks(TestMethodTestDescriptor.java:268)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeAfterEachCallbacks(TestMethodTestDescriptor.java:252)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:137)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:65)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:221)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
2021-07-02 07:16:55,423 WARN org.springframework.test.context.TestContextManager [main] Caught exception while invoking 'afterTestMethod' callback on TestExecutionListener [org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@7e094740] for test method [void com.payment.api.TransferControllerTest.givenValidTransferRequest_OnPost_ReturnValidTransferResponse_And_200()] and test instance [com.payment.api.TransferControllerTest@50e7d8ba]
java.lang.IllegalStateException: The ApplicationContext loaded for [[WebMergedContextConfiguration@2298d741 testClass = TransferControllerTest, locations = '{}', classes = '{class com.payment.PaymentApplicationService}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@34a48013 key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@13f95696, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@32193bea, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1e8ce150, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@62e20a76, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@28e8dde3, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@19dc67c2], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]]] is not active. This may be due to one of the following reasons: 1) the context was closed programmatically by user code; 2) the context was closed during parallel test execution either according to @DirtiesContext semantics or due to automatic eviction from the ContextCache due to a maximum cache size policy.
	at org.springframework.util.Assert.state(Assert.java:97)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:128)
	at org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener.afterTestMethod(MockRestServiceServerResetTestExecutionListener.java:40)
	at org.springframework.test.context.TestContextManager.afterTestMethod(TestContextManager.java:441)
	at org.springframework.test.context.junit.jupiter.SpringExtension.afterEach(SpringExtension.java:206)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeAfterEachCallbacks$11(TestMethodTestDescriptor.java:253)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeAllAfterMethodsOrCallbacks$12(TestMethodTestDescriptor.java:269)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeAllAfterMethodsOrCallbacks$13(TestMethodTestDescriptor.java:269)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeAllAfterMethodsOrCallbacks(TestMethodTestDescriptor.java:268)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeAfterEachCallbacks(TestMethodTestDescriptor.java:252)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:137)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:65)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:221)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
2021-07-02 07:16:55,423 WARN org.springframework.test.context.TestContextManager [main] Caught exception while invoking 'afterTestMethod' callback on TestExecutionListener [org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@578524c3] for test method [void com.payment.api.TransferControllerTest.givenValidTransferRequest_OnPost_ReturnValidTransferResponse_And_200()] and test instance [com.payment.api.TransferControllerTest@50e7d8ba]
java.lang.IllegalStateException: The ApplicationContext loaded for [[WebMergedContextConfiguration@2298d741 testClass = TransferControllerTest, locations = '{}', classes = '{class com.payment.PaymentApplicationService}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@34a48013 key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@13f95696, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@32193bea, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1e8ce150, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@62e20a76, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@28e8dde3, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@19dc67c2], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]]] is not active. This may be due to one of the following reasons: 1) the context was closed programmatically by user code; 2) the context was closed during parallel test execution either according to @DirtiesContext semantics or due to automatic eviction from the ContextCache due to a maximum cache size policy.
	at org.springframework.util.Assert.state(Assert.java:97)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:128)
	at org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener.afterTestMethod(ResetMocksTestExecutionListener.java:64)
	at org.springframework.test.context.TestContextManager.afterTestMethod(TestContextManager.java:441)
	at org.springframework.test.context.junit.jupiter.SpringExtension.afterEach(SpringExtension.java:206)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeAfterEachCallbacks$11(TestMethodTestDescriptor.java:253)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeAllAfterMethodsOrCallbacks$12(TestMethodTestDescriptor.java:269)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeAllAfterMethodsOrCallbacks$13(TestMethodTestDescriptor.java:269)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeAllAfterMethodsOrCallbacks(TestMethodTestDescriptor.java:268)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeAfterEachCallbacks(TestMethodTestDescriptor.java:252)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:137)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:65)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:221)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
2021-07-02 07:16:55,424 WARN org.springframework.test.context.TestContextManager [main] Caught exception while invoking 'afterTestMethod' callback on TestExecutionListener [org.springframework.test.context.event.EventPublishingTestExecutionListener@551a20d6] for test method [void com.payment.api.TransferControllerTest.givenValidTransferRequest_OnPost_ReturnValidTransferResponse_And_200()] and test instance [com.payment.api.TransferControllerTest@50e7d8ba]
java.lang.IllegalStateException: The ApplicationContext loaded for [[WebMergedContextConfiguration@2298d741 testClass = TransferControllerTest, locations = '{}', classes = '{class com.payment.PaymentApplicationService}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@34a48013 key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@13f95696, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@32193bea, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1e8ce150, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@62e20a76, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@28e8dde3, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@19dc67c2], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]]] is not active. This may be due to one of the following reasons: 1) the context was closed programmatically by user code; 2) the context was closed during parallel test execution either according to @DirtiesContext semantics or due to automatic eviction from the ContextCache due to a maximum cache size policy.
	at org.springframework.util.Assert.state(Assert.java:97)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:128)
	at org.springframework.test.context.TestContext.publishEvent(TestContext.java:94)
	at org.springframework.test.context.event.EventPublishingTestExecutionListener.afterTestMethod(EventPublishingTestExecutionListener.java:138)
	at org.springframework.test.context.TestContextManager.afterTestMethod(TestContextManager.java:441)
	at org.springframework.test.context.junit.jupiter.SpringExtension.afterEach(SpringExtension.java:206)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeAfterEachCallbacks$11(TestMethodTestDescriptor.java:253)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeAllAfterMethodsOrCallbacks$12(TestMethodTestDescriptor.java:269)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeAllAfterMethodsOrCallbacks$13(TestMethodTestDescriptor.java:269)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeAllAfterMethodsOrCallbacks(TestMethodTestDescriptor.java:268)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeAfterEachCallbacks(TestMethodTestDescriptor.java:252)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:137)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:65)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:221)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
2021-07-02 07:16:55,438 WARN org.springframework.test.context.TestContextManager [main] Caught exception while invoking 'afterTestClass' callback on TestExecutionListener [org.springframework.test.context.event.EventPublishingTestExecutionListener@551a20d6] for test class [class com.payment.api.TransferControllerTest]
java.lang.IllegalStateException: The ApplicationContext loaded for [[WebMergedContextConfiguration@2298d741 testClass = TransferControllerTest, locations = '{}', classes = '{class com.payment.PaymentApplicationService}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@34a48013 key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@13f95696, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@32193bea, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1e8ce150, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@62e20a76, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@28e8dde3, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@19dc67c2], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]]] is not active. This may be due to one of the following reasons: 1) the context was closed programmatically by user code; 2) the context was closed during parallel test execution either according to @DirtiesContext semantics or due to automatic eviction from the ContextCache due to a maximum cache size policy.
	at org.springframework.util.Assert.state(Assert.java:97)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:128)
	at org.springframework.test.context.TestContext.publishEvent(TestContext.java:94)
	at org.springframework.test.context.event.EventPublishingTestExecutionListener.afterTestClass(EventPublishingTestExecutionListener.java:147)
	at org.springframework.test.context.TestContextManager.afterTestClass(TestContextManager.java:488)
	at org.springframework.test.context.junit.jupiter.SpringExtension.afterAll(SpringExtension.java:122)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeAfterAllCallbacks$14(ClassBasedTestDescriptor.java:434)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeAfterAllCallbacks$15(ClassBasedTestDescriptor.java:434)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeAfterAllCallbacks(ClassBasedTestDescriptor.java:434)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.after(ClassBasedTestDescriptor.java:216)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.after(ClassBasedTestDescriptor.java:78)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:149)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:149)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:221)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
2021-07-02 07:16:59,441 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.payment.api.TransferControllerTest], using SpringBootContextLoader
2021-07-02 07:16:59,449 INFO org.springframework.test.context.support.AbstractContextLoader [main] Could not detect default resource locations for test class [com.payment.api.TransferControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2021-07-02 07:16:59,450 INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.payment.api.TransferControllerTest]: TransferControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2021-07-02 07:16:59,582 INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.payment.PaymentApplicationService for test class com.payment.api.TransferControllerTest
2021-07-02 07:16:59,683 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2021-07-02 07:16:59,700 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@67ef029, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@7df587ef, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@6e57e95e, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@2755d705, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@56db847e, org.springframework.test.context.support.DirtiesContextTestExecutionListener@740abb5, org.springframework.test.context.transaction.TransactionalTestExecutionListener@560cbf1a, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5fe8b721, org.springframework.test.context.event.EventPublishingTestExecutionListener@551a20d6, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@578524c3, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@64c2b546, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@7e094740, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@7a11c4c7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@4cc547a, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@7555b920]
2021-07-02 07:17:00,013 WARN org.springframework.boot.ImageBanner [main] Image banner not printable: class path resource [banner.txt] (class java.lang.IllegalStateException: 'Unable to read image banner source')
2021-07-02 07:17:00,083 INFO org.springframework.boot.StartupInfoLogger [main] Starting TransferControllerTest using Java 11.0.11 on adeolas-MacBook-Pro.local with PID 64475 (started by adeolaojo in /Users/adeolaojo/Code/payment-transfer-service)
2021-07-02 07:17:00,085 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2021-07-02 07:17:01,018 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-07-02 07:17:01,070 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 44 ms. Found 2 JPA repository interfaces.
2021-07-02 07:17:01,584 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Flyway Community Edition 7.10.0 by Redgate
2021-07-02 07:17:01,590 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2021-07-02 07:17:01,767 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2021-07-02 07:17:01,799 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Database: jdbc:h2:mem:testdb (H2 1.4)
2021-07-02 07:17:01,872 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully validated 1 migration (execution time 00:00.024s)
2021-07-02 07:17:01,893 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2021-07-02 07:17:01,947 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Current version of schema "PUBLIC": << Empty Schema >>
2021-07-02 07:17:01,956 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Migrating schema "PUBLIC" to version "1.1.0 - init migration"
2021-07-02 07:17:01,989 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully applied 1 migration to schema "PUBLIC", now at version v1.1.0 (execution time 00:00.047s)
2021-07-02 07:17:02,141 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-07-02 07:17:02,197 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.4.32.Final
2021-07-02 07:17:02,347 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-07-02 07:17:02,488 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-07-02 07:17:03,049 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-07-02 07:17:03,057 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 07:17:03,532 INFO org.eclipse.jetty.util.log.Log [main] Logging initialized @4983ms to org.eclipse.jetty.util.log.Slf4jLog
2021-07-02 07:17:03,701 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-07-02 07:17:04,015 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [main] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2021-07-02 07:17:05,220 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2021-07-02 07:17:05,220 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2021-07-02 07:17:05,227 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 14 endpoint(s) beneath base path ''
2021-07-02 07:17:05,255 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 35 ms
2021-07-02 07:17:05,290 INFO org.springframework.boot.StartupInfoLogger [main] Started TransferControllerTest in 5.553 seconds (JVM running for 6.741)
2021-07-02 07:17:46,556 INFO com.payment.api.TransferController [main] validating transfer request fd284530-449d-41b6-8a99-03c3cdb0c74f
2021-07-02 07:17:46,557 INFO com.payment.api.TransferController [main] completed request validation successfully for fd284530-449d-41b6-8a99-03c3cdb0c74f
2021-07-02 07:17:46,557 INFO com.payment.api.TransferController [main] processing transfer: fd284530-449d-41b6-8a99-03c3cdb0c74f
2021-07-02 07:17:46,562 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findCustomerAccountByAccountNumberAndAccountType]: This method is not transactional.
2021-07-02 07:17:46,707 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByCustomerAccountId]: This method is not transactional.
2021-07-02 07:17:46,720 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2021-07-02 07:17:46,741 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2021-07-02 07:17:46,747 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByCustomerAccountId]: This method is not transactional.
2021-07-02 07:17:46,748 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2021-07-02 07:17:46,753 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2021-07-02 07:17:46,802 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringContextShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 07:17:46,804 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown initiated...
2021-07-02 07:17:46,806 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown completed.
2021-07-02 07:18:09,494 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.payment.api.TransferControllerTest], using SpringBootContextLoader
2021-07-02 07:18:09,500 INFO org.springframework.test.context.support.AbstractContextLoader [main] Could not detect default resource locations for test class [com.payment.api.TransferControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2021-07-02 07:18:09,500 INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.payment.api.TransferControllerTest]: TransferControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2021-07-02 07:18:09,615 INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.payment.PaymentApplicationService for test class com.payment.api.TransferControllerTest
2021-07-02 07:18:09,713 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2021-07-02 07:18:09,727 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@4816c290, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4940809c, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@16423501, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@4efcf8a, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@7a138fc5, org.springframework.test.context.support.DirtiesContextTestExecutionListener@379ab47b, org.springframework.test.context.transaction.TransactionalTestExecutionListener@307765b4, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@4a9e6faf, org.springframework.test.context.event.EventPublishingTestExecutionListener@2c95ac9e, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@4e4efc1b, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@459f7aa3, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@7cc586a8, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@7db534f2, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@44a2b17b, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@7a56812e]
2021-07-02 07:18:10,008 WARN org.springframework.boot.ImageBanner [main] Image banner not printable: class path resource [banner.txt] (class java.lang.IllegalStateException: 'Unable to read image banner source')
2021-07-02 07:18:10,078 INFO org.springframework.boot.StartupInfoLogger [main] Starting TransferControllerTest using Java 11.0.11 on adeolas-MacBook-Pro.local with PID 66836 (started by adeolaojo in /Users/adeolaojo/Code/payment-transfer-service)
2021-07-02 07:18:10,080 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2021-07-02 07:18:10,941 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-07-02 07:18:10,992 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 44 ms. Found 2 JPA repository interfaces.
2021-07-02 07:18:11,438 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Flyway Community Edition 7.10.0 by Redgate
2021-07-02 07:18:11,443 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2021-07-02 07:18:11,595 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2021-07-02 07:18:11,621 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Database: jdbc:h2:mem:testdb (H2 1.4)
2021-07-02 07:18:11,685 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully validated 1 migration (execution time 00:00.020s)
2021-07-02 07:18:11,705 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2021-07-02 07:18:11,757 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Current version of schema "PUBLIC": << Empty Schema >>
2021-07-02 07:18:11,767 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Migrating schema "PUBLIC" to version "1.1.0 - init migration"
2021-07-02 07:18:11,798 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully applied 1 migration to schema "PUBLIC", now at version v1.1.0 (execution time 00:00.047s)
2021-07-02 07:18:11,948 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-07-02 07:18:12,003 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.4.32.Final
2021-07-02 07:18:12,140 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-07-02 07:18:12,266 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-07-02 07:18:12,773 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-07-02 07:18:12,780 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 07:18:13,205 INFO org.eclipse.jetty.util.log.Log [main] Logging initialized @4602ms to org.eclipse.jetty.util.log.Slf4jLog
2021-07-02 07:18:13,329 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-07-02 07:18:13,582 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [main] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2021-07-02 07:18:14,656 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2021-07-02 07:18:14,657 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2021-07-02 07:18:14,663 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 14 endpoint(s) beneath base path ''
2021-07-02 07:18:14,688 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 31 ms
2021-07-02 07:18:14,725 INFO org.springframework.boot.StartupInfoLogger [main] Started TransferControllerTest in 4.963 seconds (JVM running for 6.121)
2021-07-02 07:18:14,931 INFO com.payment.api.TransferController [main] validating transfer request 615b2ae1-005e-44df-aed5-d14a77c77356
2021-07-02 07:18:14,931 INFO com.payment.api.TransferController [main] completed request validation successfully for 615b2ae1-005e-44df-aed5-d14a77c77356
2021-07-02 07:18:14,931 INFO com.payment.api.TransferController [main] processing transfer: 615b2ae1-005e-44df-aed5-d14a77c77356
2021-07-02 07:18:14,934 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findCustomerAccountByAccountNumberAndAccountType]: This method is not transactional.
2021-07-02 07:18:15,043 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByCustomerAccountId]: This method is not transactional.
2021-07-02 07:18:15,054 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2021-07-02 07:18:15,072 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2021-07-02 07:18:15,077 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByCustomerAccountId]: This method is not transactional.
2021-07-02 07:18:15,078 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2021-07-02 07:18:15,083 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2021-07-02 07:18:15,142 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringContextShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 07:18:15,144 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown initiated...
2021-07-02 07:18:15,148 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown completed.
2021-07-02 07:18:41,810 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.payment.api.TransferControllerTest], using SpringBootContextLoader
2021-07-02 07:18:41,815 INFO org.springframework.test.context.support.AbstractContextLoader [main] Could not detect default resource locations for test class [com.payment.api.TransferControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2021-07-02 07:18:41,816 INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.payment.api.TransferControllerTest]: TransferControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2021-07-02 07:18:41,917 INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.payment.PaymentApplicationService for test class com.payment.api.TransferControllerTest
2021-07-02 07:18:42,001 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2021-07-02 07:18:42,014 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@16423501, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4efcf8a, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@7a138fc5, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@379ab47b, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@307765b4, org.springframework.test.context.support.DirtiesContextTestExecutionListener@4a9e6faf, org.springframework.test.context.transaction.TransactionalTestExecutionListener@2c95ac9e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@4e4efc1b, org.springframework.test.context.event.EventPublishingTestExecutionListener@459f7aa3, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@7cc586a8, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@7db534f2, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@44a2b17b, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@7a56812e, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@2a76b80a, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@7eb01b12]
2021-07-02 07:18:42,287 WARN org.springframework.boot.ImageBanner [main] Image banner not printable: class path resource [banner.txt] (class java.lang.IllegalStateException: 'Unable to read image banner source')
2021-07-02 07:18:42,342 INFO org.springframework.boot.StartupInfoLogger [main] Starting TransferControllerTest using Java 11.0.11 on adeolas-MacBook-Pro.local with PID 67833 (started by adeolaojo in /Users/adeolaojo/Code/payment-transfer-service)
2021-07-02 07:18:42,344 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2021-07-02 07:18:43,188 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-07-02 07:18:43,246 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 50 ms. Found 2 JPA repository interfaces.
2021-07-02 07:18:43,684 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Flyway Community Edition 7.10.0 by Redgate
2021-07-02 07:18:43,690 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2021-07-02 07:18:43,856 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2021-07-02 07:18:43,887 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Database: jdbc:h2:mem:testdb (H2 1.4)
2021-07-02 07:18:43,948 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully validated 1 migration (execution time 00:00.019s)
2021-07-02 07:18:43,963 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2021-07-02 07:18:44,008 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Current version of schema "PUBLIC": << Empty Schema >>
2021-07-02 07:18:44,017 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Migrating schema "PUBLIC" to version "1.1.0 - init migration"
2021-07-02 07:18:44,048 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully applied 1 migration to schema "PUBLIC", now at version v1.1.0 (execution time 00:00.048s)
2021-07-02 07:18:44,195 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-07-02 07:18:44,254 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.4.32.Final
2021-07-02 07:18:44,363 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-07-02 07:18:44,463 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-07-02 07:18:44,917 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-07-02 07:18:44,925 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 07:18:45,352 INFO org.eclipse.jetty.util.log.Log [main] Logging initialized @4430ms to org.eclipse.jetty.util.log.Slf4jLog
2021-07-02 07:18:45,490 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-07-02 07:18:45,741 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [main] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2021-07-02 07:18:46,972 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2021-07-02 07:18:46,972 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2021-07-02 07:18:46,981 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 14 endpoint(s) beneath base path ''
2021-07-02 07:18:47,006 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 33 ms
2021-07-02 07:18:47,041 INFO org.springframework.boot.StartupInfoLogger [main] Started TransferControllerTest in 4.993 seconds (JVM running for 6.12)
2021-07-02 07:18:47,268 INFO com.payment.api.TransferController [main] validating transfer request 4ed2ded0-4ceb-453f-b6b7-ee678602270b
2021-07-02 07:18:47,269 INFO com.payment.api.TransferController [main] completed request validation successfully for 4ed2ded0-4ceb-453f-b6b7-ee678602270b
2021-07-02 07:18:47,269 INFO com.payment.api.TransferController [main] processing transfer: 4ed2ded0-4ceb-453f-b6b7-ee678602270b
2021-07-02 07:18:47,272 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findCustomerAccountByAccountNumberAndAccountType]: This method is not transactional.
2021-07-02 07:18:47,400 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByCustomerAccountId]: This method is not transactional.
2021-07-02 07:18:47,413 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2021-07-02 07:18:47,432 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2021-07-02 07:18:47,441 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByCustomerAccountId]: This method is not transactional.
2021-07-02 07:18:47,442 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2021-07-02 07:18:47,446 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2021-07-02 07:18:47,491 INFO com.payment.api.TransferController [main] validating transfer request 974677fd-489d-4030-9497-6fefefe8ed19
2021-07-02 07:18:47,491 INFO com.payment.api.TransferController [main] completed request validation successfully for 974677fd-489d-4030-9497-6fefefe8ed19
2021-07-02 07:18:47,492 INFO com.payment.api.TransferController [main] processing transfer: 974677fd-489d-4030-9497-6fefefe8ed19
2021-07-02 07:18:47,492 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findCustomerAccountByAccountNumberAndAccountType]: This method is not transactional.
2021-07-02 07:18:47,493 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByCustomerAccountId]: This method is not transactional.
2021-07-02 07:18:47,495 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2021-07-02 07:18:47,497 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2021-07-02 07:18:47,498 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByCustomerAccountId]: This method is not transactional.
2021-07-02 07:18:47,500 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2021-07-02 07:18:47,500 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2021-07-02 07:18:47,518 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringContextShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 07:18:47,521 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown initiated...
2021-07-02 07:18:47,524 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown completed.
2021-07-02 07:19:34,860 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.payment.api.TransferControllerTest], using SpringBootContextLoader
2021-07-02 07:19:34,867 INFO org.springframework.test.context.support.AbstractContextLoader [main] Could not detect default resource locations for test class [com.payment.api.TransferControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2021-07-02 07:19:34,867 INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.payment.api.TransferControllerTest]: TransferControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2021-07-02 07:19:34,996 INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.payment.PaymentApplicationService for test class com.payment.api.TransferControllerTest
2021-07-02 07:19:35,116 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2021-07-02 07:19:35,136 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@4816c290, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4940809c, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@16423501, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@4efcf8a, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@7a138fc5, org.springframework.test.context.support.DirtiesContextTestExecutionListener@379ab47b, org.springframework.test.context.transaction.TransactionalTestExecutionListener@307765b4, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@4a9e6faf, org.springframework.test.context.event.EventPublishingTestExecutionListener@2c95ac9e, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@4e4efc1b, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@459f7aa3, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@7cc586a8, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@7db534f2, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@44a2b17b, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@7a56812e]
2021-07-02 07:19:35,401 WARN org.springframework.boot.ImageBanner [main] Image banner not printable: class path resource [banner.txt] (class java.lang.IllegalStateException: 'Unable to read image banner source')
2021-07-02 07:19:35,469 INFO org.springframework.boot.StartupInfoLogger [main] Starting TransferControllerTest using Java 11.0.11 on adeolas-MacBook-Pro.local with PID 69515 (started by adeolaojo in /Users/adeolaojo/Code/payment-transfer-service)
2021-07-02 07:19:35,471 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2021-07-02 07:19:36,292 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-07-02 07:19:36,347 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 48 ms. Found 2 JPA repository interfaces.
2021-07-02 07:19:36,783 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Flyway Community Edition 7.10.0 by Redgate
2021-07-02 07:19:36,789 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2021-07-02 07:19:36,939 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2021-07-02 07:19:36,967 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Database: jdbc:h2:mem:testdb (H2 1.4)
2021-07-02 07:19:37,024 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully validated 1 migration (execution time 00:00.019s)
2021-07-02 07:19:37,035 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2021-07-02 07:19:37,079 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Current version of schema "PUBLIC": << Empty Schema >>
2021-07-02 07:19:37,092 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Migrating schema "PUBLIC" to version "1.1.0 - init migration"
2021-07-02 07:19:37,123 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully applied 1 migration to schema "PUBLIC", now at version v1.1.0 (execution time 00:00.050s)
2021-07-02 07:19:37,258 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-07-02 07:19:37,300 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.4.32.Final
2021-07-02 07:19:37,421 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-07-02 07:19:37,532 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-07-02 07:19:38,017 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-07-02 07:19:38,025 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 07:19:38,447 INFO org.eclipse.jetty.util.log.Log [main] Logging initialized @4477ms to org.eclipse.jetty.util.log.Slf4jLog
2021-07-02 07:19:38,573 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-07-02 07:19:38,818 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [main] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2021-07-02 07:19:40,254 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2021-07-02 07:19:40,255 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2021-07-02 07:19:40,265 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 14 endpoint(s) beneath base path ''
2021-07-02 07:19:40,295 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 40 ms
2021-07-02 07:19:40,333 INFO org.springframework.boot.StartupInfoLogger [main] Started TransferControllerTest in 5.169 seconds (JVM running for 6.363)
2021-07-02 07:19:40,575 INFO com.payment.api.TransferController [main] validating transfer request 45cea3a6-5b1e-49f6-bcb0-070ec2e50e1a
2021-07-02 07:19:40,575 INFO com.payment.api.TransferController [main] completed request validation successfully for 45cea3a6-5b1e-49f6-bcb0-070ec2e50e1a
2021-07-02 07:19:40,576 INFO com.payment.api.TransferController [main] processing transfer: 45cea3a6-5b1e-49f6-bcb0-070ec2e50e1a
2021-07-02 07:19:40,578 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findCustomerAccountByAccountNumberAndAccountType]: This method is not transactional.
2021-07-02 07:19:40,697 ERROR com.payment.configuration.ErrorManagementConfiguration [main] Account 10000000112 with type current not found
2021-07-02 07:19:40,745 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringContextShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 07:19:40,749 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown initiated...
2021-07-02 07:19:40,754 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown completed.
2021-07-02 07:23:14,972 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.payment.api.E2ETransferControllerTest], using SpringBootContextLoader
2021-07-02 07:23:14,977 INFO org.springframework.test.context.support.AbstractContextLoader [main] Could not detect default resource locations for test class [com.payment.api.E2ETransferControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2021-07-02 07:23:14,978 INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.payment.api.E2ETransferControllerTest]: E2ETransferControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2021-07-02 07:23:15,088 INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.payment.PaymentApplicationService for test class com.payment.api.E2ETransferControllerTest
2021-07-02 07:23:15,178 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2021-07-02 07:23:15,193 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@4816c290, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4940809c, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@16423501, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@4efcf8a, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@7a138fc5, org.springframework.test.context.support.DirtiesContextTestExecutionListener@379ab47b, org.springframework.test.context.transaction.TransactionalTestExecutionListener@307765b4, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@4a9e6faf, org.springframework.test.context.event.EventPublishingTestExecutionListener@2c95ac9e, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@4e4efc1b, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@459f7aa3, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@7cc586a8, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@7db534f2, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@44a2b17b, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@7a56812e]
2021-07-02 07:23:15,459 WARN org.springframework.boot.ImageBanner [main] Image banner not printable: class path resource [banner.txt] (class java.lang.IllegalStateException: 'Unable to read image banner source')
2021-07-02 07:23:15,518 INFO org.springframework.boot.StartupInfoLogger [main] Starting E2ETransferControllerTest using Java 11.0.11 on adeolas-MacBook-Pro.local with PID 76572 (started by adeolaojo in /Users/adeolaojo/Code/payment-transfer-service)
2021-07-02 07:23:15,520 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2021-07-02 07:23:16,261 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-07-02 07:23:16,302 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 35 ms. Found 2 JPA repository interfaces.
2021-07-02 07:23:16,724 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Flyway Community Edition 7.10.0 by Redgate
2021-07-02 07:23:16,730 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2021-07-02 07:23:16,891 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2021-07-02 07:23:16,928 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Database: jdbc:h2:mem:testdb (H2 1.4)
2021-07-02 07:23:16,991 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully validated 1 migration (execution time 00:00.019s)
2021-07-02 07:23:17,010 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2021-07-02 07:23:17,059 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Current version of schema "PUBLIC": << Empty Schema >>
2021-07-02 07:23:17,070 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Migrating schema "PUBLIC" to version "1.1.0 - init migration"
2021-07-02 07:23:17,100 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully applied 1 migration to schema "PUBLIC", now at version v1.1.0 (execution time 00:00.050s)
2021-07-02 07:23:17,249 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-07-02 07:23:17,298 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.4.32.Final
2021-07-02 07:23:17,429 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-07-02 07:23:17,529 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-07-02 07:23:17,960 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-07-02 07:23:17,966 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 07:23:18,333 INFO org.eclipse.jetty.util.log.Log [main] Logging initialized @4161ms to org.eclipse.jetty.util.log.Slf4jLog
2021-07-02 07:23:18,470 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-07-02 07:23:18,707 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [main] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2021-07-02 07:23:19,779 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2021-07-02 07:23:19,779 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2021-07-02 07:23:19,786 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 14 endpoint(s) beneath base path ''
2021-07-02 07:23:19,804 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 25 ms
2021-07-02 07:23:19,831 INFO org.springframework.boot.StartupInfoLogger [main] Started E2ETransferControllerTest in 4.609 seconds (JVM running for 5.659)
2021-07-02 07:23:19,946 INFO com.payment.api.AccountController [main] fetching account information for 1000000011:current
2021-07-02 07:23:19,948 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findCustomerAccountByAccountNumberAndAccountType]: This method is not transactional.
2021-07-02 07:23:20,047 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByCustomerAccountId]: This method is not transactional.
2021-07-02 07:23:20,134 INFO com.payment.api.TransferController [main] validating transfer request 42f36655-526d-4fbd-abe2-4ed9065515ac
2021-07-02 07:23:20,134 INFO com.payment.api.TransferController [main] completed request validation successfully for 42f36655-526d-4fbd-abe2-4ed9065515ac
2021-07-02 07:23:20,134 INFO com.payment.api.TransferController [main] processing transfer: 42f36655-526d-4fbd-abe2-4ed9065515ac
2021-07-02 07:23:20,135 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findCustomerAccountByAccountNumberAndAccountType]: This method is not transactional.
2021-07-02 07:23:20,136 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByCustomerAccountId]: This method is not transactional.
2021-07-02 07:23:20,141 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2021-07-02 07:23:20,155 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2021-07-02 07:23:20,160 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByCustomerAccountId]: This method is not transactional.
2021-07-02 07:23:20,161 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2021-07-02 07:23:20,164 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2021-07-02 07:23:20,190 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringContextShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 07:23:20,193 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown initiated...
2021-07-02 07:23:20,196 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown completed.
2021-07-02 07:24:21,520 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.payment.api.E2ETransferControllerTest], using SpringBootContextLoader
2021-07-02 07:24:21,525 INFO org.springframework.test.context.support.AbstractContextLoader [main] Could not detect default resource locations for test class [com.payment.api.E2ETransferControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2021-07-02 07:24:21,526 INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.payment.api.E2ETransferControllerTest]: E2ETransferControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2021-07-02 07:24:21,634 INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.payment.PaymentApplicationService for test class com.payment.api.E2ETransferControllerTest
2021-07-02 07:24:21,721 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2021-07-02 07:24:21,733 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@4816c290, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4940809c, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@16423501, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@4efcf8a, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@7a138fc5, org.springframework.test.context.support.DirtiesContextTestExecutionListener@379ab47b, org.springframework.test.context.transaction.TransactionalTestExecutionListener@307765b4, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@4a9e6faf, org.springframework.test.context.event.EventPublishingTestExecutionListener@2c95ac9e, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@4e4efc1b, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@459f7aa3, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@7cc586a8, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@7db534f2, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@44a2b17b, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@7a56812e]
2021-07-02 07:24:21,995 WARN org.springframework.boot.ImageBanner [main] Image banner not printable: class path resource [banner.txt] (class java.lang.IllegalStateException: 'Unable to read image banner source')
2021-07-02 07:24:22,046 INFO org.springframework.boot.StartupInfoLogger [main] Starting E2ETransferControllerTest using Java 11.0.11 on adeolas-MacBook-Pro.local with PID 78615 (started by adeolaojo in /Users/adeolaojo/Code/payment-transfer-service)
2021-07-02 07:24:22,048 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2021-07-02 07:24:22,798 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-07-02 07:24:22,842 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 37 ms. Found 2 JPA repository interfaces.
2021-07-02 07:24:23,242 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Flyway Community Edition 7.10.0 by Redgate
2021-07-02 07:24:23,246 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2021-07-02 07:24:23,387 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2021-07-02 07:24:23,414 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Database: jdbc:h2:mem:testdb (H2 1.4)
2021-07-02 07:24:23,474 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully validated 1 migration (execution time 00:00.020s)
2021-07-02 07:24:23,498 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2021-07-02 07:24:23,540 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Current version of schema "PUBLIC": << Empty Schema >>
2021-07-02 07:24:23,551 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Migrating schema "PUBLIC" to version "1.1.0 - init migration"
2021-07-02 07:24:23,585 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully applied 1 migration to schema "PUBLIC", now at version v1.1.0 (execution time 00:00.051s)
2021-07-02 07:24:23,718 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-07-02 07:24:23,760 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.4.32.Final
2021-07-02 07:24:23,881 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-07-02 07:24:23,984 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-07-02 07:24:24,474 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-07-02 07:24:24,481 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 07:24:24,889 INFO org.eclipse.jetty.util.log.Log [main] Logging initialized @4189ms to org.eclipse.jetty.util.log.Slf4jLog
2021-07-02 07:24:25,008 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-07-02 07:24:25,230 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [main] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2021-07-02 07:24:26,662 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2021-07-02 07:24:26,663 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2021-07-02 07:24:26,669 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 14 endpoint(s) beneath base path ''
2021-07-02 07:24:26,690 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 27 ms
2021-07-02 07:24:26,717 INFO org.springframework.boot.StartupInfoLogger [main] Started E2ETransferControllerTest in 4.956 seconds (JVM running for 6.017)
2021-07-02 07:24:26,846 INFO com.payment.api.AccountController [main] fetching account information for 1000000011:current
2021-07-02 07:24:26,848 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findCustomerAccountByAccountNumberAndAccountType]: This method is not transactional.
2021-07-02 07:24:26,958 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByCustomerAccountId]: This method is not transactional.
2021-07-02 07:24:27,051 INFO com.payment.api.TransferController [main] validating transfer request 9998bb20-f53d-44d3-88bb-b7e7587c97db
2021-07-02 07:24:27,052 INFO com.payment.api.TransferController [main] completed request validation successfully for 9998bb20-f53d-44d3-88bb-b7e7587c97db
2021-07-02 07:24:27,052 INFO com.payment.api.TransferController [main] processing transfer: 9998bb20-f53d-44d3-88bb-b7e7587c97db
2021-07-02 07:24:27,052 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findCustomerAccountByAccountNumberAndAccountType]: This method is not transactional.
2021-07-02 07:24:27,053 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByCustomerAccountId]: This method is not transactional.
2021-07-02 07:24:27,060 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2021-07-02 07:24:27,075 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2021-07-02 07:24:27,080 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByCustomerAccountId]: This method is not transactional.
2021-07-02 07:24:27,081 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2021-07-02 07:24:27,084 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2021-07-02 07:24:27,093 INFO com.payment.api.AccountController [main] fetching account information for 1000000011:current
2021-07-02 07:24:27,093 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findCustomerAccountByAccountNumberAndAccountType]: This method is not transactional.
2021-07-02 07:24:27,094 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByCustomerAccountId]: This method is not transactional.
2021-07-02 07:24:27,111 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringContextShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 07:24:27,114 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown initiated...
2021-07-02 07:24:27,117 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown completed.
2021-07-02 07:41:34,644 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.payment.api.TransferControllerTest], using SpringBootContextLoader
2021-07-02 07:41:34,655 INFO org.springframework.test.context.support.AbstractContextLoader [main] Could not detect default resource locations for test class [com.payment.api.TransferControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2021-07-02 07:41:34,657 INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.payment.api.TransferControllerTest]: TransferControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2021-07-02 07:41:34,870 INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.payment.PaymentApplicationService for test class com.payment.api.TransferControllerTest
2021-07-02 07:41:35,018 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2021-07-02 07:41:35,045 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@70eecdc2, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@c41709a, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@7db0565c, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@54ec8cc9, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@52eacb4b, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5528a42c, org.springframework.test.context.transaction.TransactionalTestExecutionListener@2a551a63, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1a6f5124, org.springframework.test.context.event.EventPublishingTestExecutionListener@1edb61b1, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@ec2bf82, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@cc62a3b, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@6cc0bcf6, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@29539e36, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@32f61a31, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@f5c79a6]
2021-07-02 07:41:35,482 WARN org.springframework.boot.ImageBanner [main] Image banner not printable: class path resource [banner.txt] (class java.lang.IllegalStateException: 'Unable to read image banner source')
2021-07-02 07:41:35,579 INFO org.springframework.boot.StartupInfoLogger [main] Starting TransferControllerTest using Java 11.0.11 on adeolas-MacBook-Pro.local with PID 12101 (started by adeolaojo in /Users/adeolaojo/Code/payment-transfer-service)
2021-07-02 07:41:35,581 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2021-07-02 07:41:36,847 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-07-02 07:41:36,921 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 63 ms. Found 2 JPA repository interfaces.
2021-07-02 07:41:37,589 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Flyway Community Edition 7.10.0 by Redgate
2021-07-02 07:41:37,598 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2021-07-02 07:41:37,869 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2021-07-02 07:41:37,920 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Database: jdbc:h2:mem:testdb (H2 1.4)
2021-07-02 07:41:38,023 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully validated 1 migration (execution time 00:00.034s)
2021-07-02 07:41:38,047 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2021-07-02 07:41:38,120 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Current version of schema "PUBLIC": << Empty Schema >>
2021-07-02 07:41:38,136 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Migrating schema "PUBLIC" to version "1.1.0 - init migration"
2021-07-02 07:41:38,190 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully applied 1 migration to schema "PUBLIC", now at version v1.1.0 (execution time 00:00.081s)
2021-07-02 07:41:38,442 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-07-02 07:41:38,557 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.4.32.Final
2021-07-02 07:41:38,839 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-07-02 07:41:39,057 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-07-02 07:41:39,945 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-07-02 07:41:39,958 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 07:41:40,642 INFO org.eclipse.jetty.util.log.Log [main] Logging initialized @7592ms to org.eclipse.jetty.util.log.Slf4jLog
2021-07-02 07:41:40,859 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-07-02 07:41:41,253 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [main] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2021-07-02 07:41:44,122 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2021-07-02 07:41:44,123 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2021-07-02 07:41:44,136 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 14 endpoint(s) beneath base path ''
2021-07-02 07:41:44,173 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 49 ms
2021-07-02 07:41:44,238 INFO org.springframework.boot.StartupInfoLogger [main] Started TransferControllerTest in 9.137 seconds (JVM running for 11.188)
2021-07-02 07:41:44,567 INFO com.payment.api.TransferController [main] validating transfer request 78a68aa8-34ad-4979-a447-42636392dacf
2021-07-02 07:41:44,568 INFO com.payment.api.TransferController [main] completed request validation successfully for 78a68aa8-34ad-4979-a447-42636392dacf
2021-07-02 07:41:44,568 INFO com.payment.api.TransferController [main] processing transfer: 78a68aa8-34ad-4979-a447-42636392dacf
2021-07-02 07:41:44,572 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findCustomerAccountByAccountNumberAndAccountType]: This method is not transactional.
2021-07-02 07:41:44,753 ERROR com.payment.configuration.ErrorManagementConfiguration [main] Account 10000000112 with type current not found
2021-07-02 07:41:44,812 INFO com.payment.api.TransferController [main] validating transfer request 84fdf58e-36b8-400e-a959-225349605d69
2021-07-02 07:41:44,812 INFO com.payment.api.TransferController [main] completed request validation successfully for 84fdf58e-36b8-400e-a959-225349605d69
2021-07-02 07:41:44,812 INFO com.payment.api.TransferController [main] processing transfer: 84fdf58e-36b8-400e-a959-225349605d69
2021-07-02 07:41:44,813 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findCustomerAccountByAccountNumberAndAccountType]: This method is not transactional.
2021-07-02 07:41:44,831 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByCustomerAccountId]: This method is not transactional.
2021-07-02 07:41:44,850 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2021-07-02 07:41:44,877 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2021-07-02 07:41:44,886 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByCustomerAccountId]: This method is not transactional.
2021-07-02 07:41:44,888 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2021-07-02 07:41:44,896 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2021-07-02 07:41:44,923 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.payment.api.AccountControllerTest], using SpringBootContextLoader
2021-07-02 07:41:44,925 INFO org.springframework.test.context.support.AbstractContextLoader [main] Could not detect default resource locations for test class [com.payment.api.AccountControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2021-07-02 07:41:44,925 INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.payment.api.AccountControllerTest]: AccountControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2021-07-02 07:41:44,930 INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.payment.PaymentApplicationService for test class com.payment.api.AccountControllerTest
2021-07-02 07:41:44,932 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2021-07-02 07:41:44,932 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@443819d5, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@465a121d, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@23938caa, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@643bef2a, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@6049b4c9, org.springframework.test.context.support.DirtiesContextTestExecutionListener@76958827, org.springframework.test.context.transaction.TransactionalTestExecutionListener@495cac83, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7225583d, org.springframework.test.context.event.EventPublishingTestExecutionListener@5fe7454c, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@5e92a27, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@297db6ad, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@71c1e70f, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@1469015e, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@581da9e6, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@1c11a496]
2021-07-02 07:41:44,953 ERROR com.payment.configuration.ErrorManagementConfiguration [main] invalid account number
2021-07-02 07:41:44,964 ERROR com.payment.configuration.ErrorManagementConfiguration [main] invalid account type, ensure either current or savings type
2021-07-02 07:41:44,976 INFO com.payment.api.AccountController [main] fetching account information for 1000000011:savings
2021-07-02 07:41:44,977 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findCustomerAccountByAccountNumberAndAccountType]: This method is not transactional.
2021-07-02 07:41:44,979 ERROR com.payment.configuration.ErrorManagementConfiguration [main] Account not found, please check senders account number or account type
2021-07-02 07:41:44,993 INFO com.payment.api.AccountController [main] fetching account information for 1000000011:current
2021-07-02 07:41:44,994 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findCustomerAccountByAccountNumberAndAccountType]: This method is not transactional.
2021-07-02 07:41:44,995 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByCustomerAccountId]: This method is not transactional.
2021-07-02 07:41:45,019 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.payment.api.E2ETransferControllerTest], using SpringBootContextLoader
2021-07-02 07:41:45,020 INFO org.springframework.test.context.support.AbstractContextLoader [main] Could not detect default resource locations for test class [com.payment.api.E2ETransferControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2021-07-02 07:41:45,021 INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.payment.api.E2ETransferControllerTest]: E2ETransferControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2021-07-02 07:41:45,024 INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.payment.PaymentApplicationService for test class com.payment.api.E2ETransferControllerTest
2021-07-02 07:41:45,026 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2021-07-02 07:41:45,027 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@148c571c, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@545e200b, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@3a22c944, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@1b6441c9, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@6da6c10e, org.springframework.test.context.support.DirtiesContextTestExecutionListener@485dfac9, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6419726f, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5d4a1d2c, org.springframework.test.context.event.EventPublishingTestExecutionListener@63f093a, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@21132086, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@e36a4c1, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@3986b56, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@7d90d4c6, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@453fcce2, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@7e147828]
2021-07-02 07:41:45,038 INFO com.payment.api.AccountController [main] fetching account information for 1000000011:current
2021-07-02 07:41:45,038 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findCustomerAccountByAccountNumberAndAccountType]: This method is not transactional.
2021-07-02 07:41:45,041 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByCustomerAccountId]: This method is not transactional.
2021-07-02 07:41:45,076 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringContextShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 07:41:45,081 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown initiated...
2021-07-02 07:41:45,089 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown completed.
2021-07-02 07:42:40,077 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.payment.api.TransferControllerTest], using SpringBootContextLoader
2021-07-02 07:42:40,084 INFO org.springframework.test.context.support.AbstractContextLoader [main] Could not detect default resource locations for test class [com.payment.api.TransferControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2021-07-02 07:42:40,085 INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.payment.api.TransferControllerTest]: TransferControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2021-07-02 07:42:40,238 INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.payment.PaymentApplicationService for test class com.payment.api.TransferControllerTest
2021-07-02 07:42:40,377 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2021-07-02 07:42:40,400 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@503d56b5, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@72bca894, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@433ffad1, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@1fc793c2, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@2575f671, org.springframework.test.context.support.DirtiesContextTestExecutionListener@329a1243, org.springframework.test.context.transaction.TransactionalTestExecutionListener@ecf9fb3, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@2d35442b, org.springframework.test.context.event.EventPublishingTestExecutionListener@27f9e982, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@4593ff34, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@37d3d232, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@30c0ccff, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@581d969c, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@22db8f4, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@2b46a8c1]
2021-07-02 07:42:40,977 WARN org.springframework.boot.ImageBanner [main] Image banner not printable: class path resource [banner.txt] (class java.lang.IllegalStateException: 'Unable to read image banner source')
2021-07-02 07:42:41,069 INFO org.springframework.boot.StartupInfoLogger [main] Starting TransferControllerTest using Java 11.0.11 on adeolas-MacBook-Pro.local with PID 14136 (started by adeolaojo in /Users/adeolaojo/Code/payment-transfer-service)
2021-07-02 07:42:41,071 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2021-07-02 07:42:42,400 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-07-02 07:42:42,465 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 55 ms. Found 2 JPA repository interfaces.
2021-07-02 07:42:43,104 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Flyway Community Edition 7.10.0 by Redgate
2021-07-02 07:42:43,111 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2021-07-02 07:42:43,351 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2021-07-02 07:42:43,402 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Database: jdbc:h2:mem:testdb (H2 1.4)
2021-07-02 07:42:43,498 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully validated 1 migration (execution time 00:00.030s)
2021-07-02 07:42:43,518 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2021-07-02 07:42:43,589 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Current version of schema "PUBLIC": << Empty Schema >>
2021-07-02 07:42:43,602 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Migrating schema "PUBLIC" to version "1.1.0 - init migration"
2021-07-02 07:42:43,658 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully applied 1 migration to schema "PUBLIC", now at version v1.1.0 (execution time 00:00.079s)
2021-07-02 07:42:43,886 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-07-02 07:42:43,975 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.4.32.Final
2021-07-02 07:42:44,197 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-07-02 07:42:44,354 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-07-02 07:42:44,998 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-07-02 07:42:45,011 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 07:42:45,603 INFO org.eclipse.jetty.util.log.Log [main] Logging initialized @6694ms to org.eclipse.jetty.util.log.Slf4jLog
2021-07-02 07:42:45,782 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-07-02 07:42:46,172 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [main] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2021-07-02 07:42:48,010 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2021-07-02 07:42:48,011 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2021-07-02 07:42:48,027 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 14 endpoint(s) beneath base path ''
2021-07-02 07:42:48,072 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 60 ms
2021-07-02 07:42:48,138 INFO org.springframework.boot.StartupInfoLogger [main] Started TransferControllerTest in 7.687 seconds (JVM running for 9.23)
2021-07-02 07:42:48,485 INFO com.payment.api.TransferController [main] validating transfer request 94bcb2ca-78e8-40fd-91aa-538fa9fc4c53
2021-07-02 07:42:48,486 INFO com.payment.api.TransferController [main] completed request validation successfully for 94bcb2ca-78e8-40fd-91aa-538fa9fc4c53
2021-07-02 07:42:48,486 INFO com.payment.api.TransferController [main] processing transfer: 94bcb2ca-78e8-40fd-91aa-538fa9fc4c53
2021-07-02 07:42:48,490 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findCustomerAccountByAccountNumberAndAccountType]: This method is not transactional.
2021-07-02 07:42:48,697 ERROR com.payment.configuration.ErrorManagementConfiguration [main] Account 10000000112 with type current not found
2021-07-02 07:42:48,754 INFO com.payment.api.TransferController [main] validating transfer request 6b21dba8-59d2-4497-a789-373c436ec1f4
2021-07-02 07:42:48,754 INFO com.payment.api.TransferController [main] completed request validation successfully for 6b21dba8-59d2-4497-a789-373c436ec1f4
2021-07-02 07:42:48,755 INFO com.payment.api.TransferController [main] processing transfer: 6b21dba8-59d2-4497-a789-373c436ec1f4
2021-07-02 07:42:48,755 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findCustomerAccountByAccountNumberAndAccountType]: This method is not transactional.
2021-07-02 07:42:48,773 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByCustomerAccountId]: This method is not transactional.
2021-07-02 07:42:48,791 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2021-07-02 07:42:48,817 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2021-07-02 07:42:48,828 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByCustomerAccountId]: This method is not transactional.
2021-07-02 07:42:48,831 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2021-07-02 07:42:48,836 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2021-07-02 07:42:48,857 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.payment.api.AccountControllerTest], using SpringBootContextLoader
2021-07-02 07:42:48,859 INFO org.springframework.test.context.support.AbstractContextLoader [main] Could not detect default resource locations for test class [com.payment.api.AccountControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2021-07-02 07:42:48,859 INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.payment.api.AccountControllerTest]: AccountControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2021-07-02 07:42:48,861 INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.payment.PaymentApplicationService for test class com.payment.api.AccountControllerTest
2021-07-02 07:42:48,863 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2021-07-02 07:42:48,864 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@58de1da2, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@7294c9fe, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@65e639f2, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@54a1a6a8, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@7cba8293, org.springframework.test.context.support.DirtiesContextTestExecutionListener@28357fc3, org.springframework.test.context.transaction.TransactionalTestExecutionListener@7c48ea9e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@25058759, org.springframework.test.context.event.EventPublishingTestExecutionListener@d833770, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@e4b9a64, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@35ec9d29, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@3cdafb82, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@28f663de, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@7a3c541e, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@2be89ba5]
2021-07-02 07:42:48,879 ERROR com.payment.configuration.ErrorManagementConfiguration [main] invalid account number
2021-07-02 07:42:48,892 ERROR com.payment.configuration.ErrorManagementConfiguration [main] invalid account type, ensure either current or savings type
2021-07-02 07:42:48,903 INFO com.payment.api.AccountController [main] fetching account information for 1000000011:savings
2021-07-02 07:42:48,904 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findCustomerAccountByAccountNumberAndAccountType]: This method is not transactional.
2021-07-02 07:42:48,905 ERROR com.payment.configuration.ErrorManagementConfiguration [main] Account not found, please check senders account number or account type
2021-07-02 07:42:48,918 INFO com.payment.api.AccountController [main] fetching account information for 1000000011:current
2021-07-02 07:42:48,919 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findCustomerAccountByAccountNumberAndAccountType]: This method is not transactional.
2021-07-02 07:42:48,921 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByCustomerAccountId]: This method is not transactional.
2021-07-02 07:42:48,942 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.payment.api.E2ETransferControllerTest], using SpringBootContextLoader
2021-07-02 07:42:48,944 INFO org.springframework.test.context.support.AbstractContextLoader [main] Could not detect default resource locations for test class [com.payment.api.E2ETransferControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2021-07-02 07:42:48,944 INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.payment.api.E2ETransferControllerTest]: E2ETransferControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2021-07-02 07:42:48,948 INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.payment.PaymentApplicationService for test class com.payment.api.E2ETransferControllerTest
2021-07-02 07:42:48,950 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2021-07-02 07:42:48,950 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@343b3399, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@6f2f4b9e, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@2f5378cd, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@3695e4f2, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@5bdfae42, org.springframework.test.context.support.DirtiesContextTestExecutionListener@4e396d1c, org.springframework.test.context.transaction.TransactionalTestExecutionListener@7a98f106, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@633328d3, org.springframework.test.context.event.EventPublishingTestExecutionListener@45382749, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@406cf37f, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@7d412ab5, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@74ee07e, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@3c88db1, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@241861bc, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@5078e308]
2021-07-02 07:42:48,960 INFO com.payment.api.AccountController [main] fetching account information for 1000000011:current
2021-07-02 07:42:48,961 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findCustomerAccountByAccountNumberAndAccountType]: This method is not transactional.
2021-07-02 07:42:48,963 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByCustomerAccountId]: This method is not transactional.
2021-07-02 07:42:48,989 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringContextShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 07:42:48,994 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown initiated...
2021-07-02 07:42:49,001 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown completed.
2021-07-02 07:43:44,454 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.payment.api.TransferControllerTest], using SpringBootContextLoader
2021-07-02 07:43:44,461 INFO org.springframework.test.context.support.AbstractContextLoader [main] Could not detect default resource locations for test class [com.payment.api.TransferControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2021-07-02 07:43:44,462 INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.payment.api.TransferControllerTest]: TransferControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2021-07-02 07:43:44,599 INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.payment.PaymentApplicationService for test class com.payment.api.TransferControllerTest
2021-07-02 07:43:44,714 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2021-07-02 07:43:44,730 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@329a1243, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@ecf9fb3, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@2d35442b, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@27f9e982, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@4593ff34, org.springframework.test.context.support.DirtiesContextTestExecutionListener@37d3d232, org.springframework.test.context.transaction.TransactionalTestExecutionListener@30c0ccff, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@581d969c, org.springframework.test.context.event.EventPublishingTestExecutionListener@22db8f4, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@2b46a8c1, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1d572e62, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@29caf222, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@46cf05f7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@5851bd4f, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@7cd1ac19]
2021-07-02 07:43:45,070 WARN org.springframework.boot.ImageBanner [main] Image banner not printable: class path resource [banner.txt] (class java.lang.IllegalStateException: 'Unable to read image banner source')
2021-07-02 07:43:45,138 INFO org.springframework.boot.StartupInfoLogger [main] Starting TransferControllerTest using Java 11.0.11 on adeolas-MacBook-Pro.local with PID 16189 (started by adeolaojo in /Users/adeolaojo/Code/payment-transfer-service)
2021-07-02 07:43:45,139 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2021-07-02 07:43:46,014 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-07-02 07:43:46,068 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 46 ms. Found 2 JPA repository interfaces.
2021-07-02 07:43:46,569 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Flyway Community Edition 7.10.0 by Redgate
2021-07-02 07:43:46,575 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2021-07-02 07:43:46,775 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2021-07-02 07:43:46,813 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Database: jdbc:h2:mem:testdb (H2 1.4)
2021-07-02 07:43:46,890 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully validated 1 migration (execution time 00:00.025s)
2021-07-02 07:43:46,909 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2021-07-02 07:43:46,960 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Current version of schema "PUBLIC": << Empty Schema >>
2021-07-02 07:43:46,967 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Migrating schema "PUBLIC" to version "1.1.0 - init migration"
2021-07-02 07:43:47,003 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully applied 1 migration to schema "PUBLIC", now at version v1.1.0 (execution time 00:00.050s)
2021-07-02 07:43:47,175 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-07-02 07:43:47,239 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.4.32.Final
2021-07-02 07:43:47,406 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-07-02 07:43:47,531 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-07-02 07:43:48,048 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-07-02 07:43:48,058 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 07:43:48,506 INFO org.eclipse.jetty.util.log.Log [main] Logging initialized @5088ms to org.eclipse.jetty.util.log.Slf4jLog
2021-07-02 07:43:48,645 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-07-02 07:43:48,914 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [main] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2021-07-02 07:43:50,455 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2021-07-02 07:43:50,455 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2021-07-02 07:43:50,462 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 14 endpoint(s) beneath base path ''
2021-07-02 07:43:50,486 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 31 ms
2021-07-02 07:43:50,517 INFO org.springframework.boot.StartupInfoLogger [main] Started TransferControllerTest in 5.755 seconds (JVM running for 7.099)
2021-07-02 07:43:50,733 INFO com.payment.api.TransferController [main] validating transfer request 46438373-53e6-4655-b48c-97b7944ed6db
2021-07-02 07:43:50,734 INFO com.payment.api.TransferController [main] completed request validation successfully for 46438373-53e6-4655-b48c-97b7944ed6db
2021-07-02 07:43:50,734 INFO com.payment.api.TransferController [main] processing transfer: 46438373-53e6-4655-b48c-97b7944ed6db
2021-07-02 07:43:50,737 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findCustomerAccountByAccountNumberAndAccountType]: This method is not transactional.
2021-07-02 07:43:50,883 ERROR com.payment.configuration.ErrorManagementConfiguration [main] Account 10000000112 with type current not found
2021-07-02 07:43:50,923 INFO com.payment.api.TransferController [main] validating transfer request 34c793b1-cd30-40cb-93f9-1c51c3451dab
2021-07-02 07:43:50,923 INFO com.payment.api.TransferController [main] completed request validation successfully for 34c793b1-cd30-40cb-93f9-1c51c3451dab
2021-07-02 07:43:50,924 INFO com.payment.api.TransferController [main] processing transfer: 34c793b1-cd30-40cb-93f9-1c51c3451dab
2021-07-02 07:43:50,924 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findCustomerAccountByAccountNumberAndAccountType]: This method is not transactional.
2021-07-02 07:43:50,936 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByCustomerAccountId]: This method is not transactional.
2021-07-02 07:43:50,950 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2021-07-02 07:43:50,969 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2021-07-02 07:43:50,976 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByCustomerAccountId]: This method is not transactional.
2021-07-02 07:43:50,979 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2021-07-02 07:43:50,984 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2021-07-02 07:43:50,999 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.payment.api.AccountControllerTest], using SpringBootContextLoader
2021-07-02 07:43:51,000 INFO org.springframework.test.context.support.AbstractContextLoader [main] Could not detect default resource locations for test class [com.payment.api.AccountControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2021-07-02 07:43:51,000 INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.payment.api.AccountControllerTest]: AccountControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2021-07-02 07:43:51,002 INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.payment.PaymentApplicationService for test class com.payment.api.AccountControllerTest
2021-07-02 07:43:51,004 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2021-07-02 07:43:51,004 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6296c184, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3ea95f79, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@bce93d3, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@1a6ab328, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@4e24db00, org.springframework.test.context.support.DirtiesContextTestExecutionListener@3a02172a, org.springframework.test.context.transaction.TransactionalTestExecutionListener@452d4bb2, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@a1143cc, org.springframework.test.context.event.EventPublishingTestExecutionListener@62857555, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@48149568, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@674b2703, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@67441705, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@2ea2f965, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@4271960c, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@7cbcd27e]
2021-07-02 07:43:51,017 ERROR com.payment.configuration.ErrorManagementConfiguration [main] invalid account number
2021-07-02 07:43:51,026 ERROR com.payment.configuration.ErrorManagementConfiguration [main] invalid account type, ensure either current or savings type
2021-07-02 07:43:51,034 INFO com.payment.api.AccountController [main] fetching account information for 1000000011:savings
2021-07-02 07:43:51,034 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findCustomerAccountByAccountNumberAndAccountType]: This method is not transactional.
2021-07-02 07:43:51,036 ERROR com.payment.configuration.ErrorManagementConfiguration [main] Account not found, please check senders account number or account type
2021-07-02 07:43:51,046 INFO com.payment.api.AccountController [main] fetching account information for 1000000011:current
2021-07-02 07:43:51,046 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findCustomerAccountByAccountNumberAndAccountType]: This method is not transactional.
2021-07-02 07:43:51,047 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByCustomerAccountId]: This method is not transactional.
2021-07-02 07:43:51,066 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.payment.api.E2ETransferControllerTest], using SpringBootContextLoader
2021-07-02 07:43:51,067 INFO org.springframework.test.context.support.AbstractContextLoader [main] Could not detect default resource locations for test class [com.payment.api.E2ETransferControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2021-07-02 07:43:51,068 INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.payment.api.E2ETransferControllerTest]: E2ETransferControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2021-07-02 07:43:51,070 INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.payment.PaymentApplicationService for test class com.payment.api.E2ETransferControllerTest
2021-07-02 07:43:51,072 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2021-07-02 07:43:51,072 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3e966e67, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@45dbbb97, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@7e383712, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@2330c5c5, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@2e587292, org.springframework.test.context.support.DirtiesContextTestExecutionListener@36c763cd, org.springframework.test.context.transaction.TransactionalTestExecutionListener@97842a0, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@2cc3b0a7, org.springframework.test.context.event.EventPublishingTestExecutionListener@41628b4f, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@4cb641a5, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@71077d1, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@36e7b91c, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@630a647c, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@1dcfbad1, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@19e5e846]
2021-07-02 07:43:51,079 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 07:43:51,082 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown initiated...
2021-07-02 07:43:51,087 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown completed.
2021-07-02 07:43:51,121 WARN org.springframework.boot.ImageBanner [main] Image banner not printable: class path resource [banner.txt] (class java.lang.IllegalStateException: 'Unable to read image banner source')
2021-07-02 07:43:51,125 INFO org.springframework.boot.StartupInfoLogger [main] Starting E2ETransferControllerTest using Java 11.0.11 on adeolas-MacBook-Pro.local with PID 16189 (started by adeolaojo in /Users/adeolaojo/Code/payment-transfer-service)
2021-07-02 07:43:51,127 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2021-07-02 07:43:51,442 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-07-02 07:43:51,454 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 11 ms. Found 2 JPA repository interfaces.
2021-07-02 07:43:51,553 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Flyway Community Edition 7.10.0 by Redgate
2021-07-02 07:43:51,555 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-2 - Starting...
2021-07-02 07:43:51,556 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-2 - Start completed.
2021-07-02 07:43:51,556 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Database: jdbc:h2:mem:testdb (H2 1.4)
2021-07-02 07:43:51,565 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully validated 1 migration (execution time 00:00.006s)
2021-07-02 07:43:51,575 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Current version of schema "PUBLIC": 1.1.0
2021-07-02 07:43:51,577 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Schema "PUBLIC" is up to date. No migration necessary.
2021-07-02 07:43:51,603 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-07-02 07:43:51,608 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-07-02 07:43:51,642 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-07-02 07:43:51,642 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 07:43:51,802 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-07-02 07:43:51,882 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [main] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2021-07-02 07:43:52,437 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2021-07-02 07:43:52,437 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2021-07-02 07:43:52,441 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 14 endpoint(s) beneath base path ''
2021-07-02 07:43:52,459 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 22 ms
2021-07-02 07:43:52,475 INFO org.springframework.boot.StartupInfoLogger [main] Started E2ETransferControllerTest in 1.384 seconds (JVM running for 9.056)
2021-07-02 07:43:52,481 INFO com.payment.api.AccountController [main] fetching account information for 1000000011:current
2021-07-02 07:43:52,482 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findCustomerAccountByAccountNumberAndAccountType]: This method is not transactional.
2021-07-02 07:43:52,487 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByCustomerAccountId]: This method is not transactional.
2021-07-02 07:43:52,508 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringContextShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 07:43:52,509 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-2 - Shutdown initiated...
2021-07-02 07:43:52,511 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-2 - Shutdown completed.
2021-07-02 07:45:28,074 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.payment.api.TransferControllerTest], using SpringBootContextLoader
2021-07-02 07:45:28,080 INFO org.springframework.test.context.support.AbstractContextLoader [main] Could not detect default resource locations for test class [com.payment.api.TransferControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2021-07-02 07:45:28,081 INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.payment.api.TransferControllerTest]: TransferControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2021-07-02 07:45:28,187 INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.payment.PaymentApplicationService for test class com.payment.api.TransferControllerTest
2021-07-02 07:45:28,272 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2021-07-02 07:45:28,287 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@62c5bbdc, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@7bdf6bb7, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@1bc53649, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@88d6f9b, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@47d93e0d, org.springframework.test.context.support.DirtiesContextTestExecutionListener@475b7792, org.springframework.test.context.transaction.TransactionalTestExecutionListener@751e664e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@160c3ec1, org.springframework.test.context.event.EventPublishingTestExecutionListener@182b435b, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@4d0402b, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@2fa7ae9, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@7577b641, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@3704122f, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@3153ddfc, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@60afd40d]
2021-07-02 07:45:28,547 WARN org.springframework.boot.ImageBanner [main] Image banner not printable: class path resource [banner.txt] (class java.lang.IllegalStateException: 'Unable to read image banner source')
2021-07-02 07:45:28,612 INFO org.springframework.boot.StartupInfoLogger [main] Starting TransferControllerTest using Java 11.0.11 on adeolas-MacBook-Pro.local with PID 19555 (started by adeolaojo in /Users/adeolaojo/Code/payment-transfer-service)
2021-07-02 07:45:28,613 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2021-07-02 07:45:29,396 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-07-02 07:45:29,441 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 38 ms. Found 2 JPA repository interfaces.
2021-07-02 07:45:29,860 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Flyway Community Edition 7.10.0 by Redgate
2021-07-02 07:45:29,866 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2021-07-02 07:45:30,029 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2021-07-02 07:45:30,056 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Database: jdbc:h2:mem:testdb (H2 1.4)
2021-07-02 07:45:30,127 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully validated 1 migration (execution time 00:00.025s)
2021-07-02 07:45:30,147 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2021-07-02 07:45:30,193 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Current version of schema "PUBLIC": << Empty Schema >>
2021-07-02 07:45:30,204 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Migrating schema "PUBLIC" to version "1.1.0 - init migration"
2021-07-02 07:45:30,240 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully applied 1 migration to schema "PUBLIC", now at version v1.1.0 (execution time 00:00.054s)
2021-07-02 07:45:30,383 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-07-02 07:45:30,431 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.4.32.Final
2021-07-02 07:45:30,545 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-07-02 07:45:30,651 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-07-02 07:45:31,099 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-07-02 07:45:31,106 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 07:45:31,486 INFO org.eclipse.jetty.util.log.Log [main] Logging initialized @4352ms to org.eclipse.jetty.util.log.Slf4jLog
2021-07-02 07:45:31,614 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-07-02 07:45:31,861 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [main] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2021-07-02 07:45:33,267 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2021-07-02 07:45:33,267 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2021-07-02 07:45:33,274 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 14 endpoint(s) beneath base path ''
2021-07-02 07:45:33,293 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 26 ms
2021-07-02 07:45:33,321 INFO org.springframework.boot.StartupInfoLogger [main] Started TransferControllerTest in 5.004 seconds (JVM running for 6.187)
2021-07-02 07:45:33,511 INFO com.payment.api.TransferController [main] validating transfer request ad11e51f-2901-41ab-aea4-14f7cee9a9ee
2021-07-02 07:45:33,511 INFO com.payment.api.TransferController [main] completed request validation successfully for ad11e51f-2901-41ab-aea4-14f7cee9a9ee
2021-07-02 07:45:33,512 INFO com.payment.api.TransferController [main] processing transfer: ad11e51f-2901-41ab-aea4-14f7cee9a9ee
2021-07-02 07:45:33,514 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findCustomerAccountByAccountNumberAndAccountType]: This method is not transactional.
2021-07-02 07:45:33,619 ERROR com.payment.configuration.ErrorManagementConfiguration [main] Account 10000000112 with type current not found
2021-07-02 07:45:33,650 INFO com.payment.api.TransferController [main] validating transfer request da1d85f6-5206-4dea-a68b-f0f6b8043353
2021-07-02 07:45:33,650 INFO com.payment.api.TransferController [main] completed request validation successfully for da1d85f6-5206-4dea-a68b-f0f6b8043353
2021-07-02 07:45:33,651 INFO com.payment.api.TransferController [main] processing transfer: da1d85f6-5206-4dea-a68b-f0f6b8043353
2021-07-02 07:45:33,651 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findCustomerAccountByAccountNumberAndAccountType]: This method is not transactional.
2021-07-02 07:45:33,661 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByCustomerAccountId]: This method is not transactional.
2021-07-02 07:45:33,672 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2021-07-02 07:45:33,688 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2021-07-02 07:45:33,693 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByCustomerAccountId]: This method is not transactional.
2021-07-02 07:45:33,695 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2021-07-02 07:45:33,698 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2021-07-02 07:45:33,710 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.payment.api.AccountControllerTest], using SpringBootContextLoader
2021-07-02 07:45:33,711 INFO org.springframework.test.context.support.AbstractContextLoader [main] Could not detect default resource locations for test class [com.payment.api.AccountControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2021-07-02 07:45:33,711 INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.payment.api.AccountControllerTest]: AccountControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2021-07-02 07:45:33,713 INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.payment.PaymentApplicationService for test class com.payment.api.AccountControllerTest
2021-07-02 07:45:33,714 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2021-07-02 07:45:33,715 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@621a7d83, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@58de1da2, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@7294c9fe, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@65e639f2, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@54a1a6a8, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7cba8293, org.springframework.test.context.transaction.TransactionalTestExecutionListener@28357fc3, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7c48ea9e, org.springframework.test.context.event.EventPublishingTestExecutionListener@25058759, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@d833770, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@e4b9a64, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@35ec9d29, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@3cdafb82, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@28f663de, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@7a3c541e]
2021-07-02 07:45:33,725 ERROR com.payment.configuration.ErrorManagementConfiguration [main] invalid account number
2021-07-02 07:45:33,732 ERROR com.payment.configuration.ErrorManagementConfiguration [main] invalid account type, ensure either current or savings type
2021-07-02 07:45:33,739 INFO com.payment.api.AccountController [main] fetching account information for 1000000011:savings
2021-07-02 07:45:33,739 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findCustomerAccountByAccountNumberAndAccountType]: This method is not transactional.
2021-07-02 07:45:33,740 ERROR com.payment.configuration.ErrorManagementConfiguration [main] Account not found, please check senders account number or account type
2021-07-02 07:45:33,747 INFO com.payment.api.AccountController [main] fetching account information for 1000000011:current
2021-07-02 07:45:33,748 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findCustomerAccountByAccountNumberAndAccountType]: This method is not transactional.
2021-07-02 07:45:33,749 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByCustomerAccountId]: This method is not transactional.
2021-07-02 07:45:33,762 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.payment.api.E2ETransferControllerTest], using SpringBootContextLoader
2021-07-02 07:45:33,763 INFO org.springframework.test.context.support.AbstractContextLoader [main] Could not detect default resource locations for test class [com.payment.api.E2ETransferControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2021-07-02 07:45:33,763 INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.payment.api.E2ETransferControllerTest]: E2ETransferControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2021-07-02 07:45:33,766 INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.payment.PaymentApplicationService for test class com.payment.api.E2ETransferControllerTest
2021-07-02 07:45:33,768 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2021-07-02 07:45:33,768 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@4e396d1c, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@7a98f106, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@633328d3, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@45382749, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@406cf37f, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7d412ab5, org.springframework.test.context.transaction.TransactionalTestExecutionListener@74ee07e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@3c88db1, org.springframework.test.context.event.EventPublishingTestExecutionListener@241861bc, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@5078e308, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@2045a469, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@672710d5, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@55880c, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@17224bad, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@1ac9c3cc]
2021-07-02 07:45:33,788 WARN org.springframework.boot.ImageBanner [main] Image banner not printable: class path resource [banner.txt] (class java.lang.IllegalStateException: 'Unable to read image banner source')
2021-07-02 07:45:33,790 INFO org.springframework.boot.StartupInfoLogger [main] Starting E2ETransferControllerTest using Java 11.0.11 on adeolas-MacBook-Pro.local with PID 19555 (started by adeolaojo in /Users/adeolaojo/Code/payment-transfer-service)
2021-07-02 07:45:33,791 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2021-07-02 07:45:34,041 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-07-02 07:45:34,052 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 10 ms. Found 2 JPA repository interfaces.
2021-07-02 07:45:34,071 INFO org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor [main] Replacing 'dataSource' DataSource bean with embedded version
2021-07-02 07:45:34,147 INFO org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseFactory [main] Starting embedded database: url='jdbc:h2:mem:f7cfe843-9678-4f66-a86d-3bb34faf28e0;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2021-07-02 07:45:34,156 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Flyway Community Edition 7.10.0 by Redgate
2021-07-02 07:45:34,158 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Database: jdbc:h2:mem:f7cfe843-9678-4f66-a86d-3bb34faf28e0 (H2 1.4)
2021-07-02 07:45:34,164 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully validated 1 migration (execution time 00:00.003s)
2021-07-02 07:45:34,168 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2021-07-02 07:45:34,180 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Current version of schema "PUBLIC": << Empty Schema >>
2021-07-02 07:45:34,184 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Migrating schema "PUBLIC" to version "1.1.0 - init migration"
2021-07-02 07:45:34,200 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully applied 1 migration to schema "PUBLIC", now at version v1.1.0 (execution time 00:00.023s)
2021-07-02 07:45:34,226 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-07-02 07:45:34,231 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-07-02 07:45:34,263 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-07-02 07:45:34,263 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 07:45:34,401 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-07-02 07:45:34,478 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [main] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:f7cfe843-9678-4f66-a86d-3bb34faf28e0'
2021-07-02 07:45:35,000 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2021-07-02 07:45:35,000 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2021-07-02 07:45:35,004 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 14 endpoint(s) beneath base path ''
2021-07-02 07:45:35,021 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 21 ms
2021-07-02 07:45:35,036 INFO org.springframework.boot.StartupInfoLogger [main] Started E2ETransferControllerTest in 1.266 seconds (JVM running for 7.901)
2021-07-02 07:45:35,044 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 07:45:35,068 WARN org.springframework.boot.ImageBanner [main] Image banner not printable: class path resource [banner.txt] (class java.lang.IllegalStateException: 'Unable to read image banner source')
2021-07-02 07:45:35,071 INFO org.springframework.boot.StartupInfoLogger [main] Starting E2ETransferControllerTest using Java 11.0.11 on adeolas-MacBook-Pro.local with PID 19555 (started by adeolaojo in /Users/adeolaojo/Code/payment-transfer-service)
2021-07-02 07:45:35,072 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2021-07-02 07:45:35,280 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-07-02 07:45:35,291 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 10 ms. Found 2 JPA repository interfaces.
2021-07-02 07:45:35,305 INFO org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor [main] Replacing 'dataSource' DataSource bean with embedded version
2021-07-02 07:45:35,366 INFO org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseFactory [main] Starting embedded database: url='jdbc:h2:mem:898cd020-9a1b-4c6c-a966-139a2c81136f;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2021-07-02 07:45:35,376 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Flyway Community Edition 7.10.0 by Redgate
2021-07-02 07:45:35,377 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Database: jdbc:h2:mem:898cd020-9a1b-4c6c-a966-139a2c81136f (H2 1.4)
2021-07-02 07:45:35,382 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully validated 1 migration (execution time 00:00.002s)
2021-07-02 07:45:35,387 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2021-07-02 07:45:35,398 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Current version of schema "PUBLIC": << Empty Schema >>
2021-07-02 07:45:35,401 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Migrating schema "PUBLIC" to version "1.1.0 - init migration"
2021-07-02 07:45:35,417 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully applied 1 migration to schema "PUBLIC", now at version v1.1.0 (execution time 00:00.023s)
2021-07-02 07:45:35,442 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-07-02 07:45:35,446 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-07-02 07:45:35,474 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-07-02 07:45:35,474 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 07:45:35,603 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-07-02 07:45:35,675 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [main] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:898cd020-9a1b-4c6c-a966-139a2c81136f'
2021-07-02 07:45:36,197 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2021-07-02 07:45:36,198 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2021-07-02 07:45:36,202 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 14 endpoint(s) beneath base path ''
2021-07-02 07:45:36,220 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 22 ms
2021-07-02 07:45:36,240 INFO org.springframework.boot.StartupInfoLogger [main] Started E2ETransferControllerTest in 1.192 seconds (JVM running for 9.106)
2021-07-02 07:45:36,247 INFO com.payment.api.AccountController [main] fetching account information for 1000000011:current
2021-07-02 07:45:36,248 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findCustomerAccountByAccountNumberAndAccountType]: This method is not transactional.
2021-07-02 07:45:36,253 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByCustomerAccountId]: This method is not transactional.
2021-07-02 07:45:36,261 INFO com.payment.api.TransferController [main] validating transfer request 1da60674-23b1-4014-b989-aa1315e780d7
2021-07-02 07:45:36,262 INFO com.payment.api.TransferController [main] completed request validation successfully for 1da60674-23b1-4014-b989-aa1315e780d7
2021-07-02 07:45:36,262 INFO com.payment.api.TransferController [main] processing transfer: 1da60674-23b1-4014-b989-aa1315e780d7
2021-07-02 07:45:36,262 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findCustomerAccountByAccountNumberAndAccountType]: This method is not transactional.
2021-07-02 07:45:36,264 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByCustomerAccountId]: This method is not transactional.
2021-07-02 07:45:36,266 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2021-07-02 07:45:36,268 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2021-07-02 07:45:36,269 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByCustomerAccountId]: This method is not transactional.
2021-07-02 07:45:36,270 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2021-07-02 07:45:36,271 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2021-07-02 07:45:36,275 INFO com.payment.api.AccountController [main] fetching account information for 1000000011:current
2021-07-02 07:45:36,276 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findCustomerAccountByAccountNumberAndAccountType]: This method is not transactional.
2021-07-02 07:45:36,278 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByCustomerAccountId]: This method is not transactional.
2021-07-02 07:45:36,294 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringContextShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 07:45:36,295 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringContextShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 07:45:36,296 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown initiated...
2021-07-02 07:45:36,299 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown completed.
2021-07-02 07:45:57,612 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.payment.api.TransferControllerTest], using SpringBootContextLoader
2021-07-02 07:45:57,618 INFO org.springframework.test.context.support.AbstractContextLoader [main] Could not detect default resource locations for test class [com.payment.api.TransferControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2021-07-02 07:45:57,618 INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.payment.api.TransferControllerTest]: TransferControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2021-07-02 07:45:57,733 INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.payment.PaymentApplicationService for test class com.payment.api.TransferControllerTest
2021-07-02 07:45:57,829 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2021-07-02 07:45:57,843 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@88d6f9b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@47d93e0d, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@475b7792, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@751e664e, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@160c3ec1, org.springframework.test.context.support.DirtiesContextTestExecutionListener@182b435b, org.springframework.test.context.transaction.TransactionalTestExecutionListener@4d0402b, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@2fa7ae9, org.springframework.test.context.event.EventPublishingTestExecutionListener@7577b641, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@3704122f, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@3153ddfc, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@60afd40d, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@28a2a3e7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@3f2049b6, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@10b3df93]
2021-07-02 07:45:58,169 WARN org.springframework.boot.ImageBanner [main] Image banner not printable: class path resource [banner.txt] (class java.lang.IllegalStateException: 'Unable to read image banner source')
2021-07-02 07:45:58,242 INFO org.springframework.boot.StartupInfoLogger [main] Starting TransferControllerTest using Java 11.0.11 on adeolas-MacBook-Pro.local with PID 20549 (started by adeolaojo in /Users/adeolaojo/Code/payment-transfer-service)
2021-07-02 07:45:58,246 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2021-07-02 07:45:59,044 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-07-02 07:45:59,091 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 40 ms. Found 2 JPA repository interfaces.
2021-07-02 07:45:59,516 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Flyway Community Edition 7.10.0 by Redgate
2021-07-02 07:45:59,521 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2021-07-02 07:45:59,683 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2021-07-02 07:45:59,709 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Database: jdbc:h2:mem:testdb (H2 1.4)
2021-07-02 07:45:59,769 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully validated 1 migration (execution time 00:00.020s)
2021-07-02 07:45:59,782 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2021-07-02 07:45:59,826 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Current version of schema "PUBLIC": << Empty Schema >>
2021-07-02 07:45:59,834 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Migrating schema "PUBLIC" to version "1.1.0 - init migration"
2021-07-02 07:45:59,864 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully applied 1 migration to schema "PUBLIC", now at version v1.1.0 (execution time 00:00.044s)
2021-07-02 07:46:00,001 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-07-02 07:46:00,053 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.4.32.Final
2021-07-02 07:46:00,180 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-07-02 07:46:00,287 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-07-02 07:46:00,753 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-07-02 07:46:00,762 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 07:46:01,167 INFO org.eclipse.jetty.util.log.Log [main] Logging initialized @4483ms to org.eclipse.jetty.util.log.Slf4jLog
2021-07-02 07:46:01,293 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-07-02 07:46:01,569 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [main] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2021-07-02 07:46:02,861 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2021-07-02 07:46:02,862 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2021-07-02 07:46:02,869 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 14 endpoint(s) beneath base path ''
2021-07-02 07:46:02,893 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 31 ms
2021-07-02 07:46:02,923 INFO org.springframework.boot.StartupInfoLogger [main] Started TransferControllerTest in 5.048 seconds (JVM running for 6.238)
2021-07-02 07:46:03,084 INFO com.payment.api.TransferController [main] validating transfer request bdd4753c-6bad-4c10-a6cc-dc43afb5db1a
2021-07-02 07:46:03,085 INFO com.payment.api.TransferController [main] completed request validation successfully for bdd4753c-6bad-4c10-a6cc-dc43afb5db1a
2021-07-02 07:46:03,085 INFO com.payment.api.TransferController [main] processing transfer: bdd4753c-6bad-4c10-a6cc-dc43afb5db1a
2021-07-02 07:46:03,087 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findCustomerAccountByAccountNumberAndAccountType]: This method is not transactional.
2021-07-02 07:46:03,187 ERROR com.payment.configuration.ErrorManagementConfiguration [main] Account 10000000112 with type current not found
2021-07-02 07:46:03,220 INFO com.payment.api.TransferController [main] validating transfer request b425dacc-25fb-458c-a906-43e767d79509
2021-07-02 07:46:03,220 INFO com.payment.api.TransferController [main] completed request validation successfully for b425dacc-25fb-458c-a906-43e767d79509
2021-07-02 07:46:03,220 INFO com.payment.api.TransferController [main] processing transfer: b425dacc-25fb-458c-a906-43e767d79509
2021-07-02 07:46:03,220 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findCustomerAccountByAccountNumberAndAccountType]: This method is not transactional.
2021-07-02 07:46:03,229 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByCustomerAccountId]: This method is not transactional.
2021-07-02 07:46:03,239 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2021-07-02 07:46:03,254 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2021-07-02 07:46:03,259 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByCustomerAccountId]: This method is not transactional.
2021-07-02 07:46:03,260 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2021-07-02 07:46:03,263 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2021-07-02 07:46:03,277 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.payment.api.AccountControllerTest], using SpringBootContextLoader
2021-07-02 07:46:03,278 INFO org.springframework.test.context.support.AbstractContextLoader [main] Could not detect default resource locations for test class [com.payment.api.AccountControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2021-07-02 07:46:03,278 INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.payment.api.AccountControllerTest]: AccountControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2021-07-02 07:46:03,280 INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.payment.PaymentApplicationService for test class com.payment.api.AccountControllerTest
2021-07-02 07:46:03,282 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2021-07-02 07:46:03,282 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@7ef8cfbb, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@17d3bf09, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@a49995f, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@2cb95c6c, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@1484cb57, org.springframework.test.context.support.DirtiesContextTestExecutionListener@1e250539, org.springframework.test.context.transaction.TransactionalTestExecutionListener@5860e4c3, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@3edc999f, org.springframework.test.context.event.EventPublishingTestExecutionListener@cb03360, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@3a8ae302, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@65134e6c, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@3fd93330, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@32ff3c98, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@5f804b36, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@201f0e84]
2021-07-02 07:46:03,301 WARN org.springframework.boot.ImageBanner [main] Image banner not printable: class path resource [banner.txt] (class java.lang.IllegalStateException: 'Unable to read image banner source')
2021-07-02 07:46:03,304 INFO org.springframework.boot.StartupInfoLogger [main] Starting AccountControllerTest using Java 11.0.11 on adeolas-MacBook-Pro.local with PID 20549 (started by adeolaojo in /Users/adeolaojo/Code/payment-transfer-service)
2021-07-02 07:46:03,305 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2021-07-02 07:46:03,575 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-07-02 07:46:03,587 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 12 ms. Found 2 JPA repository interfaces.
2021-07-02 07:46:03,604 INFO org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor [main] Replacing 'dataSource' DataSource bean with embedded version
2021-07-02 07:46:03,676 INFO org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseFactory [main] Starting embedded database: url='jdbc:h2:mem:262299f9-52ed-4410-9432-774716d7c690;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2021-07-02 07:46:03,686 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Flyway Community Edition 7.10.0 by Redgate
2021-07-02 07:46:03,688 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Database: jdbc:h2:mem:262299f9-52ed-4410-9432-774716d7c690 (H2 1.4)
2021-07-02 07:46:03,695 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully validated 1 migration (execution time 00:00.004s)
2021-07-02 07:46:03,701 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2021-07-02 07:46:03,712 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Current version of schema "PUBLIC": << Empty Schema >>
2021-07-02 07:46:03,717 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Migrating schema "PUBLIC" to version "1.1.0 - init migration"
2021-07-02 07:46:03,738 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully applied 1 migration to schema "PUBLIC", now at version v1.1.0 (execution time 00:00.030s)
2021-07-02 07:46:03,765 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-07-02 07:46:03,769 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-07-02 07:46:03,800 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-07-02 07:46:03,801 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 07:46:03,935 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-07-02 07:46:04,013 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [main] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:262299f9-52ed-4410-9432-774716d7c690'
2021-07-02 07:46:04,550 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2021-07-02 07:46:04,551 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2021-07-02 07:46:04,554 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 14 endpoint(s) beneath base path ''
2021-07-02 07:46:04,570 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 19 ms
2021-07-02 07:46:04,585 INFO org.springframework.boot.StartupInfoLogger [main] Started AccountControllerTest in 1.301 seconds (JVM running for 7.901)
2021-07-02 07:46:04,592 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 07:46:04,618 WARN org.springframework.boot.ImageBanner [main] Image banner not printable: class path resource [banner.txt] (class java.lang.IllegalStateException: 'Unable to read image banner source')
2021-07-02 07:46:04,620 INFO org.springframework.boot.StartupInfoLogger [main] Starting AccountControllerTest using Java 11.0.11 on adeolas-MacBook-Pro.local with PID 20549 (started by adeolaojo in /Users/adeolaojo/Code/payment-transfer-service)
2021-07-02 07:46:04,620 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2021-07-02 07:46:04,823 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-07-02 07:46:04,833 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 9 ms. Found 2 JPA repository interfaces.
2021-07-02 07:46:04,846 INFO org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor [main] Replacing 'dataSource' DataSource bean with embedded version
2021-07-02 07:46:04,900 INFO org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseFactory [main] Starting embedded database: url='jdbc:h2:mem:128252f0-8b9b-4e57-bfec-44b6ddde803e;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2021-07-02 07:46:04,909 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Flyway Community Edition 7.10.0 by Redgate
2021-07-02 07:46:04,910 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Database: jdbc:h2:mem:128252f0-8b9b-4e57-bfec-44b6ddde803e (H2 1.4)
2021-07-02 07:46:04,915 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully validated 1 migration (execution time 00:00.003s)
2021-07-02 07:46:04,921 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2021-07-02 07:46:04,931 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Current version of schema "PUBLIC": << Empty Schema >>
2021-07-02 07:46:04,934 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Migrating schema "PUBLIC" to version "1.1.0 - init migration"
2021-07-02 07:46:04,948 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully applied 1 migration to schema "PUBLIC", now at version v1.1.0 (execution time 00:00.020s)
2021-07-02 07:46:04,971 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-07-02 07:46:04,975 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-07-02 07:46:05,000 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-07-02 07:46:05,001 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 07:46:05,124 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-07-02 07:46:05,203 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [main] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:128252f0-8b9b-4e57-bfec-44b6ddde803e'
2021-07-02 07:46:05,687 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2021-07-02 07:46:05,687 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2021-07-02 07:46:05,691 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 14 endpoint(s) beneath base path ''
2021-07-02 07:46:05,706 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 19 ms
2021-07-02 07:46:05,721 INFO org.springframework.boot.StartupInfoLogger [main] Started AccountControllerTest in 1.125 seconds (JVM running for 9.037)
2021-07-02 07:46:05,736 ERROR com.payment.configuration.ErrorManagementConfiguration [main] invalid account number
2021-07-02 07:46:05,744 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 07:46:05,764 WARN org.springframework.boot.ImageBanner [main] Image banner not printable: class path resource [banner.txt] (class java.lang.IllegalStateException: 'Unable to read image banner source')
2021-07-02 07:46:05,766 INFO org.springframework.boot.StartupInfoLogger [main] Starting AccountControllerTest using Java 11.0.11 on adeolas-MacBook-Pro.local with PID 20549 (started by adeolaojo in /Users/adeolaojo/Code/payment-transfer-service)
2021-07-02 07:46:05,766 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2021-07-02 07:46:05,951 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-07-02 07:46:05,961 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 8 ms. Found 2 JPA repository interfaces.
2021-07-02 07:46:05,973 INFO org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor [main] Replacing 'dataSource' DataSource bean with embedded version
2021-07-02 07:46:06,028 INFO org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseFactory [main] Starting embedded database: url='jdbc:h2:mem:50f8e8a2-c689-48f9-a66c-b4462f5cdd88;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2021-07-02 07:46:06,036 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Flyway Community Edition 7.10.0 by Redgate
2021-07-02 07:46:06,037 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Database: jdbc:h2:mem:50f8e8a2-c689-48f9-a66c-b4462f5cdd88 (H2 1.4)
2021-07-02 07:46:06,042 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully validated 1 migration (execution time 00:00.002s)
2021-07-02 07:46:06,046 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2021-07-02 07:46:06,056 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Current version of schema "PUBLIC": << Empty Schema >>
2021-07-02 07:46:06,059 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Migrating schema "PUBLIC" to version "1.1.0 - init migration"
2021-07-02 07:46:06,072 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully applied 1 migration to schema "PUBLIC", now at version v1.1.0 (execution time 00:00.019s)
2021-07-02 07:46:06,095 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-07-02 07:46:06,099 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-07-02 07:46:06,124 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-07-02 07:46:06,124 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 07:46:06,246 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-07-02 07:46:06,318 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [main] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:50f8e8a2-c689-48f9-a66c-b4462f5cdd88'
2021-07-02 07:46:06,788 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2021-07-02 07:46:06,788 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2021-07-02 07:46:06,792 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 14 endpoint(s) beneath base path ''
2021-07-02 07:46:06,806 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 18 ms
2021-07-02 07:46:06,818 INFO org.springframework.boot.StartupInfoLogger [main] Started AccountControllerTest in 1.072 seconds (JVM running for 10.134)
2021-07-02 07:46:06,824 ERROR com.payment.configuration.ErrorManagementConfiguration [main] invalid account type, ensure either current or savings type
2021-07-02 07:46:06,830 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 07:46:06,848 WARN org.springframework.boot.ImageBanner [main] Image banner not printable: class path resource [banner.txt] (class java.lang.IllegalStateException: 'Unable to read image banner source')
2021-07-02 07:46:06,849 INFO org.springframework.boot.StartupInfoLogger [main] Starting AccountControllerTest using Java 11.0.11 on adeolas-MacBook-Pro.local with PID 20549 (started by adeolaojo in /Users/adeolaojo/Code/payment-transfer-service)
2021-07-02 07:46:06,850 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2021-07-02 07:46:07,019 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-07-02 07:46:07,027 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 8 ms. Found 2 JPA repository interfaces.
2021-07-02 07:46:07,040 INFO org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor [main] Replacing 'dataSource' DataSource bean with embedded version
2021-07-02 07:46:07,085 INFO org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseFactory [main] Starting embedded database: url='jdbc:h2:mem:5cb744f6-262d-4e58-af66-45558477e3dc;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2021-07-02 07:46:07,092 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Flyway Community Edition 7.10.0 by Redgate
2021-07-02 07:46:07,093 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Database: jdbc:h2:mem:5cb744f6-262d-4e58-af66-45558477e3dc (H2 1.4)
2021-07-02 07:46:07,096 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully validated 1 migration (execution time 00:00.001s)
2021-07-02 07:46:07,099 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2021-07-02 07:46:07,106 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Current version of schema "PUBLIC": << Empty Schema >>
2021-07-02 07:46:07,108 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Migrating schema "PUBLIC" to version "1.1.0 - init migration"
2021-07-02 07:46:07,119 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully applied 1 migration to schema "PUBLIC", now at version v1.1.0 (execution time 00:00.015s)
2021-07-02 07:46:07,140 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-07-02 07:46:07,143 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-07-02 07:46:07,172 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-07-02 07:46:07,172 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 07:46:07,285 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-07-02 07:46:07,363 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [main] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:5cb744f6-262d-4e58-af66-45558477e3dc'
2021-07-02 07:46:07,724 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2021-07-02 07:46:07,724 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2021-07-02 07:46:07,727 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 14 endpoint(s) beneath base path ''
2021-07-02 07:46:07,741 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 17 ms
2021-07-02 07:46:07,753 INFO org.springframework.boot.StartupInfoLogger [main] Started AccountControllerTest in 0.922 seconds (JVM running for 11.069)
2021-07-02 07:46:07,758 INFO com.payment.api.AccountController [main] fetching account information for 1000000011:savings
2021-07-02 07:46:07,759 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findCustomerAccountByAccountNumberAndAccountType]: This method is not transactional.
2021-07-02 07:46:07,764 ERROR com.payment.configuration.ErrorManagementConfiguration [main] Account not found, please check senders account number or account type
2021-07-02 07:46:07,770 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 07:46:07,787 WARN org.springframework.boot.ImageBanner [main] Image banner not printable: class path resource [banner.txt] (class java.lang.IllegalStateException: 'Unable to read image banner source')
2021-07-02 07:46:07,789 INFO org.springframework.boot.StartupInfoLogger [main] Starting AccountControllerTest using Java 11.0.11 on adeolas-MacBook-Pro.local with PID 20549 (started by adeolaojo in /Users/adeolaojo/Code/payment-transfer-service)
2021-07-02 07:46:07,789 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2021-07-02 07:46:07,967 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-07-02 07:46:07,977 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 9 ms. Found 2 JPA repository interfaces.
2021-07-02 07:46:07,989 INFO org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor [main] Replacing 'dataSource' DataSource bean with embedded version
2021-07-02 07:46:08,036 INFO org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseFactory [main] Starting embedded database: url='jdbc:h2:mem:9855e344-c2f1-4cb4-b4a6-7cf44e9a3c05;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2021-07-02 07:46:08,042 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Flyway Community Edition 7.10.0 by Redgate
2021-07-02 07:46:08,043 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Database: jdbc:h2:mem:9855e344-c2f1-4cb4-b4a6-7cf44e9a3c05 (H2 1.4)
2021-07-02 07:46:08,046 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully validated 1 migration (execution time 00:00.001s)
2021-07-02 07:46:08,049 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2021-07-02 07:46:08,056 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Current version of schema "PUBLIC": << Empty Schema >>
2021-07-02 07:46:08,058 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Migrating schema "PUBLIC" to version "1.1.0 - init migration"
2021-07-02 07:46:08,069 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully applied 1 migration to schema "PUBLIC", now at version v1.1.0 (execution time 00:00.016s)
2021-07-02 07:46:08,092 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-07-02 07:46:08,096 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-07-02 07:46:08,118 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-07-02 07:46:08,118 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 07:46:08,232 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-07-02 07:46:08,317 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [main] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:9855e344-c2f1-4cb4-b4a6-7cf44e9a3c05'
2021-07-02 07:46:08,745 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2021-07-02 07:46:08,745 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2021-07-02 07:46:08,750 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 14 endpoint(s) beneath base path ''
2021-07-02 07:46:08,766 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 21 ms
2021-07-02 07:46:08,783 INFO org.springframework.boot.StartupInfoLogger [main] Started AccountControllerTest in 1.012 seconds (JVM running for 12.099)
2021-07-02 07:46:08,790 INFO com.payment.api.AccountController [main] fetching account information for 1000000011:current
2021-07-02 07:46:08,791 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findCustomerAccountByAccountNumberAndAccountType]: This method is not transactional.
2021-07-02 07:46:08,794 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByCustomerAccountId]: This method is not transactional.
2021-07-02 07:46:08,803 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.payment.api.E2ETransferControllerTest], using SpringBootContextLoader
2021-07-02 07:46:08,804 INFO org.springframework.test.context.support.AbstractContextLoader [main] Could not detect default resource locations for test class [com.payment.api.E2ETransferControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2021-07-02 07:46:08,804 INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.payment.api.E2ETransferControllerTest]: E2ETransferControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2021-07-02 07:46:08,806 INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.payment.PaymentApplicationService for test class com.payment.api.E2ETransferControllerTest
2021-07-02 07:46:08,807 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2021-07-02 07:46:08,807 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6873c7e6, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4c2ff77, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@17e99817, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@5fac8f7e, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@29963f9a, org.springframework.test.context.support.DirtiesContextTestExecutionListener@3abc4498, org.springframework.test.context.transaction.TransactionalTestExecutionListener@61ce4af8, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5a22eec0, org.springframework.test.context.event.EventPublishingTestExecutionListener@42d060f1, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@1a9064b7, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@91a7497, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@4403cf9a, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@595f803, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@1cb991da, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@46ddf016]
2021-07-02 07:46:08,811 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 07:46:08,832 WARN org.springframework.boot.ImageBanner [main] Image banner not printable: class path resource [banner.txt] (class java.lang.IllegalStateException: 'Unable to read image banner source')
2021-07-02 07:46:08,834 INFO org.springframework.boot.StartupInfoLogger [main] Starting E2ETransferControllerTest using Java 11.0.11 on adeolas-MacBook-Pro.local with PID 20549 (started by adeolaojo in /Users/adeolaojo/Code/payment-transfer-service)
2021-07-02 07:46:08,834 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2021-07-02 07:46:09,052 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-07-02 07:46:09,065 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 12 ms. Found 2 JPA repository interfaces.
2021-07-02 07:46:09,081 INFO org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor [main] Replacing 'dataSource' DataSource bean with embedded version
2021-07-02 07:46:09,141 INFO org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseFactory [main] Starting embedded database: url='jdbc:h2:mem:426f43c6-2e31-4acf-aaef-e5d37ba6f708;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2021-07-02 07:46:09,151 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Flyway Community Edition 7.10.0 by Redgate
2021-07-02 07:46:09,153 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Database: jdbc:h2:mem:426f43c6-2e31-4acf-aaef-e5d37ba6f708 (H2 1.4)
2021-07-02 07:46:09,159 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully validated 1 migration (execution time 00:00.003s)
2021-07-02 07:46:09,165 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2021-07-02 07:46:09,177 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Current version of schema "PUBLIC": << Empty Schema >>
2021-07-02 07:46:09,180 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Migrating schema "PUBLIC" to version "1.1.0 - init migration"
2021-07-02 07:46:09,195 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully applied 1 migration to schema "PUBLIC", now at version v1.1.0 (execution time 00:00.021s)
2021-07-02 07:46:09,217 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-07-02 07:46:09,221 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-07-02 07:46:09,242 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-07-02 07:46:09,242 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 07:46:09,363 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-07-02 07:46:09,438 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [main] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:426f43c6-2e31-4acf-aaef-e5d37ba6f708'
2021-07-02 07:46:09,809 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2021-07-02 07:46:09,809 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2021-07-02 07:46:09,812 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 14 endpoint(s) beneath base path ''
2021-07-02 07:46:09,827 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 18 ms
2021-07-02 07:46:09,843 INFO org.springframework.boot.StartupInfoLogger [main] Started E2ETransferControllerTest in 1.029 seconds (JVM running for 13.158)
2021-07-02 07:46:09,848 INFO com.payment.api.AccountController [main] fetching account information for 1000000011:current
2021-07-02 07:46:09,849 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findCustomerAccountByAccountNumberAndAccountType]: This method is not transactional.
2021-07-02 07:46:09,852 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByCustomerAccountId]: This method is not transactional.
2021-07-02 07:46:09,859 INFO com.payment.api.TransferController [main] validating transfer request c53f0c46-e58d-4f63-9351-1a17912f6b17
2021-07-02 07:46:09,860 INFO com.payment.api.TransferController [main] completed request validation successfully for c53f0c46-e58d-4f63-9351-1a17912f6b17
2021-07-02 07:46:09,860 INFO com.payment.api.TransferController [main] processing transfer: c53f0c46-e58d-4f63-9351-1a17912f6b17
2021-07-02 07:46:09,860 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findCustomerAccountByAccountNumberAndAccountType]: This method is not transactional.
2021-07-02 07:46:09,861 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByCustomerAccountId]: This method is not transactional.
2021-07-02 07:46:09,863 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2021-07-02 07:46:09,864 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2021-07-02 07:46:09,865 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByCustomerAccountId]: This method is not transactional.
2021-07-02 07:46:09,866 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2021-07-02 07:46:09,867 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2021-07-02 07:46:09,871 INFO com.payment.api.AccountController [main] fetching account information for 1000000011:current
2021-07-02 07:46:09,871 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findCustomerAccountByAccountNumberAndAccountType]: This method is not transactional.
2021-07-02 07:46:09,872 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByCustomerAccountId]: This method is not transactional.
2021-07-02 07:46:09,887 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringContextShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 07:46:09,887 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringContextShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 07:46:09,889 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown initiated...
2021-07-02 07:46:09,892 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown completed.
2021-07-02 07:48:17,541 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.payment.api.AccountControllerTest], using SpringBootContextLoader
2021-07-02 07:48:17,552 INFO org.springframework.test.context.support.AbstractContextLoader [main] Could not detect default resource locations for test class [com.payment.api.AccountControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2021-07-02 07:48:17,553 INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.payment.api.AccountControllerTest]: AccountControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2021-07-02 07:48:17,702 INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.payment.PaymentApplicationService for test class com.payment.api.AccountControllerTest
2021-07-02 07:48:17,808 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2021-07-02 07:48:17,827 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@70e659aa, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@615f972, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@285f09de, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@73393584, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@31500940, org.springframework.test.context.support.DirtiesContextTestExecutionListener@1827a871, org.springframework.test.context.transaction.TransactionalTestExecutionListener@48e64352, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7249dadf, org.springframework.test.context.event.EventPublishingTestExecutionListener@4362d7df, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@66238be2, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1c25b8a7, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@200606de, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@750fe12e, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@f8908f6, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@3e587920]
2021-07-02 07:48:18,284 WARN org.springframework.boot.ImageBanner [main] Image banner not printable: class path resource [banner.txt] (class java.lang.IllegalStateException: 'Unable to read image banner source')
2021-07-02 07:48:18,336 INFO org.springframework.boot.StartupInfoLogger [main] Starting AccountControllerTest using Java 11.0.2 on adeolas-MacBook-Pro.local with PID 24972 (started by adeolaojo in /Users/adeolaojo/Code/payment-transfer-service)
2021-07-02 07:48:18,338 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2021-07-02 07:48:19,202 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-07-02 07:48:19,264 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 52 ms. Found 2 JPA repository interfaces.
2021-07-02 07:48:19,346 INFO org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor [main] Replacing 'dataSource' DataSource bean with embedded version
2021-07-02 07:48:19,666 INFO org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseFactory [main] Starting embedded database: url='jdbc:h2:mem:3455feb9-3a9b-4233-af19-1b38f41fd561;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2021-07-02 07:48:19,849 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Flyway Community Edition 7.10.0 by Redgate
2021-07-02 07:48:19,878 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Database: jdbc:h2:mem:3455feb9-3a9b-4233-af19-1b38f41fd561 (H2 1.4)
2021-07-02 07:48:19,943 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully validated 1 migration (execution time 00:00.019s)
2021-07-02 07:48:19,959 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2021-07-02 07:48:20,006 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Current version of schema "PUBLIC": << Empty Schema >>
2021-07-02 07:48:20,015 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Migrating schema "PUBLIC" to version "1.1.0 - init migration"
2021-07-02 07:48:20,052 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully applied 1 migration to schema "PUBLIC", now at version v1.1.0 (execution time 00:00.054s)
2021-07-02 07:48:20,196 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-07-02 07:48:20,251 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.4.32.Final
2021-07-02 07:48:20,416 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-07-02 07:48:20,575 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-07-02 07:48:21,211 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-07-02 07:48:21,221 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 07:48:21,781 INFO org.eclipse.jetty.util.log.Log [main] Logging initialized @5044ms to org.eclipse.jetty.util.log.Slf4jLog
2021-07-02 07:48:21,948 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-07-02 07:48:22,238 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [main] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:3455feb9-3a9b-4233-af19-1b38f41fd561'
2021-07-02 07:48:23,430 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2021-07-02 07:48:23,431 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2021-07-02 07:48:23,438 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 14 endpoint(s) beneath base path ''
2021-07-02 07:48:23,464 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 33 ms
2021-07-02 07:48:23,496 INFO org.springframework.boot.StartupInfoLogger [main] Started AccountControllerTest in 5.638 seconds (JVM running for 6.76)
2021-07-02 07:48:23,516 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 07:48:23,550 WARN org.springframework.boot.ImageBanner [main] Image banner not printable: class path resource [banner.txt] (class java.lang.IllegalStateException: 'Unable to read image banner source')
2021-07-02 07:48:23,553 INFO org.springframework.boot.StartupInfoLogger [main] Starting AccountControllerTest using Java 11.0.2 on adeolas-MacBook-Pro.local with PID 24972 (started by adeolaojo in /Users/adeolaojo/Code/payment-transfer-service)
2021-07-02 07:48:23,554 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2021-07-02 07:48:23,815 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-07-02 07:48:23,827 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 11 ms. Found 2 JPA repository interfaces.
2021-07-02 07:48:23,845 INFO org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor [main] Replacing 'dataSource' DataSource bean with embedded version
2021-07-02 07:48:23,920 INFO org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseFactory [main] Starting embedded database: url='jdbc:h2:mem:2bab6f67-cb4a-4249-8851-b5efb9840640;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2021-07-02 07:48:23,932 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Flyway Community Edition 7.10.0 by Redgate
2021-07-02 07:48:23,934 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Database: jdbc:h2:mem:2bab6f67-cb4a-4249-8851-b5efb9840640 (H2 1.4)
2021-07-02 07:48:23,942 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully validated 1 migration (execution time 00:00.004s)
2021-07-02 07:48:23,949 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2021-07-02 07:48:23,964 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Current version of schema "PUBLIC": << Empty Schema >>
2021-07-02 07:48:23,968 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Migrating schema "PUBLIC" to version "1.1.0 - init migration"
2021-07-02 07:48:23,988 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully applied 1 migration to schema "PUBLIC", now at version v1.1.0 (execution time 00:00.029s)
2021-07-02 07:48:24,027 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-07-02 07:48:24,032 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-07-02 07:48:24,077 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-07-02 07:48:24,077 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 07:48:24,240 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-07-02 07:48:24,326 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [main] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:2bab6f67-cb4a-4249-8851-b5efb9840640'
2021-07-02 07:48:24,837 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2021-07-02 07:48:24,837 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2021-07-02 07:48:24,843 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 14 endpoint(s) beneath base path ''
2021-07-02 07:48:24,862 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 24 ms
2021-07-02 07:48:24,881 INFO org.springframework.boot.StartupInfoLogger [main] Started AccountControllerTest in 1.36 seconds (JVM running for 8.144)
2021-07-02 07:48:25,020 ERROR com.payment.configuration.ErrorManagementConfiguration [main] invalid account number
2021-07-02 07:48:25,089 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 07:48:25,114 WARN org.springframework.boot.ImageBanner [main] Image banner not printable: class path resource [banner.txt] (class java.lang.IllegalStateException: 'Unable to read image banner source')
2021-07-02 07:48:25,117 INFO org.springframework.boot.StartupInfoLogger [main] Starting AccountControllerTest using Java 11.0.2 on adeolas-MacBook-Pro.local with PID 24972 (started by adeolaojo in /Users/adeolaojo/Code/payment-transfer-service)
2021-07-02 07:48:25,118 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2021-07-02 07:48:25,333 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-07-02 07:48:25,345 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 10 ms. Found 2 JPA repository interfaces.
2021-07-02 07:48:25,359 INFO org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor [main] Replacing 'dataSource' DataSource bean with embedded version
2021-07-02 07:48:25,422 INFO org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseFactory [main] Starting embedded database: url='jdbc:h2:mem:3e60039c-dc13-41c7-a5b2-c0117d1b1ba6;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2021-07-02 07:48:25,430 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Flyway Community Edition 7.10.0 by Redgate
2021-07-02 07:48:25,432 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Database: jdbc:h2:mem:3e60039c-dc13-41c7-a5b2-c0117d1b1ba6 (H2 1.4)
2021-07-02 07:48:25,438 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully validated 1 migration (execution time 00:00.002s)
2021-07-02 07:48:25,443 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2021-07-02 07:48:25,462 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Current version of schema "PUBLIC": << Empty Schema >>
2021-07-02 07:48:25,466 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Migrating schema "PUBLIC" to version "1.1.0 - init migration"
2021-07-02 07:48:25,480 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully applied 1 migration to schema "PUBLIC", now at version v1.1.0 (execution time 00:00.022s)
2021-07-02 07:48:25,505 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-07-02 07:48:25,509 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-07-02 07:48:25,539 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-07-02 07:48:25,540 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 07:48:25,663 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-07-02 07:48:25,746 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [main] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:3e60039c-dc13-41c7-a5b2-c0117d1b1ba6'
2021-07-02 07:48:26,192 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2021-07-02 07:48:26,193 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2021-07-02 07:48:26,197 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 14 endpoint(s) beneath base path ''
2021-07-02 07:48:26,215 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 22 ms
2021-07-02 07:48:26,231 INFO org.springframework.boot.StartupInfoLogger [main] Started AccountControllerTest in 1.139 seconds (JVM running for 9.494)
2021-07-02 07:48:26,239 ERROR com.payment.configuration.ErrorManagementConfiguration [main] invalid account type, ensure either current or savings type
2021-07-02 07:48:26,246 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 07:48:26,269 WARN org.springframework.boot.ImageBanner [main] Image banner not printable: class path resource [banner.txt] (class java.lang.IllegalStateException: 'Unable to read image banner source')
2021-07-02 07:48:26,271 INFO org.springframework.boot.StartupInfoLogger [main] Starting AccountControllerTest using Java 11.0.2 on adeolas-MacBook-Pro.local with PID 24972 (started by adeolaojo in /Users/adeolaojo/Code/payment-transfer-service)
2021-07-02 07:48:26,272 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2021-07-02 07:48:26,451 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-07-02 07:48:26,461 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 9 ms. Found 2 JPA repository interfaces.
2021-07-02 07:48:26,475 INFO org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor [main] Replacing 'dataSource' DataSource bean with embedded version
2021-07-02 07:48:26,532 INFO org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseFactory [main] Starting embedded database: url='jdbc:h2:mem:83c23162-1507-40a4-b360-9f0f4b526cf6;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2021-07-02 07:48:26,540 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Flyway Community Edition 7.10.0 by Redgate
2021-07-02 07:48:26,541 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Database: jdbc:h2:mem:83c23162-1507-40a4-b360-9f0f4b526cf6 (H2 1.4)
2021-07-02 07:48:26,545 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully validated 1 migration (execution time 00:00.002s)
2021-07-02 07:48:26,550 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2021-07-02 07:48:26,558 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Current version of schema "PUBLIC": << Empty Schema >>
2021-07-02 07:48:26,561 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Migrating schema "PUBLIC" to version "1.1.0 - init migration"
2021-07-02 07:48:26,577 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully applied 1 migration to schema "PUBLIC", now at version v1.1.0 (execution time 00:00.021s)
2021-07-02 07:48:26,604 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-07-02 07:48:26,609 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-07-02 07:48:26,640 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-07-02 07:48:26,640 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 07:48:26,772 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-07-02 07:48:26,856 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [main] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:83c23162-1507-40a4-b360-9f0f4b526cf6'
2021-07-02 07:48:27,270 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2021-07-02 07:48:27,271 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2021-07-02 07:48:27,275 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 14 endpoint(s) beneath base path ''
2021-07-02 07:48:27,292 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 21 ms
2021-07-02 07:48:27,308 INFO org.springframework.boot.StartupInfoLogger [main] Started AccountControllerTest in 1.06 seconds (JVM running for 10.571)
2021-07-02 07:48:27,314 INFO com.payment.api.AccountController [main] fetching account information for 1000000011:savings
2021-07-02 07:48:27,318 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findCustomerAccountByAccountNumberAndAccountType]: This method is not transactional.
2021-07-02 07:48:27,437 ERROR com.payment.configuration.ErrorManagementConfiguration [main] Account not found, please check senders account number or account type
2021-07-02 07:48:27,444 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 07:48:27,465 WARN org.springframework.boot.ImageBanner [main] Image banner not printable: class path resource [banner.txt] (class java.lang.IllegalStateException: 'Unable to read image banner source')
2021-07-02 07:48:27,468 INFO org.springframework.boot.StartupInfoLogger [main] Starting AccountControllerTest using Java 11.0.2 on adeolas-MacBook-Pro.local with PID 24972 (started by adeolaojo in /Users/adeolaojo/Code/payment-transfer-service)
2021-07-02 07:48:27,469 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2021-07-02 07:48:27,649 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-07-02 07:48:27,659 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 9 ms. Found 2 JPA repository interfaces.
2021-07-02 07:48:27,675 INFO org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor [main] Replacing 'dataSource' DataSource bean with embedded version
2021-07-02 07:48:27,750 INFO org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseFactory [main] Starting embedded database: url='jdbc:h2:mem:573d8962-e1fa-43b0-8a8a-4ffe070b745b;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2021-07-02 07:48:27,762 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Flyway Community Edition 7.10.0 by Redgate
2021-07-02 07:48:27,764 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Database: jdbc:h2:mem:573d8962-e1fa-43b0-8a8a-4ffe070b745b (H2 1.4)
2021-07-02 07:48:27,772 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully validated 1 migration (execution time 00:00.004s)
2021-07-02 07:48:27,778 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2021-07-02 07:48:27,792 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Current version of schema "PUBLIC": << Empty Schema >>
2021-07-02 07:48:27,797 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Migrating schema "PUBLIC" to version "1.1.0 - init migration"
2021-07-02 07:48:27,817 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully applied 1 migration to schema "PUBLIC", now at version v1.1.0 (execution time 00:00.029s)
2021-07-02 07:48:27,849 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-07-02 07:48:27,854 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-07-02 07:48:27,900 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-07-02 07:48:27,900 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 07:48:28,064 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-07-02 07:48:28,154 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [main] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:573d8962-e1fa-43b0-8a8a-4ffe070b745b'
2021-07-02 07:48:28,608 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2021-07-02 07:48:28,608 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2021-07-02 07:48:28,613 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 14 endpoint(s) beneath base path ''
2021-07-02 07:48:28,631 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 23 ms
2021-07-02 07:48:28,651 INFO org.springframework.boot.StartupInfoLogger [main] Started AccountControllerTest in 1.204 seconds (JVM running for 11.914)
2021-07-02 07:48:28,659 INFO com.payment.api.AccountController [main] fetching account information for 1000000011:current
2021-07-02 07:48:28,660 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findCustomerAccountByAccountNumberAndAccountType]: This method is not transactional.
2021-07-02 07:48:28,675 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByCustomerAccountId]: This method is not transactional.
2021-07-02 07:48:28,696 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.payment.api.TransferControllerTest], using SpringBootContextLoader
2021-07-02 07:48:28,697 INFO org.springframework.test.context.support.AbstractContextLoader [main] Could not detect default resource locations for test class [com.payment.api.TransferControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2021-07-02 07:48:28,697 INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.payment.api.TransferControllerTest]: TransferControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2021-07-02 07:48:28,700 INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.payment.PaymentApplicationService for test class com.payment.api.TransferControllerTest
2021-07-02 07:48:28,701 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2021-07-02 07:48:28,702 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@570b2d9b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3b5b6df4, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@6ad11552, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@6626ae40, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@684f20ea, org.springframework.test.context.support.DirtiesContextTestExecutionListener@81bc4da, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6a022b0e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@3985cca0, org.springframework.test.context.event.EventPublishingTestExecutionListener@285cf30a, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@7e37cfcf, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@596d15c, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@1261fd82, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@5dea9867, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@1de36da2, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@2e4c4373]
2021-07-02 07:48:28,722 WARN org.springframework.boot.ImageBanner [main] Image banner not printable: class path resource [banner.txt] (class java.lang.IllegalStateException: 'Unable to read image banner source')
2021-07-02 07:48:28,726 INFO org.springframework.boot.StartupInfoLogger [main] Starting TransferControllerTest using Java 11.0.2 on adeolas-MacBook-Pro.local with PID 24972 (started by adeolaojo in /Users/adeolaojo/Code/payment-transfer-service)
2021-07-02 07:48:28,727 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2021-07-02 07:48:28,916 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-07-02 07:48:28,926 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 9 ms. Found 2 JPA repository interfaces.
2021-07-02 07:48:29,021 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Flyway Community Edition 7.10.0 by Redgate
2021-07-02 07:48:29,023 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2021-07-02 07:48:29,042 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2021-07-02 07:48:29,048 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Database: jdbc:h2:mem:testdb (H2 1.4)
2021-07-02 07:48:29,060 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully validated 1 migration (execution time 00:00.003s)
2021-07-02 07:48:29,064 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2021-07-02 07:48:29,076 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Current version of schema "PUBLIC": << Empty Schema >>
2021-07-02 07:48:29,079 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Migrating schema "PUBLIC" to version "1.1.0 - init migration"
2021-07-02 07:48:29,093 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully applied 1 migration to schema "PUBLIC", now at version v1.1.0 (execution time 00:00.020s)
2021-07-02 07:48:29,128 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-07-02 07:48:29,132 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-07-02 07:48:29,163 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-07-02 07:48:29,163 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 07:48:29,297 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-07-02 07:48:29,375 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [main] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2021-07-02 07:48:29,779 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2021-07-02 07:48:29,780 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2021-07-02 07:48:29,784 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 14 endpoint(s) beneath base path ''
2021-07-02 07:48:29,803 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 23 ms
2021-07-02 07:48:29,819 INFO org.springframework.boot.StartupInfoLogger [main] Started TransferControllerTest in 1.114 seconds (JVM running for 13.082)
2021-07-02 07:48:29,870 INFO com.payment.api.TransferController [main] validating transfer request 2406f6df-8a32-490b-9f5e-dd10d6e0361f
2021-07-02 07:48:29,871 INFO com.payment.api.TransferController [main] completed request validation successfully for 2406f6df-8a32-490b-9f5e-dd10d6e0361f
2021-07-02 07:48:29,871 INFO com.payment.api.TransferController [main] processing transfer: 2406f6df-8a32-490b-9f5e-dd10d6e0361f
2021-07-02 07:48:29,872 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findCustomerAccountByAccountNumberAndAccountType]: This method is not transactional.
2021-07-02 07:48:29,876 ERROR com.payment.configuration.ErrorManagementConfiguration [main] Account 10000000112 with type current not found
2021-07-02 07:48:29,884 INFO com.payment.api.TransferController [main] validating transfer request 4280a1f1-da5e-493c-8f79-6d9a4c842409
2021-07-02 07:48:29,885 INFO com.payment.api.TransferController [main] completed request validation successfully for 4280a1f1-da5e-493c-8f79-6d9a4c842409
2021-07-02 07:48:29,885 INFO com.payment.api.TransferController [main] processing transfer: 4280a1f1-da5e-493c-8f79-6d9a4c842409
2021-07-02 07:48:29,886 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findCustomerAccountByAccountNumberAndAccountType]: This method is not transactional.
2021-07-02 07:48:29,888 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByCustomerAccountId]: This method is not transactional.
2021-07-02 07:48:29,900 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2021-07-02 07:48:29,920 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2021-07-02 07:48:29,927 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByCustomerAccountId]: This method is not transactional.
2021-07-02 07:48:29,929 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2021-07-02 07:48:29,933 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2021-07-02 07:48:29,946 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.payment.api.E2ETransferControllerTest], using SpringBootContextLoader
2021-07-02 07:48:29,947 INFO org.springframework.test.context.support.AbstractContextLoader [main] Could not detect default resource locations for test class [com.payment.api.E2ETransferControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2021-07-02 07:48:29,948 INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.payment.api.E2ETransferControllerTest]: E2ETransferControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2021-07-02 07:48:29,951 INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.payment.PaymentApplicationService for test class com.payment.api.E2ETransferControllerTest
2021-07-02 07:48:29,953 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2021-07-02 07:48:29,953 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@2ce028fa, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@66579498, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@7f7b865f, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@9a1d8dd, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@24ab86eb, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7e8235b2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@5de80d43, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5a885113, org.springframework.test.context.event.EventPublishingTestExecutionListener@22ec1877, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@4dac863d, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@503308de, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@482bdb02, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@ac64dd0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@23f2bfdb, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@6bcf2683]
2021-07-02 07:48:29,961 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 07:48:29,989 WARN org.springframework.boot.ImageBanner [main] Image banner not printable: class path resource [banner.txt] (class java.lang.IllegalStateException: 'Unable to read image banner source')
2021-07-02 07:48:29,993 INFO org.springframework.boot.StartupInfoLogger [main] Starting E2ETransferControllerTest using Java 11.0.2 on adeolas-MacBook-Pro.local with PID 24972 (started by adeolaojo in /Users/adeolaojo/Code/payment-transfer-service)
2021-07-02 07:48:29,994 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2021-07-02 07:48:30,170 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-07-02 07:48:30,181 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 10 ms. Found 2 JPA repository interfaces.
2021-07-02 07:48:30,193 INFO org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor [main] Replacing 'dataSource' DataSource bean with embedded version
2021-07-02 07:48:30,248 INFO org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseFactory [main] Starting embedded database: url='jdbc:h2:mem:16432202-9f8d-4218-ac07-24f6c19420b8;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2021-07-02 07:48:30,258 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Flyway Community Edition 7.10.0 by Redgate
2021-07-02 07:48:30,259 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Database: jdbc:h2:mem:16432202-9f8d-4218-ac07-24f6c19420b8 (H2 1.4)
2021-07-02 07:48:30,264 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully validated 1 migration (execution time 00:00.002s)
2021-07-02 07:48:30,267 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2021-07-02 07:48:30,276 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Current version of schema "PUBLIC": << Empty Schema >>
2021-07-02 07:48:30,278 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Migrating schema "PUBLIC" to version "1.1.0 - init migration"
2021-07-02 07:48:30,290 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully applied 1 migration to schema "PUBLIC", now at version v1.1.0 (execution time 00:00.016s)
2021-07-02 07:48:30,321 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-07-02 07:48:30,325 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-07-02 07:48:30,351 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-07-02 07:48:30,352 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 07:48:30,479 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-07-02 07:48:30,557 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [main] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:16432202-9f8d-4218-ac07-24f6c19420b8'
2021-07-02 07:48:30,939 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2021-07-02 07:48:30,939 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2021-07-02 07:48:30,944 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 14 endpoint(s) beneath base path ''
2021-07-02 07:48:30,959 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 20 ms
2021-07-02 07:48:30,974 INFO org.springframework.boot.StartupInfoLogger [main] Started E2ETransferControllerTest in 1.01 seconds (JVM running for 14.237)
2021-07-02 07:48:30,982 INFO com.payment.api.AccountController [main] fetching account information for 1000000011:current
2021-07-02 07:48:30,983 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findCustomerAccountByAccountNumberAndAccountType]: This method is not transactional.
2021-07-02 07:48:30,987 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByCustomerAccountId]: This method is not transactional.
2021-07-02 07:48:30,998 INFO com.payment.api.TransferController [main] validating transfer request 1a56ac11-4d47-456e-896a-9b41e4191f75
2021-07-02 07:48:30,999 INFO com.payment.api.TransferController [main] completed request validation successfully for 1a56ac11-4d47-456e-896a-9b41e4191f75
2021-07-02 07:48:31,000 INFO com.payment.api.TransferController [main] processing transfer: 1a56ac11-4d47-456e-896a-9b41e4191f75
2021-07-02 07:48:31,000 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findCustomerAccountByAccountNumberAndAccountType]: This method is not transactional.
2021-07-02 07:48:31,002 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByCustomerAccountId]: This method is not transactional.
2021-07-02 07:48:31,005 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2021-07-02 07:48:31,007 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2021-07-02 07:48:31,009 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByCustomerAccountId]: This method is not transactional.
2021-07-02 07:48:31,011 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2021-07-02 07:48:31,012 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2021-07-02 07:48:31,018 INFO com.payment.api.AccountController [main] fetching account information for 1000000011:current
2021-07-02 07:48:31,018 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findCustomerAccountByAccountNumberAndAccountType]: This method is not transactional.
2021-07-02 07:48:31,021 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByCustomerAccountId]: This method is not transactional.
2021-07-02 07:48:31,046 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringContextShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 07:48:31,046 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringContextShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 07:48:31,048 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown initiated...
2021-07-02 07:48:31,051 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown completed.
2021-07-02 08:09:33,968 INFO com.payment.domain.service.AccountServiceTest [main] startup
2021-07-02 08:29:09,032 INFO com.payment.domain.service.AccountServiceTest [main] startup
2021-07-02 08:39:18,772 INFO com.payment.domain.service.AccountServiceTest [main] startup
2021-07-02 08:39:43,581 INFO com.payment.domain.service.AccountServiceTest [main] startup
2021-07-02 08:41:20,660 INFO com.payment.domain.service.AccountServiceTest [main] startup
2021-07-02 08:41:29,144 INFO com.payment.domain.service.AccountServiceTest [main] startup
2021-07-02 08:41:29,188 INFO com.payment.domain.service.AccountServiceTest [main] startup
2021-07-02 08:41:36,334 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.payment.api.TransferControllerTest], using SpringBootContextLoader
2021-07-02 08:41:36,341 INFO org.springframework.test.context.support.AbstractContextLoader [main] Could not detect default resource locations for test class [com.payment.api.TransferControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2021-07-02 08:41:36,343 INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.payment.api.TransferControllerTest]: TransferControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2021-07-02 08:41:36,479 INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.payment.PaymentApplicationService for test class com.payment.api.TransferControllerTest
2021-07-02 08:41:36,589 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2021-07-02 08:41:36,607 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@28a2a3e7, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3f2049b6, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@10b3df93, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@ea27e34, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@33a2499c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@e72dba7, org.springframework.test.context.transaction.TransactionalTestExecutionListener@33c2bd, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1dfd5f51, org.springframework.test.context.event.EventPublishingTestExecutionListener@3c321bdb, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@24855019, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@3abd581e, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@4d4d8fcf, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@610db97e, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@6f0628de, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@3fabf088]
2021-07-02 08:41:36,926 WARN org.springframework.boot.ImageBanner [main] Image banner not printable: class path resource [banner.txt] (class java.lang.IllegalStateException: 'Unable to read image banner source')
2021-07-02 08:41:36,985 INFO org.springframework.boot.StartupInfoLogger [main] Starting TransferControllerTest using Java 11.0.11 on adeolas-MacBook-Pro.local with PID 28282 (started by adeolaojo in /Users/adeolaojo/Code/payment-transfer-service)
2021-07-02 08:41:36,986 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2021-07-02 08:41:37,873 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-07-02 08:41:37,947 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 64 ms. Found 2 JPA repository interfaces.
2021-07-02 08:41:38,385 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Flyway Community Edition 7.10.0 by Redgate
2021-07-02 08:41:38,391 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2021-07-02 08:41:38,566 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2021-07-02 08:41:38,616 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Database: jdbc:h2:mem:testdb (H2 1.4)
2021-07-02 08:41:38,687 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully validated 1 migration (execution time 00:00.022s)
2021-07-02 08:41:38,699 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2021-07-02 08:41:38,742 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Current version of schema "PUBLIC": << Empty Schema >>
2021-07-02 08:41:38,749 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Migrating schema "PUBLIC" to version "1.1.0 - init migration"
2021-07-02 08:41:38,777 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully applied 1 migration to schema "PUBLIC", now at version v1.1.0 (execution time 00:00.039s)
2021-07-02 08:41:38,914 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-07-02 08:41:38,976 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.4.32.Final
2021-07-02 08:41:39,099 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-07-02 08:41:39,228 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-07-02 08:41:39,720 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-07-02 08:41:39,728 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 08:41:40,129 INFO org.eclipse.jetty.util.log.Log [main] Logging initialized @4941ms to org.eclipse.jetty.util.log.Slf4jLog
2021-07-02 08:41:40,263 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-07-02 08:41:40,506 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [main] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2021-07-02 08:41:42,163 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2021-07-02 08:41:42,164 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2021-07-02 08:41:42,169 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 14 endpoint(s) beneath base path ''
2021-07-02 08:41:42,190 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 26 ms
2021-07-02 08:41:42,215 INFO org.springframework.boot.StartupInfoLogger [main] Started TransferControllerTest in 5.569 seconds (JVM running for 7.027)
2021-07-02 08:41:42,404 INFO com.payment.api.TransferController [main] validating transfer request 908c2513-48be-4ad5-ad59-0d127e1b9c6a
2021-07-02 08:41:42,404 INFO com.payment.api.TransferController [main] completed request validation successfully for 908c2513-48be-4ad5-ad59-0d127e1b9c6a
2021-07-02 08:41:42,404 INFO com.payment.api.TransferController [main] processing transfer: 908c2513-48be-4ad5-ad59-0d127e1b9c6a
2021-07-02 08:41:42,407 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findCustomerAccountByAccountNumberAndAccountType]: This method is not transactional.
2021-07-02 08:41:42,514 ERROR com.payment.configuration.ErrorManagementConfiguration [main] Account 10000000112 with type current not found
2021-07-02 08:41:42,546 INFO com.payment.api.TransferController [main] validating transfer request 0e41db97-beb6-45cf-a15c-9415620ba48c
2021-07-02 08:41:42,547 INFO com.payment.api.TransferController [main] completed request validation successfully for 0e41db97-beb6-45cf-a15c-9415620ba48c
2021-07-02 08:41:42,547 INFO com.payment.api.TransferController [main] processing transfer: 0e41db97-beb6-45cf-a15c-9415620ba48c
2021-07-02 08:41:42,547 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findCustomerAccountByAccountNumberAndAccountType]: This method is not transactional.
2021-07-02 08:41:42,557 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByCustomerAccountId]: This method is not transactional.
2021-07-02 08:41:42,568 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2021-07-02 08:41:42,584 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2021-07-02 08:41:42,590 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByCustomerAccountId]: This method is not transactional.
2021-07-02 08:41:42,591 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2021-07-02 08:41:42,595 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2021-07-02 08:41:42,609 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.payment.api.AccountControllerTest], using SpringBootContextLoader
2021-07-02 08:41:42,610 INFO org.springframework.test.context.support.AbstractContextLoader [main] Could not detect default resource locations for test class [com.payment.api.AccountControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2021-07-02 08:41:42,610 INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.payment.api.AccountControllerTest]: AccountControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2021-07-02 08:41:42,612 INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.payment.PaymentApplicationService for test class com.payment.api.AccountControllerTest
2021-07-02 08:41:42,614 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2021-07-02 08:41:42,614 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@1484cb57, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1e250539, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@5860e4c3, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@3edc999f, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@cb03360, org.springframework.test.context.support.DirtiesContextTestExecutionListener@3a8ae302, org.springframework.test.context.transaction.TransactionalTestExecutionListener@65134e6c, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@3fd93330, org.springframework.test.context.event.EventPublishingTestExecutionListener@32ff3c98, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@5f804b36, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@201f0e84, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@5629e904, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@1d7914a5, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@40fd25c7, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@18ce7872]
2021-07-02 08:41:42,632 WARN org.springframework.boot.ImageBanner [main] Image banner not printable: class path resource [banner.txt] (class java.lang.IllegalStateException: 'Unable to read image banner source')
2021-07-02 08:41:42,634 INFO org.springframework.boot.StartupInfoLogger [main] Starting AccountControllerTest using Java 11.0.11 on adeolas-MacBook-Pro.local with PID 28282 (started by adeolaojo in /Users/adeolaojo/Code/payment-transfer-service)
2021-07-02 08:41:42,634 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2021-07-02 08:41:42,852 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-07-02 08:41:42,861 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 8 ms. Found 2 JPA repository interfaces.
2021-07-02 08:41:42,874 INFO org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor [main] Replacing 'dataSource' DataSource bean with embedded version
2021-07-02 08:41:42,940 INFO org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseFactory [main] Starting embedded database: url='jdbc:h2:mem:07ff2b04-3180-4903-95a5-7829d68e8093;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2021-07-02 08:41:42,950 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Flyway Community Edition 7.10.0 by Redgate
2021-07-02 08:41:42,951 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Database: jdbc:h2:mem:07ff2b04-3180-4903-95a5-7829d68e8093 (H2 1.4)
2021-07-02 08:41:42,958 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully validated 1 migration (execution time 00:00.004s)
2021-07-02 08:41:42,964 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2021-07-02 08:41:42,976 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Current version of schema "PUBLIC": << Empty Schema >>
2021-07-02 08:41:42,979 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Migrating schema "PUBLIC" to version "1.1.0 - init migration"
2021-07-02 08:41:42,994 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully applied 1 migration to schema "PUBLIC", now at version v1.1.0 (execution time 00:00.022s)
2021-07-02 08:41:43,015 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-07-02 08:41:43,019 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-07-02 08:41:43,045 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-07-02 08:41:43,045 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 08:41:43,191 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-07-02 08:41:43,268 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [main] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:07ff2b04-3180-4903-95a5-7829d68e8093'
2021-07-02 08:41:43,809 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2021-07-02 08:41:43,809 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2021-07-02 08:41:43,813 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 14 endpoint(s) beneath base path ''
2021-07-02 08:41:43,827 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 17 ms
2021-07-02 08:41:43,840 INFO org.springframework.boot.StartupInfoLogger [main] Started AccountControllerTest in 1.224 seconds (JVM running for 8.652)
2021-07-02 08:41:43,846 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 08:41:43,867 WARN org.springframework.boot.ImageBanner [main] Image banner not printable: class path resource [banner.txt] (class java.lang.IllegalStateException: 'Unable to read image banner source')
2021-07-02 08:41:43,868 INFO org.springframework.boot.StartupInfoLogger [main] Starting AccountControllerTest using Java 11.0.11 on adeolas-MacBook-Pro.local with PID 28282 (started by adeolaojo in /Users/adeolaojo/Code/payment-transfer-service)
2021-07-02 08:41:43,869 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2021-07-02 08:41:44,048 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-07-02 08:41:44,057 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 9 ms. Found 2 JPA repository interfaces.
2021-07-02 08:41:44,069 INFO org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor [main] Replacing 'dataSource' DataSource bean with embedded version
2021-07-02 08:41:44,118 INFO org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseFactory [main] Starting embedded database: url='jdbc:h2:mem:b6524b83-4e54-4bfe-ab18-685f17d272d7;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2021-07-02 08:41:44,124 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Flyway Community Edition 7.10.0 by Redgate
2021-07-02 08:41:44,125 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Database: jdbc:h2:mem:b6524b83-4e54-4bfe-ab18-685f17d272d7 (H2 1.4)
2021-07-02 08:41:44,130 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully validated 1 migration (execution time 00:00.002s)
2021-07-02 08:41:44,134 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2021-07-02 08:41:44,143 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Current version of schema "PUBLIC": << Empty Schema >>
2021-07-02 08:41:44,146 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Migrating schema "PUBLIC" to version "1.1.0 - init migration"
2021-07-02 08:41:44,159 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully applied 1 migration to schema "PUBLIC", now at version v1.1.0 (execution time 00:00.018s)
2021-07-02 08:41:44,180 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-07-02 08:41:44,185 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-07-02 08:41:44,215 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-07-02 08:41:44,215 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 08:41:44,345 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-07-02 08:41:44,429 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [main] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:b6524b83-4e54-4bfe-ab18-685f17d272d7'
2021-07-02 08:41:44,922 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2021-07-02 08:41:44,922 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2021-07-02 08:41:44,927 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 14 endpoint(s) beneath base path ''
2021-07-02 08:41:44,944 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 22 ms
2021-07-02 08:41:44,958 INFO org.springframework.boot.StartupInfoLogger [main] Started AccountControllerTest in 1.108 seconds (JVM running for 9.77)
2021-07-02 08:41:44,968 ERROR com.payment.configuration.ErrorManagementConfiguration [main] invalid account number
2021-07-02 08:41:44,977 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 08:41:44,996 WARN org.springframework.boot.ImageBanner [main] Image banner not printable: class path resource [banner.txt] (class java.lang.IllegalStateException: 'Unable to read image banner source')
2021-07-02 08:41:44,998 INFO org.springframework.boot.StartupInfoLogger [main] Starting AccountControllerTest using Java 11.0.11 on adeolas-MacBook-Pro.local with PID 28282 (started by adeolaojo in /Users/adeolaojo/Code/payment-transfer-service)
2021-07-02 08:41:44,998 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2021-07-02 08:41:45,173 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-07-02 08:41:45,183 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 9 ms. Found 2 JPA repository interfaces.
2021-07-02 08:41:45,198 INFO org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor [main] Replacing 'dataSource' DataSource bean with embedded version
2021-07-02 08:41:45,258 INFO org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseFactory [main] Starting embedded database: url='jdbc:h2:mem:3e4547c0-b8bc-40b1-905b-ea157a6280c1;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2021-07-02 08:41:45,268 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Flyway Community Edition 7.10.0 by Redgate
2021-07-02 08:41:45,269 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Database: jdbc:h2:mem:3e4547c0-b8bc-40b1-905b-ea157a6280c1 (H2 1.4)
2021-07-02 08:41:45,275 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully validated 1 migration (execution time 00:00.002s)
2021-07-02 08:41:45,278 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2021-07-02 08:41:45,288 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Current version of schema "PUBLIC": << Empty Schema >>
2021-07-02 08:41:45,292 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Migrating schema "PUBLIC" to version "1.1.0 - init migration"
2021-07-02 08:41:45,306 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully applied 1 migration to schema "PUBLIC", now at version v1.1.0 (execution time 00:00.022s)
2021-07-02 08:41:45,330 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-07-02 08:41:45,335 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-07-02 08:41:45,361 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-07-02 08:41:45,361 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 08:41:45,494 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-07-02 08:41:45,590 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [main] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:3e4547c0-b8bc-40b1-905b-ea157a6280c1'
2021-07-02 08:41:46,101 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2021-07-02 08:41:46,102 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2021-07-02 08:41:46,106 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 14 endpoint(s) beneath base path ''
2021-07-02 08:41:46,121 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 19 ms
2021-07-02 08:41:46,136 INFO org.springframework.boot.StartupInfoLogger [main] Started AccountControllerTest in 1.157 seconds (JVM running for 10.948)
2021-07-02 08:41:46,141 ERROR com.payment.configuration.ErrorManagementConfiguration [main] invalid account type, ensure either current or savings type
2021-07-02 08:41:46,148 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 08:41:46,171 WARN org.springframework.boot.ImageBanner [main] Image banner not printable: class path resource [banner.txt] (class java.lang.IllegalStateException: 'Unable to read image banner source')
2021-07-02 08:41:46,173 INFO org.springframework.boot.StartupInfoLogger [main] Starting AccountControllerTest using Java 11.0.11 on adeolas-MacBook-Pro.local with PID 28282 (started by adeolaojo in /Users/adeolaojo/Code/payment-transfer-service)
2021-07-02 08:41:46,174 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2021-07-02 08:41:46,341 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-07-02 08:41:46,350 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 8 ms. Found 2 JPA repository interfaces.
2021-07-02 08:41:46,361 INFO org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor [main] Replacing 'dataSource' DataSource bean with embedded version
2021-07-02 08:41:46,410 INFO org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseFactory [main] Starting embedded database: url='jdbc:h2:mem:855f430f-cfe0-4d5d-801c-38d70b62ada0;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2021-07-02 08:41:46,416 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Flyway Community Edition 7.10.0 by Redgate
2021-07-02 08:41:46,417 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Database: jdbc:h2:mem:855f430f-cfe0-4d5d-801c-38d70b62ada0 (H2 1.4)
2021-07-02 08:41:46,420 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully validated 1 migration (execution time 00:00.001s)
2021-07-02 08:41:46,423 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2021-07-02 08:41:46,429 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Current version of schema "PUBLIC": << Empty Schema >>
2021-07-02 08:41:46,431 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Migrating schema "PUBLIC" to version "1.1.0 - init migration"
2021-07-02 08:41:46,442 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully applied 1 migration to schema "PUBLIC", now at version v1.1.0 (execution time 00:00.015s)
2021-07-02 08:41:46,465 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-07-02 08:41:46,470 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-07-02 08:41:46,499 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-07-02 08:41:46,500 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 08:41:46,633 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-07-02 08:41:46,717 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [main] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:855f430f-cfe0-4d5d-801c-38d70b62ada0'
2021-07-02 08:41:47,163 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2021-07-02 08:41:47,163 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2021-07-02 08:41:47,166 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 14 endpoint(s) beneath base path ''
2021-07-02 08:41:47,180 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 17 ms
2021-07-02 08:41:47,193 INFO org.springframework.boot.StartupInfoLogger [main] Started AccountControllerTest in 1.043 seconds (JVM running for 12.005)
2021-07-02 08:41:47,198 INFO com.payment.api.AccountController [main] fetching account information for 1000000011:savings
2021-07-02 08:41:47,199 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findCustomerAccountByAccountNumberAndAccountType]: This method is not transactional.
2021-07-02 08:41:47,203 ERROR com.payment.configuration.ErrorManagementConfiguration [main] Account not found, please check senders account number or account type
2021-07-02 08:41:47,209 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 08:41:47,226 WARN org.springframework.boot.ImageBanner [main] Image banner not printable: class path resource [banner.txt] (class java.lang.IllegalStateException: 'Unable to read image banner source')
2021-07-02 08:41:47,228 INFO org.springframework.boot.StartupInfoLogger [main] Starting AccountControllerTest using Java 11.0.11 on adeolas-MacBook-Pro.local with PID 28282 (started by adeolaojo in /Users/adeolaojo/Code/payment-transfer-service)
2021-07-02 08:41:47,228 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2021-07-02 08:41:47,390 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-07-02 08:41:47,399 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 8 ms. Found 2 JPA repository interfaces.
2021-07-02 08:41:47,410 INFO org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor [main] Replacing 'dataSource' DataSource bean with embedded version
2021-07-02 08:41:47,458 INFO org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseFactory [main] Starting embedded database: url='jdbc:h2:mem:a2640a81-fca6-4918-bbc3-65a2d3975e1d;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2021-07-02 08:41:47,464 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Flyway Community Edition 7.10.0 by Redgate
2021-07-02 08:41:47,465 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Database: jdbc:h2:mem:a2640a81-fca6-4918-bbc3-65a2d3975e1d (H2 1.4)
2021-07-02 08:41:47,469 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully validated 1 migration (execution time 00:00.001s)
2021-07-02 08:41:47,472 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2021-07-02 08:41:47,479 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Current version of schema "PUBLIC": << Empty Schema >>
2021-07-02 08:41:47,480 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Migrating schema "PUBLIC" to version "1.1.0 - init migration"
2021-07-02 08:41:47,490 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully applied 1 migration to schema "PUBLIC", now at version v1.1.0 (execution time 00:00.013s)
2021-07-02 08:41:47,510 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-07-02 08:41:47,514 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-07-02 08:41:47,536 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-07-02 08:41:47,536 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 08:41:47,643 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-07-02 08:41:47,709 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [main] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:a2640a81-fca6-4918-bbc3-65a2d3975e1d'
2021-07-02 08:41:48,141 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2021-07-02 08:41:48,141 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2021-07-02 08:41:48,144 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 14 endpoint(s) beneath base path ''
2021-07-02 08:41:48,162 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 21 ms
2021-07-02 08:41:48,177 INFO org.springframework.boot.StartupInfoLogger [main] Started AccountControllerTest in 0.966 seconds (JVM running for 12.989)
2021-07-02 08:41:48,183 INFO com.payment.api.AccountController [main] fetching account information for 1000000011:current
2021-07-02 08:41:48,183 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findCustomerAccountByAccountNumberAndAccountType]: This method is not transactional.
2021-07-02 08:41:48,187 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByCustomerAccountId]: This method is not transactional.
2021-07-02 08:41:48,196 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.payment.api.E2ETransferControllerTest], using SpringBootContextLoader
2021-07-02 08:41:48,197 INFO org.springframework.test.context.support.AbstractContextLoader [main] Could not detect default resource locations for test class [com.payment.api.E2ETransferControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2021-07-02 08:41:48,197 INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.payment.api.E2ETransferControllerTest]: E2ETransferControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2021-07-02 08:41:48,199 INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.payment.PaymentApplicationService for test class com.payment.api.E2ETransferControllerTest
2021-07-02 08:41:48,200 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2021-07-02 08:41:48,200 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@91a7497, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4403cf9a, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@595f803, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@1cb991da, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@46ddf016, org.springframework.test.context.support.DirtiesContextTestExecutionListener@1cf89848, org.springframework.test.context.transaction.TransactionalTestExecutionListener@36072e34, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@66604e6f, org.springframework.test.context.event.EventPublishingTestExecutionListener@4f944ff5, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@1776a497, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@188f4ec3, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@7c78688b, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@117e7b16, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@330e37b2, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@51959e46]
2021-07-02 08:41:48,205 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 08:41:48,225 WARN org.springframework.boot.ImageBanner [main] Image banner not printable: class path resource [banner.txt] (class java.lang.IllegalStateException: 'Unable to read image banner source')
2021-07-02 08:41:48,227 INFO org.springframework.boot.StartupInfoLogger [main] Starting E2ETransferControllerTest using Java 11.0.11 on adeolas-MacBook-Pro.local with PID 28282 (started by adeolaojo in /Users/adeolaojo/Code/payment-transfer-service)
2021-07-02 08:41:48,227 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2021-07-02 08:41:48,424 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-07-02 08:41:48,433 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 8 ms. Found 2 JPA repository interfaces.
2021-07-02 08:41:48,445 INFO org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor [main] Replacing 'dataSource' DataSource bean with embedded version
2021-07-02 08:41:48,525 INFO org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseFactory [main] Starting embedded database: url='jdbc:h2:mem:54180f69-7fcd-488d-8c1b-4c3e2353092c;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2021-07-02 08:41:48,532 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Flyway Community Edition 7.10.0 by Redgate
2021-07-02 08:41:48,533 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Database: jdbc:h2:mem:54180f69-7fcd-488d-8c1b-4c3e2353092c (H2 1.4)
2021-07-02 08:41:48,537 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully validated 1 migration (execution time 00:00.002s)
2021-07-02 08:41:48,541 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2021-07-02 08:41:48,548 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Current version of schema "PUBLIC": << Empty Schema >>
2021-07-02 08:41:48,550 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Migrating schema "PUBLIC" to version "1.1.0 - init migration"
2021-07-02 08:41:48,560 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully applied 1 migration to schema "PUBLIC", now at version v1.1.0 (execution time 00:00.015s)
2021-07-02 08:41:48,585 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-07-02 08:41:48,590 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-07-02 08:41:48,614 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-07-02 08:41:48,615 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 08:41:48,733 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-07-02 08:41:48,801 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [main] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:54180f69-7fcd-488d-8c1b-4c3e2353092c'
2021-07-02 08:41:49,190 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2021-07-02 08:41:49,190 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2021-07-02 08:41:49,193 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 14 endpoint(s) beneath base path ''
2021-07-02 08:41:49,207 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 17 ms
2021-07-02 08:41:49,222 INFO org.springframework.boot.StartupInfoLogger [main] Started E2ETransferControllerTest in 1.015 seconds (JVM running for 14.034)
2021-07-02 08:41:49,227 INFO com.payment.api.AccountController [main] fetching account information for 1000000011:current
2021-07-02 08:41:49,228 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findCustomerAccountByAccountNumberAndAccountType]: This method is not transactional.
2021-07-02 08:41:49,231 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByCustomerAccountId]: This method is not transactional.
2021-07-02 08:41:49,238 INFO com.payment.api.TransferController [main] validating transfer request 4dc73092-f4a0-417c-815c-a25b33b2c57d
2021-07-02 08:41:49,238 INFO com.payment.api.TransferController [main] completed request validation successfully for 4dc73092-f4a0-417c-815c-a25b33b2c57d
2021-07-02 08:41:49,239 INFO com.payment.api.TransferController [main] processing transfer: 4dc73092-f4a0-417c-815c-a25b33b2c57d
2021-07-02 08:41:49,239 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findCustomerAccountByAccountNumberAndAccountType]: This method is not transactional.
2021-07-02 08:41:49,240 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByCustomerAccountId]: This method is not transactional.
2021-07-02 08:41:49,242 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2021-07-02 08:41:49,243 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2021-07-02 08:41:49,243 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByCustomerAccountId]: This method is not transactional.
2021-07-02 08:41:49,244 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2021-07-02 08:41:49,245 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2021-07-02 08:41:49,248 INFO com.payment.api.AccountController [main] fetching account information for 1000000011:current
2021-07-02 08:41:49,248 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findCustomerAccountByAccountNumberAndAccountType]: This method is not transactional.
2021-07-02 08:41:49,249 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByCustomerAccountId]: This method is not transactional.
2021-07-02 08:41:49,360 INFO com.payment.domain.service.AccountServiceTest [main] startup
2021-07-02 08:41:49,379 INFO com.payment.domain.service.AccountServiceTest [main] startup
2021-07-02 08:41:49,389 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringContextShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 08:41:49,390 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringContextShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 08:41:49,391 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown initiated...
2021-07-02 08:41:49,395 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown completed.
2021-07-02 08:45:18,891 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.payment.api.TransferControllerTest], using SpringBootContextLoader
2021-07-02 08:45:18,897 INFO org.springframework.test.context.support.AbstractContextLoader [main] Could not detect default resource locations for test class [com.payment.api.TransferControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2021-07-02 08:45:18,898 INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.payment.api.TransferControllerTest]: TransferControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2021-07-02 08:45:19,040 INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.payment.PaymentApplicationService for test class com.payment.api.TransferControllerTest
2021-07-02 08:45:19,148 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2021-07-02 08:45:19,166 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@9cd25ff, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@27e0f2f5, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@3574e198, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@6db66836, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@db44aa2, org.springframework.test.context.support.DirtiesContextTestExecutionListener@2de366bb, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3f093abe, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@61a002b1, org.springframework.test.context.event.EventPublishingTestExecutionListener@4eeea57d, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@780ec4a5, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@e24ddd0, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@6f70f32f, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@548e76f1, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@5aabbb29, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@72c927f1]
2021-07-02 08:45:19,528 WARN org.springframework.boot.ImageBanner [main] Image banner not printable: class path resource [banner.txt] (class java.lang.IllegalStateException: 'Unable to read image banner source')
2021-07-02 08:45:19,604 INFO org.springframework.boot.StartupInfoLogger [main] Starting TransferControllerTest using Java 11.0.11 on adeolas-MacBook-Pro.local with PID 35381 (started by adeolaojo in /Users/adeolaojo/Code/payment-transfer-service)
2021-07-02 08:45:19,606 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2021-07-02 08:45:20,406 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-07-02 08:45:20,454 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 41 ms. Found 2 JPA repository interfaces.
2021-07-02 08:45:20,898 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Flyway Community Edition 7.10.0 by Redgate
2021-07-02 08:45:20,904 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2021-07-02 08:45:21,078 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2021-07-02 08:45:21,111 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Database: jdbc:h2:mem:testdb (H2 1.4)
2021-07-02 08:45:21,187 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully validated 1 migration (execution time 00:00.031s)
2021-07-02 08:45:21,199 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2021-07-02 08:45:21,238 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Current version of schema "PUBLIC": << Empty Schema >>
2021-07-02 08:45:21,244 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Migrating schema "PUBLIC" to version "1.1.0 - init migration"
2021-07-02 08:45:21,270 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully applied 1 migration to schema "PUBLIC", now at version v1.1.0 (execution time 00:00.037s)
2021-07-02 08:45:21,409 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-07-02 08:45:21,459 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.4.32.Final
2021-07-02 08:45:21,591 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-07-02 08:45:21,729 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-07-02 08:45:22,193 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-07-02 08:45:22,202 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 08:45:22,604 INFO org.eclipse.jetty.util.log.Log [main] Logging initialized @4623ms to org.eclipse.jetty.util.log.Slf4jLog
2021-07-02 08:45:22,732 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-07-02 08:45:22,962 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [main] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2021-07-02 08:45:24,008 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2021-07-02 08:45:24,009 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2021-07-02 08:45:24,015 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 14 endpoint(s) beneath base path ''
2021-07-02 08:45:24,040 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 31 ms
2021-07-02 08:45:24,075 INFO org.springframework.boot.StartupInfoLogger [main] Started TransferControllerTest in 4.873 seconds (JVM running for 6.095)
2021-07-02 08:45:24,301 INFO com.payment.api.TransferController [main] validating transfer request 5e2aa52f-0fd7-4466-9191-bdb6869e7fed
2021-07-02 08:45:24,301 INFO com.payment.api.TransferController [main] completed request validation successfully for 5e2aa52f-0fd7-4466-9191-bdb6869e7fed
2021-07-02 08:45:24,301 INFO com.payment.api.TransferController [main] processing transfer: 5e2aa52f-0fd7-4466-9191-bdb6869e7fed
2021-07-02 08:45:24,304 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findCustomerAccountByAccountNumberAndAccountType]: This method is not transactional.
2021-07-02 08:45:24,429 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByCustomerAccountId]: This method is not transactional.
2021-07-02 08:45:24,435 ERROR com.payment.configuration.ErrorManagementConfiguration [main] Insufficient funds
2021-07-02 08:45:24,483 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringContextShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 08:45:24,486 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown initiated...
2021-07-02 08:45:24,490 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown completed.
2021-07-02 08:56:14,043 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.payment.api.AccountControllerTest], using SpringBootContextLoader
2021-07-02 08:56:14,049 INFO org.springframework.test.context.support.AbstractContextLoader [main] Could not detect default resource locations for test class [com.payment.api.AccountControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2021-07-02 08:56:14,050 INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.payment.api.AccountControllerTest]: AccountControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2021-07-02 08:56:14,180 INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.payment.PaymentApplicationService for test class com.payment.api.AccountControllerTest
2021-07-02 08:56:14,274 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2021-07-02 08:56:14,291 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@63fd4873, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1e11bc55, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@7544a1e4, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@70e0accd, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@7957dc72, org.springframework.test.context.support.DirtiesContextTestExecutionListener@6ab72419, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3aacf32a, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@4fdfa676, org.springframework.test.context.event.EventPublishingTestExecutionListener@82c57b3, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@5be82d43, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@600b0b7, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@345e5a17, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@5ea502e0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@443dbe42, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@473b3b7a]
2021-07-02 08:56:14,591 WARN org.springframework.boot.ImageBanner [main] Image banner not printable: class path resource [banner.txt] (class java.lang.IllegalStateException: 'Unable to read image banner source')
2021-07-02 08:56:14,664 INFO org.springframework.boot.StartupInfoLogger [main] Starting AccountControllerTest using Java 11.0.2 on adeolas-MacBook-Pro.local with PID 59421 (started by adeolaojo in /Users/adeolaojo/Code/payment-transfer-service)
2021-07-02 08:56:14,666 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2021-07-02 08:56:15,579 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-07-02 08:56:15,641 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 53 ms. Found 2 JPA repository interfaces.
2021-07-02 08:56:15,738 INFO org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor [main] Replacing 'dataSource' DataSource bean with embedded version
2021-07-02 08:56:16,154 INFO org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseFactory [main] Starting embedded database: url='jdbc:h2:mem:69d44326-35ee-44c6-bf06-5bfe0940a9d8;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2021-07-02 08:56:16,427 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Flyway Community Edition 7.10.0 by Redgate
2021-07-02 08:56:16,478 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Database: jdbc:h2:mem:69d44326-35ee-44c6-bf06-5bfe0940a9d8 (H2 1.4)
2021-07-02 08:56:16,560 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully validated 1 migration (execution time 00:00.029s)
2021-07-02 08:56:16,583 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2021-07-02 08:56:16,666 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Current version of schema "PUBLIC": << Empty Schema >>
2021-07-02 08:56:16,678 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Migrating schema "PUBLIC" to version "1.1.0 - init migration"
2021-07-02 08:56:16,724 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully applied 1 migration to schema "PUBLIC", now at version v1.1.0 (execution time 00:00.068s)
2021-07-02 08:56:16,935 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-07-02 08:56:17,056 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.4.32.Final
2021-07-02 08:56:17,393 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-07-02 08:56:17,704 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-07-02 08:56:18,463 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-07-02 08:56:18,476 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 08:56:19,031 INFO org.eclipse.jetty.util.log.Log [main] Logging initialized @5807ms to org.eclipse.jetty.util.log.Slf4jLog
2021-07-02 08:56:19,204 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-07-02 08:56:19,506 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [main] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:69d44326-35ee-44c6-bf06-5bfe0940a9d8'
2021-07-02 08:56:20,741 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2021-07-02 08:56:20,742 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2021-07-02 08:56:20,751 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 14 endpoint(s) beneath base path ''
2021-07-02 08:56:20,779 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 35 ms
2021-07-02 08:56:20,819 INFO org.springframework.boot.StartupInfoLogger [main] Started AccountControllerTest in 6.497 seconds (JVM running for 7.596)
2021-07-02 08:56:20,844 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 08:56:20,880 WARN org.springframework.boot.ImageBanner [main] Image banner not printable: class path resource [banner.txt] (class java.lang.IllegalStateException: 'Unable to read image banner source')
2021-07-02 08:56:20,883 INFO org.springframework.boot.StartupInfoLogger [main] Starting AccountControllerTest using Java 11.0.2 on adeolas-MacBook-Pro.local with PID 59421 (started by adeolaojo in /Users/adeolaojo/Code/payment-transfer-service)
2021-07-02 08:56:20,884 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2021-07-02 08:56:21,193 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-07-02 08:56:21,205 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 11 ms. Found 2 JPA repository interfaces.
2021-07-02 08:56:21,222 INFO org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor [main] Replacing 'dataSource' DataSource bean with embedded version
2021-07-02 08:56:21,295 INFO org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseFactory [main] Starting embedded database: url='jdbc:h2:mem:8c4361e8-6d37-4e9e-a1a1-6827f33ee2dc;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2021-07-02 08:56:21,306 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Flyway Community Edition 7.10.0 by Redgate
2021-07-02 08:56:21,308 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Database: jdbc:h2:mem:8c4361e8-6d37-4e9e-a1a1-6827f33ee2dc (H2 1.4)
2021-07-02 08:56:21,316 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully validated 1 migration (execution time 00:00.005s)
2021-07-02 08:56:21,324 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2021-07-02 08:56:21,351 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Current version of schema "PUBLIC": << Empty Schema >>
2021-07-02 08:56:21,357 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Migrating schema "PUBLIC" to version "1.1.0 - init migration"
2021-07-02 08:56:21,382 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully applied 1 migration to schema "PUBLIC", now at version v1.1.0 (execution time 00:00.048s)
2021-07-02 08:56:21,420 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-07-02 08:56:21,426 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-07-02 08:56:21,471 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-07-02 08:56:21,472 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 08:56:21,713 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-07-02 08:56:21,826 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [main] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:8c4361e8-6d37-4e9e-a1a1-6827f33ee2dc'
2021-07-02 08:56:22,531 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2021-07-02 08:56:22,531 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2021-07-02 08:56:22,536 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 14 endpoint(s) beneath base path ''
2021-07-02 08:56:22,556 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 24 ms
2021-07-02 08:56:22,575 INFO org.springframework.boot.StartupInfoLogger [main] Started AccountControllerTest in 1.726 seconds (JVM running for 9.351)
2021-07-02 08:56:22,723 ERROR com.payment.configuration.ErrorManagementConfiguration [main] invalid account number
2021-07-02 08:56:22,797 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 08:56:22,819 WARN org.springframework.boot.ImageBanner [main] Image banner not printable: class path resource [banner.txt] (class java.lang.IllegalStateException: 'Unable to read image banner source')
2021-07-02 08:56:22,823 INFO org.springframework.boot.StartupInfoLogger [main] Starting AccountControllerTest using Java 11.0.2 on adeolas-MacBook-Pro.local with PID 59421 (started by adeolaojo in /Users/adeolaojo/Code/payment-transfer-service)
2021-07-02 08:56:22,824 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2021-07-02 08:56:23,066 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-07-02 08:56:23,076 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 9 ms. Found 2 JPA repository interfaces.
2021-07-02 08:56:23,092 INFO org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor [main] Replacing 'dataSource' DataSource bean with embedded version
2021-07-02 08:56:23,153 INFO org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseFactory [main] Starting embedded database: url='jdbc:h2:mem:bb3cd033-ed74-4f8a-9137-f7d36fc72f02;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2021-07-02 08:56:23,162 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Flyway Community Edition 7.10.0 by Redgate
2021-07-02 08:56:23,163 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Database: jdbc:h2:mem:bb3cd033-ed74-4f8a-9137-f7d36fc72f02 (H2 1.4)
2021-07-02 08:56:23,169 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully validated 1 migration (execution time 00:00.003s)
2021-07-02 08:56:23,174 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2021-07-02 08:56:23,184 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Current version of schema "PUBLIC": << Empty Schema >>
2021-07-02 08:56:23,189 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Migrating schema "PUBLIC" to version "1.1.0 - init migration"
2021-07-02 08:56:23,205 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully applied 1 migration to schema "PUBLIC", now at version v1.1.0 (execution time 00:00.023s)
2021-07-02 08:56:23,230 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-07-02 08:56:23,234 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-07-02 08:56:23,269 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-07-02 08:56:23,269 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 08:56:23,416 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-07-02 08:56:23,501 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [main] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:bb3cd033-ed74-4f8a-9137-f7d36fc72f02'
2021-07-02 08:56:23,942 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2021-07-02 08:56:23,943 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2021-07-02 08:56:23,947 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 14 endpoint(s) beneath base path ''
2021-07-02 08:56:23,963 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 20 ms
2021-07-02 08:56:23,980 INFO org.springframework.boot.StartupInfoLogger [main] Started AccountControllerTest in 1.18 seconds (JVM running for 10.757)
2021-07-02 08:56:23,988 ERROR com.payment.configuration.ErrorManagementConfiguration [main] invalid account type, ensure either current or savings type
2021-07-02 08:56:23,996 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 08:56:24,017 WARN org.springframework.boot.ImageBanner [main] Image banner not printable: class path resource [banner.txt] (class java.lang.IllegalStateException: 'Unable to read image banner source')
2021-07-02 08:56:24,020 INFO org.springframework.boot.StartupInfoLogger [main] Starting AccountControllerTest using Java 11.0.2 on adeolas-MacBook-Pro.local with PID 59421 (started by adeolaojo in /Users/adeolaojo/Code/payment-transfer-service)
2021-07-02 08:56:24,021 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2021-07-02 08:56:24,234 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-07-02 08:56:24,244 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 9 ms. Found 2 JPA repository interfaces.
2021-07-02 08:56:24,257 INFO org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor [main] Replacing 'dataSource' DataSource bean with embedded version
2021-07-02 08:56:24,315 INFO org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseFactory [main] Starting embedded database: url='jdbc:h2:mem:e66f9220-2864-4146-bd14-59f13d7bf8a1;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2021-07-02 08:56:24,324 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Flyway Community Edition 7.10.0 by Redgate
2021-07-02 08:56:24,325 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Database: jdbc:h2:mem:e66f9220-2864-4146-bd14-59f13d7bf8a1 (H2 1.4)
2021-07-02 08:56:24,330 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully validated 1 migration (execution time 00:00.002s)
2021-07-02 08:56:24,334 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2021-07-02 08:56:24,343 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Current version of schema "PUBLIC": << Empty Schema >>
2021-07-02 08:56:24,346 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Migrating schema "PUBLIC" to version "1.1.0 - init migration"
2021-07-02 08:56:24,358 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully applied 1 migration to schema "PUBLIC", now at version v1.1.0 (execution time 00:00.017s)
2021-07-02 08:56:24,380 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-07-02 08:56:24,384 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-07-02 08:56:24,414 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-07-02 08:56:24,415 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 08:56:24,549 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-07-02 08:56:24,637 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [main] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:e66f9220-2864-4146-bd14-59f13d7bf8a1'
2021-07-02 08:56:25,136 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2021-07-02 08:56:25,136 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2021-07-02 08:56:25,141 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 14 endpoint(s) beneath base path ''
2021-07-02 08:56:25,158 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 21 ms
2021-07-02 08:56:25,177 INFO org.springframework.boot.StartupInfoLogger [main] Started AccountControllerTest in 1.179 seconds (JVM running for 11.954)
2021-07-02 08:56:25,184 INFO com.payment.api.AccountController [main] fetching account information for 1000000011:savings
2021-07-02 08:56:25,187 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findCustomerAccountByAccountNumberAndAccountType]: This method is not transactional.
2021-07-02 08:56:25,333 ERROR com.payment.configuration.ErrorManagementConfiguration [main] Account not found, please check senders account number or account type
2021-07-02 08:56:25,340 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 08:56:25,360 WARN org.springframework.boot.ImageBanner [main] Image banner not printable: class path resource [banner.txt] (class java.lang.IllegalStateException: 'Unable to read image banner source')
2021-07-02 08:56:25,363 INFO org.springframework.boot.StartupInfoLogger [main] Starting AccountControllerTest using Java 11.0.2 on adeolas-MacBook-Pro.local with PID 59421 (started by adeolaojo in /Users/adeolaojo/Code/payment-transfer-service)
2021-07-02 08:56:25,364 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2021-07-02 08:56:25,572 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-07-02 08:56:25,588 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 16 ms. Found 2 JPA repository interfaces.
2021-07-02 08:56:25,603 INFO org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor [main] Replacing 'dataSource' DataSource bean with embedded version
2021-07-02 08:56:25,682 INFO org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseFactory [main] Starting embedded database: url='jdbc:h2:mem:c13fad56-7bbf-4d95-ae55-c78d155dad35;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2021-07-02 08:56:25,700 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Flyway Community Edition 7.10.0 by Redgate
2021-07-02 08:56:25,703 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Database: jdbc:h2:mem:c13fad56-7bbf-4d95-ae55-c78d155dad35 (H2 1.4)
2021-07-02 08:56:25,712 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully validated 1 migration (execution time 00:00.003s)
2021-07-02 08:56:25,718 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2021-07-02 08:56:25,733 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Current version of schema "PUBLIC": << Empty Schema >>
2021-07-02 08:56:25,738 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Migrating schema "PUBLIC" to version "1.1.0 - init migration"
2021-07-02 08:56:25,763 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully applied 1 migration to schema "PUBLIC", now at version v1.1.0 (execution time 00:00.035s)
2021-07-02 08:56:25,808 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-07-02 08:56:25,815 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-07-02 08:56:25,858 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-07-02 08:56:25,859 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 08:56:26,057 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-07-02 08:56:26,181 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [main] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:c13fad56-7bbf-4d95-ae55-c78d155dad35'
2021-07-02 08:56:26,887 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2021-07-02 08:56:26,888 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2021-07-02 08:56:26,897 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 14 endpoint(s) beneath base path ''
2021-07-02 08:56:26,929 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 41 ms
2021-07-02 08:56:26,962 INFO org.springframework.boot.StartupInfoLogger [main] Started AccountControllerTest in 1.62 seconds (JVM running for 13.739)
2021-07-02 08:56:26,975 INFO com.payment.api.AccountController [main] fetching account information for 1000000011:current
2021-07-02 08:56:26,976 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findCustomerAccountByAccountNumberAndAccountType]: This method is not transactional.
2021-07-02 08:56:27,003 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByCustomerAccountId]: This method is not transactional.
2021-07-02 08:56:27,035 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.payment.api.TransferControllerTest], using SpringBootContextLoader
2021-07-02 08:56:27,037 INFO org.springframework.test.context.support.AbstractContextLoader [main] Could not detect default resource locations for test class [com.payment.api.TransferControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2021-07-02 08:56:27,038 INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.payment.api.TransferControllerTest]: TransferControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2021-07-02 08:56:27,042 INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.payment.PaymentApplicationService for test class com.payment.api.TransferControllerTest
2021-07-02 08:56:27,044 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2021-07-02 08:56:27,045 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@33dc36d5, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3afca969, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@3c744de9, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@70efd6cf, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@22d72c99, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7d3f7e4b, org.springframework.test.context.transaction.TransactionalTestExecutionListener@633a6f00, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6d6d9406, org.springframework.test.context.event.EventPublishingTestExecutionListener@7645ced6, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@700e3b73, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@40fc181d, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@413069a0, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@19db3c2e, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@180f49c5, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@38138629]
2021-07-02 08:56:27,074 WARN org.springframework.boot.ImageBanner [main] Image banner not printable: class path resource [banner.txt] (class java.lang.IllegalStateException: 'Unable to read image banner source')
2021-07-02 08:56:27,078 INFO org.springframework.boot.StartupInfoLogger [main] Starting TransferControllerTest using Java 11.0.2 on adeolas-MacBook-Pro.local with PID 59421 (started by adeolaojo in /Users/adeolaojo/Code/payment-transfer-service)
2021-07-02 08:56:27,080 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2021-07-02 08:56:27,445 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-07-02 08:56:27,464 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 17 ms. Found 2 JPA repository interfaces.
2021-07-02 08:56:27,652 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Flyway Community Edition 7.10.0 by Redgate
2021-07-02 08:56:27,654 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2021-07-02 08:56:27,676 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2021-07-02 08:56:27,687 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Database: jdbc:h2:mem:testdb (H2 1.4)
2021-07-02 08:56:27,705 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully validated 1 migration (execution time 00:00.004s)
2021-07-02 08:56:27,711 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2021-07-02 08:56:27,729 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Current version of schema "PUBLIC": << Empty Schema >>
2021-07-02 08:56:27,734 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Migrating schema "PUBLIC" to version "1.1.0 - init migration"
2021-07-02 08:56:27,756 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully applied 1 migration to schema "PUBLIC", now at version v1.1.0 (execution time 00:00.031s)
2021-07-02 08:56:27,812 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-07-02 08:56:27,819 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-07-02 08:56:27,864 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-07-02 08:56:27,865 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 08:56:28,080 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-07-02 08:56:28,228 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [main] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2021-07-02 08:56:28,846 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2021-07-02 08:56:28,847 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2021-07-02 08:56:28,851 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 14 endpoint(s) beneath base path ''
2021-07-02 08:56:28,873 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 26 ms
2021-07-02 08:56:28,894 INFO org.springframework.boot.StartupInfoLogger [main] Started TransferControllerTest in 1.845 seconds (JVM running for 15.67)
2021-07-02 08:56:28,956 INFO com.payment.api.TransferController [main] validating transfer request b2fbf55b-69a0-40ea-bd83-b46c8793e01a
2021-07-02 08:56:28,957 INFO com.payment.api.TransferController [main] completed request validation successfully for b2fbf55b-69a0-40ea-bd83-b46c8793e01a
2021-07-02 08:56:28,957 INFO com.payment.api.TransferController [main] processing transfer: b2fbf55b-69a0-40ea-bd83-b46c8793e01a
2021-07-02 08:56:28,958 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findCustomerAccountByAccountNumberAndAccountType]: This method is not transactional.
2021-07-02 08:56:28,963 ERROR com.payment.configuration.ErrorManagementConfiguration [main] Account 10000000112 with type current not found
2021-07-02 08:56:28,973 INFO com.payment.api.TransferController [main] validating transfer request 3c81b3b8-114f-45ed-835f-c13521304eae
2021-07-02 08:56:28,973 INFO com.payment.api.TransferController [main] completed request validation successfully for 3c81b3b8-114f-45ed-835f-c13521304eae
2021-07-02 08:56:28,974 INFO com.payment.api.TransferController [main] processing transfer: 3c81b3b8-114f-45ed-835f-c13521304eae
2021-07-02 08:56:28,974 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findCustomerAccountByAccountNumberAndAccountType]: This method is not transactional.
2021-07-02 08:56:28,976 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByCustomerAccountId]: This method is not transactional.
2021-07-02 08:56:28,980 ERROR com.payment.configuration.ErrorManagementConfiguration [main] Insufficient funds
2021-07-02 08:56:28,987 INFO com.payment.api.TransferController [main] validating transfer request 12163930-b080-4699-b887-a87f2b7d5f02
2021-07-02 08:56:28,987 INFO com.payment.api.TransferController [main] completed request validation successfully for 12163930-b080-4699-b887-a87f2b7d5f02
2021-07-02 08:56:28,988 INFO com.payment.api.TransferController [main] processing transfer: 12163930-b080-4699-b887-a87f2b7d5f02
2021-07-02 08:56:28,989 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findCustomerAccountByAccountNumberAndAccountType]: This method is not transactional.
2021-07-02 08:56:28,991 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByCustomerAccountId]: This method is not transactional.
2021-07-02 08:56:29,004 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2021-07-02 08:56:29,033 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2021-07-02 08:56:29,040 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByCustomerAccountId]: This method is not transactional.
2021-07-02 08:56:29,042 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2021-07-02 08:56:29,047 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2021-07-02 08:56:29,062 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.payment.api.E2ETransferControllerTest], using SpringBootContextLoader
2021-07-02 08:56:29,063 INFO org.springframework.test.context.support.AbstractContextLoader [main] Could not detect default resource locations for test class [com.payment.api.E2ETransferControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2021-07-02 08:56:29,064 INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.payment.api.E2ETransferControllerTest]: E2ETransferControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2021-07-02 08:56:29,067 INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.payment.PaymentApplicationService for test class com.payment.api.E2ETransferControllerTest
2021-07-02 08:56:29,069 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2021-07-02 08:56:29,070 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [main] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@75d64dc4, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@16795459, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@3c16cd6c, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@5b022899, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@1cfde650, org.springframework.test.context.support.DirtiesContextTestExecutionListener@40fab20a, org.springframework.test.context.transaction.TransactionalTestExecutionListener@4a8d6ad4, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1c5fc, org.springframework.test.context.event.EventPublishingTestExecutionListener@73bd7cca, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@6642ea55, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@47b8f783, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@4918f4ad, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@515b9a68, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@203ad254, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@20be2d3f]
2021-07-02 08:56:29,075 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 08:56:29,104 WARN org.springframework.boot.ImageBanner [main] Image banner not printable: class path resource [banner.txt] (class java.lang.IllegalStateException: 'Unable to read image banner source')
2021-07-02 08:56:29,107 INFO org.springframework.boot.StartupInfoLogger [main] Starting E2ETransferControllerTest using Java 11.0.2 on adeolas-MacBook-Pro.local with PID 59421 (started by adeolaojo in /Users/adeolaojo/Code/payment-transfer-service)
2021-07-02 08:56:29,108 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2021-07-02 08:56:29,290 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-07-02 08:56:29,303 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 11 ms. Found 2 JPA repository interfaces.
2021-07-02 08:56:29,316 INFO org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor [main] Replacing 'dataSource' DataSource bean with embedded version
2021-07-02 08:56:29,372 INFO org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseFactory [main] Starting embedded database: url='jdbc:h2:mem:bb12e036-8f60-4b2b-bc47-f3a60af434b8;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2021-07-02 08:56:29,380 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Flyway Community Edition 7.10.0 by Redgate
2021-07-02 08:56:29,382 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Database: jdbc:h2:mem:bb12e036-8f60-4b2b-bc47-f3a60af434b8 (H2 1.4)
2021-07-02 08:56:29,385 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully validated 1 migration (execution time 00:00.001s)
2021-07-02 08:56:29,388 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2021-07-02 08:56:29,397 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Current version of schema "PUBLIC": << Empty Schema >>
2021-07-02 08:56:29,399 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Migrating schema "PUBLIC" to version "1.1.0 - init migration"
2021-07-02 08:56:29,413 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully applied 1 migration to schema "PUBLIC", now at version v1.1.0 (execution time 00:00.018s)
2021-07-02 08:56:29,435 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-07-02 08:56:29,439 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-07-02 08:56:29,463 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-07-02 08:56:29,464 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 08:56:29,594 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-07-02 08:56:29,679 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [main] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:bb12e036-8f60-4b2b-bc47-f3a60af434b8'
2021-07-02 08:56:30,124 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2021-07-02 08:56:30,125 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2021-07-02 08:56:30,132 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 14 endpoint(s) beneath base path ''
2021-07-02 08:56:30,156 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 30 ms
2021-07-02 08:56:30,174 INFO org.springframework.boot.StartupInfoLogger [main] Started E2ETransferControllerTest in 1.097 seconds (JVM running for 16.951)
2021-07-02 08:56:30,186 INFO com.payment.api.AccountController [main] fetching account information for 1000000011:current
2021-07-02 08:56:30,187 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findCustomerAccountByAccountNumberAndAccountType]: This method is not transactional.
2021-07-02 08:56:30,192 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByCustomerAccountId]: This method is not transactional.
2021-07-02 08:56:30,204 INFO com.payment.api.TransferController [main] validating transfer request da3f01de-5f6e-433a-89c2-20a42a939af8
2021-07-02 08:56:30,205 INFO com.payment.api.TransferController [main] completed request validation successfully for da3f01de-5f6e-433a-89c2-20a42a939af8
2021-07-02 08:56:30,205 INFO com.payment.api.TransferController [main] processing transfer: da3f01de-5f6e-433a-89c2-20a42a939af8
2021-07-02 08:56:30,206 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findCustomerAccountByAccountNumberAndAccountType]: This method is not transactional.
2021-07-02 08:56:30,209 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByCustomerAccountId]: This method is not transactional.
2021-07-02 08:56:30,212 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2021-07-02 08:56:30,215 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2021-07-02 08:56:30,217 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByCustomerAccountId]: This method is not transactional.
2021-07-02 08:56:30,219 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2021-07-02 08:56:30,222 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2021-07-02 08:56:30,227 INFO com.payment.api.AccountController [main] fetching account information for 1000000011:current
2021-07-02 08:56:30,228 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findCustomerAccountByAccountNumberAndAccountType]: This method is not transactional.
2021-07-02 08:56:30,231 TRACE org.springframework.transaction.interceptor.TransactionAspectSupport [main] No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByCustomerAccountId]: This method is not transactional.
2021-07-02 08:56:30,465 INFO com.payment.domain.service.AccountServiceTest [main] startup
2021-07-02 08:56:30,495 INFO com.payment.domain.service.AccountServiceTest [main] startup
2021-07-02 08:56:30,510 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringContextShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 08:56:30,510 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringContextShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 08:56:30,512 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown initiated...
2021-07-02 08:56:30,516 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown completed.
2021-07-02 08:56:34,455 WARN org.springframework.boot.ImageBanner [main] Image banner not printable: class path resource [banner.txt] (class java.lang.IllegalStateException: 'Unable to read image banner source')
2021-07-02 08:56:34,639 INFO org.springframework.boot.StartupInfoLogger [main] Starting PaymentApplicationService v1.0-SNAPSHOT using Java 11.0.2 on adeolas-MacBook-Pro.local with PID 60130 (/Users/adeolaojo/Code/payment-transfer-service/target/payment-transfer-service.jar started by adeolaojo in /Users/adeolaojo/Code/payment-transfer-service)
2021-07-02 08:56:34,640 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2021-07-02 08:56:36,206 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-07-02 08:56:36,295 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 77 ms. Found 2 JPA repository interfaces.
2021-07-02 08:56:36,877 INFO org.eclipse.jetty.util.log.Log [main] Logging initialized @4599ms to org.eclipse.jetty.util.log.Slf4jLog
2021-07-02 08:56:37,048 INFO org.springframework.boot.web.embedded.jetty.JettyServletWebServerFactory [main] Server initialized with port: 40000
2021-07-02 08:56:37,052 INFO org.eclipse.jetty.server.Server [main] jetty-9.4.42.v20210604; built: 2021-06-04T17:33:38.939Z; git: 5cd5e6d2375eeab146813b0de9f19eda6ab6e6cb; jvm 11.0.2+9
2021-07-02 08:56:37,082 INFO org.eclipse.jetty.server.handler.ContextHandler$Context [main] Initializing Spring embedded WebApplicationContext
2021-07-02 08:56:37,082 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 2345 ms
2021-07-02 08:56:37,326 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2021-07-02 08:56:37,604 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2021-07-02 08:56:37,612 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [main] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2021-07-02 08:56:37,765 INFO org.eclipse.jetty.server.session.DefaultSessionIdManager [main] DefaultSessionIdManager workerName=node0
2021-07-02 08:56:37,766 INFO org.eclipse.jetty.server.session.DefaultSessionIdManager [main] No SessionScavenger set, using defaults
2021-07-02 08:56:37,767 INFO org.eclipse.jetty.server.session.HouseKeeper [main] node0 Scavenging every 600000ms
2021-07-02 08:56:37,776 INFO org.eclipse.jetty.server.handler.ContextHandler [main] Started o.s.b.w.e.j.JettyEmbeddedWebAppContext@4390f46e{application,/,[file:///private/var/folders/v1/jx0yrry91790zfbpl3b79_r40000gn/T/jetty-docbase.40000.289210407266080811/, jar:file:/Users/adeolaojo/Code/payment-transfer-service/target/payment-transfer-service.jar!/BOOT-INF/lib/swagger-ui-3.25.0.jar!/META-INF/resources],AVAILABLE}
2021-07-02 08:56:37,777 INFO org.eclipse.jetty.server.Server [main] Started @5500ms
2021-07-02 08:56:37,859 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Flyway Community Edition 7.10.0 by Redgate
2021-07-02 08:56:37,915 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Database: jdbc:h2:mem:testdb (H2 1.4)
2021-07-02 08:56:37,997 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully validated 1 migration (execution time 00:00.026s)
2021-07-02 08:56:38,011 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2021-07-02 08:56:38,056 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Current version of schema "PUBLIC": << Empty Schema >>
2021-07-02 08:56:38,065 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Migrating schema "PUBLIC" to version "1.1.0 - init migration"
2021-07-02 08:56:38,097 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully applied 1 migration to schema "PUBLIC", now at version v1.1.0 (execution time 00:00.047s)
2021-07-02 08:56:38,225 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-07-02 08:56:38,311 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.4.32.Final
2021-07-02 08:56:38,545 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-07-02 08:56:38,713 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-07-02 08:56:39,285 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-07-02 08:56:39,294 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 08:56:39,785 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-07-02 08:56:40,988 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 15 endpoint(s) beneath base path ''
2021-07-02 08:56:41,053 INFO org.eclipse.jetty.server.handler.ContextHandler$Context [main] Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-07-02 08:56:41,054 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet 'dispatcherServlet'
2021-07-02 08:56:41,056 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 1 ms
2021-07-02 08:56:41,133 INFO org.eclipse.jetty.server.AbstractConnector [main] Started ServerConnector@304a9d7b{HTTP/1.1, (http/1.1)}{0.0.0.0:40000}
2021-07-02 08:56:41,135 INFO org.springframework.boot.web.embedded.jetty.JettyWebServer [main] Jetty started on port(s) 40000 (http/1.1) with context path '/'
2021-07-02 08:56:41,156 INFO org.springframework.boot.StartupInfoLogger [main] Started PaymentApplicationService in 7.559 seconds (JVM running for 8.879)
2021-07-02 08:58:00,995 INFO org.eclipse.jetty.server.AbstractConnector [SpringContextShutdownHook] Stopped ServerConnector@304a9d7b{HTTP/1.1, (http/1.1)}{0.0.0.0:40000}
2021-07-02 08:58:00,996 INFO org.eclipse.jetty.server.session.HouseKeeper [SpringContextShutdownHook] node0 Stopped scavenging
2021-07-02 08:58:00,999 INFO org.eclipse.jetty.server.handler.ContextHandler$Context [SpringContextShutdownHook] Destroying Spring FrameworkServlet 'dispatcherServlet'
2021-07-02 08:58:01,000 INFO org.eclipse.jetty.server.handler.ContextHandler [SpringContextShutdownHook] Stopped o.s.b.w.e.j.JettyEmbeddedWebAppContext@4390f46e{application,/,[file:///private/var/folders/v1/jx0yrry91790zfbpl3b79_r40000gn/T/jetty-docbase.40000.289210407266080811/, jar:file:/Users/adeolaojo/Code/payment-transfer-service/target/payment-transfer-service.jar!/BOOT-INF/lib/swagger-ui-3.25.0.jar!/META-INF/resources],STOPPED}
2021-07-02 08:58:01,003 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringContextShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-07-02 08:58:01,007 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown initiated...
2021-07-02 08:58:01,010 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown completed.
